(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var vf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function qE(){if(Wp)return Ul;Wp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var ty;function HE(){return ty||(ty=1,vf.exports=qE()),vf.exports}var T=HE(),Ef={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function GE(){if(ey)return xt;ey=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function D(I){return I===null||typeof I!="object"?null:(I=N&&I[N]||I["@@iterator"],typeof I=="function"?I:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,at={};function W(I,K,rt){this.props=I,this.context=K,this.refs=at,this.updater=rt||G}W.prototype.isReactComponent={},W.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},W.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function bt(){}bt.prototype=W.prototype;function F(I,K,rt){this.props=I,this.context=K,this.refs=at,this.updater=rt||G}var J=F.prototype=new bt;J.constructor=F,tt(J,W.prototype),J.isPureReactComponent=!0;var vt=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function M(I,K,rt,et,ft,St){return rt=St.ref,{$$typeof:a,type:I,key:K,ref:rt!==void 0?rt:null,props:St}}function S(I,K){return M(I.type,K,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function j(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(rt){return K[rt]})}var R=/\/+/g;function V(I,K){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):K.toString(36)}function x(){}function ie(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(x,x):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Wt(I,K,rt,et,ft){var St=typeof I;(St==="undefined"||St==="boolean")&&(I=null);var yt=!1;if(I===null)yt=!0;else switch(St){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(I.$$typeof){case a:case e:yt=!0;break;case A:return yt=I._init,Wt(yt(I._payload),K,rt,et,ft)}}if(yt)return ft=ft(I),yt=et===""?"."+V(I,0):et,vt(ft)?(rt="",yt!=null&&(rt=yt.replace(R,"$&/")+"/"),Wt(ft,K,rt,"",function(fn){return fn})):ft!=null&&(C(ft)&&(ft=S(ft,rt+(ft.key==null||I&&I.key===ft.key?"":(""+ft.key).replace(R,"$&/")+"/")+yt)),K.push(ft)),1;yt=0;var de=et===""?".":et+":";if(vt(I))for(var Qt=0;Qt<I.length;Qt++)et=I[Qt],St=de+V(et,Qt),yt+=Wt(et,K,rt,St,ft);else if(Qt=D(I),typeof Qt=="function")for(I=Qt.call(I),Qt=0;!(et=I.next()).done;)et=et.value,St=de+V(et,Qt++),yt+=Wt(et,K,rt,St,ft);else if(St==="object"){if(typeof I.then=="function")return Wt(ie(I),K,rt,et,ft);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(I,K,rt){if(I==null)return I;var et=[],ft=0;return Wt(I,et,"","",function(St){return K.call(rt,St,ft++)}),et}function it(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(rt){(I._status===0||I._status===-1)&&(I._status=1,I._result=rt)},function(rt){(I._status===0||I._status===-1)&&(I._status=2,I._result=rt)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var ct=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Nt(){}return xt.Children={map:H,forEach:function(I,K,rt){H(I,function(){K.apply(this,arguments)},rt)},count:function(I){var K=0;return H(I,function(){K++}),K},toArray:function(I){return H(I,function(K){return K})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},xt.Component=W,xt.Fragment=i,xt.Profiler=o,xt.PureComponent=F,xt.StrictMode=s,xt.Suspense=v,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,xt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return st.H.useMemoCache(I)}},xt.cache=function(I){return function(){return I.apply(null,arguments)}},xt.cloneElement=function(I,K,rt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var et=tt({},I.props),ft=I.key,St=void 0;if(K!=null)for(yt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(ft=""+K.key),K)!At.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(et[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)et.children=rt;else if(1<yt){for(var de=Array(yt),Qt=0;Qt<yt;Qt++)de[Qt]=arguments[Qt+2];et.children=de}return M(I.type,ft,void 0,void 0,St,et)},xt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},xt.createElement=function(I,K,rt){var et,ft={},St=null;if(K!=null)for(et in K.key!==void 0&&(St=""+K.key),K)At.call(K,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ft[et]=K[et]);var yt=arguments.length-2;if(yt===1)ft.children=rt;else if(1<yt){for(var de=Array(yt),Qt=0;Qt<yt;Qt++)de[Qt]=arguments[Qt+2];ft.children=de}if(I&&I.defaultProps)for(et in yt=I.defaultProps,yt)ft[et]===void 0&&(ft[et]=yt[et]);return M(I,St,void 0,void 0,null,ft)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(I){return{$$typeof:g,render:I}},xt.isValidElement=C,xt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:it}},xt.memo=function(I,K){return{$$typeof:_,type:I,compare:K===void 0?null:K}},xt.startTransition=function(I){var K=st.T,rt={};st.T=rt;try{var et=I(),ft=st.S;ft!==null&&ft(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Nt,ct)}catch(St){ct(St)}finally{st.T=K}},xt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},xt.use=function(I){return st.H.use(I)},xt.useActionState=function(I,K,rt){return st.H.useActionState(I,K,rt)},xt.useCallback=function(I,K){return st.H.useCallback(I,K)},xt.useContext=function(I){return st.H.useContext(I)},xt.useDebugValue=function(){},xt.useDeferredValue=function(I,K){return st.H.useDeferredValue(I,K)},xt.useEffect=function(I,K,rt){var et=st.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(I,K)},xt.useId=function(){return st.H.useId()},xt.useImperativeHandle=function(I,K,rt){return st.H.useImperativeHandle(I,K,rt)},xt.useInsertionEffect=function(I,K){return st.H.useInsertionEffect(I,K)},xt.useLayoutEffect=function(I,K){return st.H.useLayoutEffect(I,K)},xt.useMemo=function(I,K){return st.H.useMemo(I,K)},xt.useOptimistic=function(I,K){return st.H.useOptimistic(I,K)},xt.useReducer=function(I,K,rt){return st.H.useReducer(I,K,rt)},xt.useRef=function(I){return st.H.useRef(I)},xt.useState=function(I){return st.H.useState(I)},xt.useSyncExternalStore=function(I,K,rt){return st.H.useSyncExternalStore(I,K,rt)},xt.useTransition=function(){return st.H.useTransition()},xt.version="19.1.0",xt}var ny;function id(){return ny||(ny=1,Ef.exports=GE()),Ef.exports}var $t=id(),Tf={exports:{}},Ll={},bf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function QE(){return iy||(iy=1,function(a){function e(H,it){var ct=H.length;H.push(it);t:for(;0<ct;){var Nt=ct-1>>>1,I=H[Nt];if(0<o(I,it))H[Nt]=it,H[ct]=I,ct=Nt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var it=H[0],ct=H.pop();if(ct!==it){H[0]=ct;t:for(var Nt=0,I=H.length,K=I>>>1;Nt<K;){var rt=2*(Nt+1)-1,et=H[rt],ft=rt+1,St=H[ft];if(0>o(et,ct))ft<I&&0>o(St,et)?(H[Nt]=St,H[ft]=ct,Nt=ft):(H[Nt]=et,H[rt]=ct,Nt=rt);else if(ft<I&&0>o(St,ct))H[Nt]=St,H[ft]=ct,Nt=ft;else break t}}return it}function o(H,it){var ct=H.sortIndex-it.sortIndex;return ct!==0?ct:H.id-it.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,N=null,D=3,G=!1,tt=!1,at=!1,W=!1,bt=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var it=i(_);it!==null;){if(it.callback===null)s(_);else if(it.startTime<=H)s(_),it.sortIndex=it.expirationTime,e(v,it);else break;it=i(_)}}function st(H){if(at=!1,vt(H),!tt)if(i(v)!==null)tt=!0,At||(At=!0,V());else{var it=i(_);it!==null&&Wt(st,it.startTime-H)}}var At=!1,M=-1,S=5,C=-1;function j(){return W?!0:!(a.unstable_now()-C<S)}function R(){if(W=!1,At){var H=a.unstable_now();C=H;var it=!0;try{t:{tt=!1,at&&(at=!1,F(M),M=-1),G=!0;var ct=D;try{e:{for(vt(H),N=i(v);N!==null&&!(N.expirationTime>H&&j());){var Nt=N.callback;if(typeof Nt=="function"){N.callback=null,D=N.priorityLevel;var I=Nt(N.expirationTime<=H);if(H=a.unstable_now(),typeof I=="function"){N.callback=I,vt(H),it=!0;break e}N===i(v)&&s(v),vt(H)}else s(v);N=i(v)}if(N!==null)it=!0;else{var K=i(_);K!==null&&Wt(st,K.startTime-H),it=!1}}break t}finally{N=null,D=ct,G=!1}it=void 0}}finally{it?V():At=!1}}}var V;if(typeof J=="function")V=function(){J(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ie=x.port2;x.port1.onmessage=R,V=function(){ie.postMessage(null)}}else V=function(){bt(R,0)};function Wt(H,it){M=bt(function(){H(a.unstable_now())},it)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(H){switch(D){case 1:case 2:case 3:var it=3;break;default:it=D}var ct=D;D=it;try{return H()}finally{D=ct}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=D;D=H;try{return it()}finally{D=ct}},a.unstable_scheduleCallback=function(H,it,ct){var Nt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Nt+ct:Nt):ct=Nt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ct+I,H={id:A++,callback:it,priorityLevel:H,startTime:ct,expirationTime:I,sortIndex:-1},ct>Nt?(H.sortIndex=ct,e(_,H),i(v)===null&&H===i(_)&&(at?(F(M),M=-1):at=!0,Wt(st,ct-Nt))):(H.sortIndex=I,e(v,H),tt||G||(tt=!0,At||(At=!0,V()))),H},a.unstable_shouldYield=j,a.unstable_wrapCallback=function(H){var it=D;return function(){var ct=D;D=it;try{return H.apply(this,arguments)}finally{D=ct}}}}(Af)),Af}var ry;function FE(){return ry||(ry=1,bf.exports=QE()),bf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function YE(){if(ay)return He;ay=1;var a=id();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},He.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},He.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},He.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},He.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,N=g(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:D,fetchPriority:G}):A==="script"&&s.d.X(v,{crossOrigin:N,integrity:D,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},He.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,N=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},He.requestFormReset=function(v){s.d.r(v)},He.unstable_batchedUpdates=function(v,_){return v(_)},He.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var sy;function KE(){if(sy)return Sf.exports;sy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=YE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function XE(){if(ly)return Ll;ly=1;var a=FE(),e=id(),i=KE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),at=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),J=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case W:return"Profiler";case at:return"StrictMode";case st:return"Suspense";case At:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case J:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Wt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Nt=[],I=-1;function K(t){return{current:t}}function rt(t){0>I||(t.current=Nt[I],Nt[I]=null,I--)}function et(t,n){I++,Nt[I]=t.current,t.current=n}var ft=K(null),St=K(null),yt=K(null),de=K(null);function Qt(t,n){switch(et(yt,n),et(St,t),et(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rp(n),t=Cp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(ft),et(ft,t)}function fn(){rt(ft),rt(St),rt(yt)}function Pn(t){t.memoizedState!==null&&et(de,t);var n=ft.current,r=Cp(n,t.type);n!==r&&(et(St,t),et(ft,r))}function Rn(t){St.current===t&&(rt(ft),rt(St)),de.current===t&&(rt(de),Vl._currentValue=ct)}var Er=Object.prototype.hasOwnProperty,Tr=a.unstable_scheduleCallback,br=a.unstable_cancelCallback,Cs=a.unstable_shouldYield,so=a.unstable_requestPaint,dn=a.unstable_now,_c=a.unstable_getCurrentPriorityLevel,Ns=a.unstable_ImmediatePriority,fa=a.unstable_UserBlockingPriority,Ar=a.unstable_NormalPriority,vc=a.unstable_LowPriority,da=a.unstable_IdlePriority,Ds=a.log,lo=a.unstable_setDisableYieldValue,se=null,qt=null;function nn(t){if(typeof Ds=="function"&&lo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var Be=Math.clz32?Math.clz32:Sr,oo=Math.log,Ec=Math.LN2;function Sr(t){return t>>>=0,t===0?32:31-(oo(t)/Ec|0)|0}var xr=256,wr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Rr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Os(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function ai(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ms(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Be(r),X=1<<Q;E[Q]=0,w[Q]=-1;var k=z[Q];if(k!==null)for(z[Q]=null,Q=0;Q<k.length;Q++){var B=k[Q];B!==null&&(B.lane&=-536870913)}r&=~X}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function js(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Be(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Yp(t.type))}function uo(t,n){var r=it.p;try{return it.p=t,n()}finally{it.p=r}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,mn="__reactContainer$"+ee,Us="__reactEvents$"+ee,Tc="__reactListeners$"+ee,Li="__reactHandles$"+ee,co="__reactResources$"+ee,Cr="__reactMarker$"+ee;function Pi(t){delete t[Ee],delete t[me],delete t[Us],delete t[Tc],delete t[Li]}function li(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ip(t);t!==null;){if(r=t[Ee])return r;t=Ip(t)}return n}t=r,r=t.parentNode}return null}function kn(t){if(t=t[Ee]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[co];return n||(n=t[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Cr]=!0}var Ls=new Set,pa={};function Nn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(pa[t]=n,t=0;t<n.length;t++)Ls.add(n[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Nr={};function mo(t){return Er.call(Nr,t)?!0:Er.call(fo,t)?!1:ho.test(t)?Nr[t]=!0:(fo[t]=!0,!1)}function zi(t,n,r){if(mo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Dr,go;function ui(t){if(Dr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",go=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+go}var ya=!1;function _a(t,n){if(!t||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var k=B}Reflect.construct(t,[],X)}else{try{X.call()}catch(B){k=B}t.call(X.prototype)}}else{try{throw Error()}catch(B){k=B}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),z=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===z.length)for(l=w.length-1,c=z.length-1;1<=l&&0<=c&&w[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==z[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ui(r):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return ui("Activity");default:return""}}function va(t){try{var n="";do n+=Ps(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bc(t){var n=zs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ea(t){t._valueTracker||(t._valueTracker=bc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=zs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function ge(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ki(t,y,Ke(n)):r!=null?ki(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Ir(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ki(t,n,r){n==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ft(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Mr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Bs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&po(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&po(t,f,n[f])}function qs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Hs(t){var n=kn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ks(l)}break t;case"textarea":Ft(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Hn=!1;function yo(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(fi!==null||di!==null)&&(cu(),fi&&(n=fi,t=di,di=fi=null,Hs(n),t)))for(n=0;n<t.length;n++)Hs(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Dn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{yn=!1}var Gn=null,Bi=null,mi=null;function Gs(){if(mi)return mi;var t,n=Bi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Qs(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Re(kt),Lr=A({},kt,{view:0,detail:0}),_o=Re(Lr),Aa,Sa,Yn,Pr=A({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Aa=t.screenX-Yn.screenX,Sa=t.screenY-Yn.screenY):Sa=Aa=0,Yn=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),_n=Re(Pr),vo=A({},Pr,{dataTransfer:0}),wc=Re(vo),zr=A({},Lr,{relatedTarget:0}),xa=Re(zr),Fs=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=Re(Fs),Eo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=Re(Eo),Rc=A({},kt,{data:0}),Ys=Re(Rc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bo[t])?!!n[t]:!1}function Br(){return Ks}var Ao=A({},Lr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?To[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Re(Ao),So=A({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Re(So),gi=A({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),xo=Re(gi),wo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=Re(wo),Co=A({},Pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Re(Co),Xe=A({},kt,{newState:0,oldState:0}),No=Re(Xe),Do=[9,13,27,32],Kn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,p=Dn&&(!Kn||u&&8<u&&11>=u),b=" ",L=!1;function q(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Te(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(L=!0,b);case"textInput":return t=n.data,t===b&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Kn&&q(t,n)?(t=Gs(),mi=Bi=Gn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=pu(n,"onChange"),0<n.length&&(r=new ba("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Xn=null;function Zs(t){bp(t,0)}function Vo(t){var n=Bn(t);if(ks(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(Dn){var Cc;if(Dn){var Nc="oninput"in document;if(!Nc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Nc=typeof Qd.oninput=="function"}Cc=Nc}else Cc=!1;Gd=Cc&&(!document.documentMode||9<document.documentMode)}function Fd(){Me&&(Me.detachEvent("onpropertychange",Yd),Xn=Me=null)}function Yd(t){if(t.propertyName==="value"&&Vo(Xn)){var n=[];pi(n,Xn,t,pn(t)),yo(Zs,n)}}function _0(t,n,r){t==="focusin"?(Fd(),Me=n,Xn=r,Me.attachEvent("onpropertychange",Yd)):t==="focusout"&&Fd()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Xn)}function E0(t,n){if(t==="click")return Vo(n)}function T0(t,n){if(t==="input"||t==="change")return Vo(n)}function b0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:b0;function $s(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Er.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,n){var r=Kd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Kd(r)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $d(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vr(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var A0=Dn&&"documentMode"in document&&11>=document.documentMode,Da=null,Vc=null,Js=null,Ic=!1;function Jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ic||Da==null||Da!==Vr(l)||(l=Da,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Js&&$s(Js,l)||(Js=l,l=pu(Vc,"onSelect"),0<l.length&&(n=new ba("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Oc={},Wd={};Dn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Hr(t){if(Oc[t])return Oc[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wd)return Oc[t]=n[r];return t}var tm=Hr("animationend"),em=Hr("animationiteration"),nm=Hr("animationstart"),S0=Hr("transitionrun"),x0=Hr("transitionstart"),w0=Hr("transitioncancel"),im=Hr("transitionend"),rm=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Vn(t,n){rm.set(t,n),Nn(n,[t])}var am=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var r=am.get(t);return r!==void 0?r:(n={value:t,source:n,stack:va(n)},am.set(t,n),n)}return{value:t,source:n,stack:va(n)}}var En=[],Ia=0,jc=0;function Io(){for(var t=Ia,n=jc=Ia=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&sm(r,c,f)}}function Oo(t,n,r,l){En[Ia++]=t,En[Ia++]=n,En[Ia++]=r,En[Ia++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return Oo(t,n,r,l),Mo(t)}function Oa(t,n){return Oo(t,null,null,n),Mo(t)}function sm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Mo(t){if(50<Al)throw Al=0,qh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function R0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new R0(t,n,r,l)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function lm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Lc(t)&&(y=1);else if(typeof t=="string")y=NE(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=sn(31,r,n,c),t.elementType=C,t.lanes=f,t;case tt:return Gr(r.children,c,f,n);case at:y=8,c|=24;break;case W:return t=sn(12,r,n,c|2),t.elementType=W,t.lanes=f,t;case st:return t=sn(13,r,n,c),t.elementType=st,t.lanes=f,t;case At:return t=sn(19,r,n,c),t.elementType=At,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case J:y=10;break t;case F:y=9;break t;case vt:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Pc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function zc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ja=[],Ua=0,Uo=null,Lo=0,Tn=[],bn=0,Qr=null,_i=1,vi="";function Fr(t,n){ja[Ua++]=Lo,ja[Ua++]=Uo,Uo=t,Lo=n}function om(t,n,r){Tn[bn++]=_i,Tn[bn++]=vi,Tn[bn++]=Qr,Qr=t;var l=_i;t=vi;var c=32-Be(l)-1;l&=~(1<<c),r+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-Be(n)+c|r<<c|l,vi=f+t}else _i=1<<f|r<<c|l,vi=t}function kc(t){t.return!==null&&(Fr(t,1),om(t,1,0))}function Bc(t){for(;t===Uo;)Uo=ja[--Ua],ja[Ua]=null,Lo=ja[--Ua],ja[Ua]=null;for(;t===Qr;)Qr=Tn[--bn],Tn[bn]=null,vi=Tn[--bn],Tn[bn]=null,_i=Tn[--bn],Tn[bn]=null}var Ze=null,le=null,zt=!1,Yr=null,Zn=!1,qc=Error(s(519));function Kr(t){var n=Error(s(418,""));throw el(vn(n,t)),qc}function um(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<xl.length;r++)Vt(xl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Ir(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Or(n,l.value,l.defaultValue,l.children),Ea(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||wp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=yu),n=!0):n=!1,n||Kr(t)}function cm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ze=Ze.return}}function Ws(t){if(t!==Ze)return!1;if(!zt)return cm(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&le&&Kr(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ir(t.type)?(t=uf,uf=null,le=t):le=n):le=Ze?On(t.stateNode.nextSibling):null;return!0}function tl(){le=Ze=null,zt=!1}function hm(){var t=Yr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Yr=null),t}function el(t){Yr===null?Yr=[t]:Yr.push(t)}var Hc=K(null),Xr=null,Ei=null;function qi(t,n,r){et(Hc,n._currentValue),n._currentValue=r}function Ti(t){t._currentValue=Hc.current,rt(Hc)}function Gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Gc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Gc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===de.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Qc(n,t,r,l),n.flags|=262144}function Po(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Xr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return fm(Xr,t)}function zo(t,n){return Xr===null&&Zr(t),fm(t,n)}function fm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return r}var C0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},N0=a.unstable_scheduleCallback,D0=a.unstable_NormalPriority,Ae={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new C0,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&N0(D0,function(){t.controller.abort()})}var rl=null,Yc=0,La=0,Pa=null;function V0(t,n){if(rl===null){var r=rl=[];Yc=0,La=Xh(),Pa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,n.then(dm,dm),n}function dm(){if(--Yc===0&&rl!==null){Pa!==null&&(Pa.status="fulfilled");var t=rl;rl=null,La=0,Pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function I0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var mm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&V0(t,n),mm!==null&&mm(t,n)};var $r=K(null);function Kc(){var t=$r.current;return t!==null?t:Jt.pooledCache}function ko(t,n){n===null?et($r,$r.current):et($r,n.pool)}function gm(){var t=Kc();return t===null?null:{parent:Ae._currentValue,pool:t}}var al=Error(s(460)),pm=Error(s(474)),Bo=Error(s(542)),Xc={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qo(){}function _m(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qo,qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(qo,qo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw sl=n,al}}var sl=null;function vm(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Em(t){if(t===al||t===Bo)throw Error(s(483))}var Hi=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mo(t),sm(t,null,r),n}return Oo(t,l,n,r),Mo(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,js(t,r)}}function Jc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wc=!1;function ol(){if(Wc){var t=Pa;if(t!==null)throw t}}function ul(t,n,r,l){Wc=!1;var c=t.updateQueue;Hi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,z=w.next;w.next=null,y===null?f=z:y.next=z,y=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=w))}if(f!==null){var X=c.baseState;y=0,Q=z=w=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(jt&k)===k:(l&k)===k){k!==0&&k===La&&(Wc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,mt=E;k=n;var Xt=r;switch(mt.tag){case 1:if(_t=mt.payload,typeof _t=="function"){X=_t.call(Xt,X,k);break t}X=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=mt.payload,k=typeof _t=="function"?_t.call(Xt,X,k):_t,k==null)break t;X=A({},X,k);break t;case 2:Hi=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=B,w=X):Q=Q.next=B,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);Q===null&&(w=X),c.baseState=w,c.firstBaseUpdate=z,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Wi|=y,t.lanes=y,t.memoizedState=X}}function Tm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function bm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Tm(r[t],n)}var za=K(null),Ho=K(0);function Am(t,n){t=Ci,et(Ho,t),et(za,n),Ci=t|n.baseLanes}function th(){et(Ho,Ci),et(za,za.current)}function eh(){Ci=Ho.current,rt(za),rt(Ho)}var Fi=0,wt=null,Yt=null,pe=null,Go=!1,ka=!1,Jr=!1,Qo=0,cl=0,Ba=null,O0=0;function ce(){throw Error(s(321))}function nh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function ih(t,n,r,l,c,f){return Fi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?sg:lg,Jr=!1,f=r(l,c),Jr=!1,ka&&(f=xm(n,r,l,c)),Sm(t),f}function Sm(t){H.H=$o;var n=Yt!==null&&Yt.next!==null;if(Fi=0,pe=Yt=wt=null,Go=!1,cl=0,Ba=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&Po(t)&&(Ne=!0))}function xm(t,n,r,l){wt=t;var c=0;do{if(ka&&(Ba=null),cl=0,ka=!1,25<=c)throw Error(s(301));if(c+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=k0,f=n(r,l)}while(ka);return f}function M0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(wt.flags|=1024),n}function rh(){var t=Qo!==0;return Qo=0,t}function ah(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function sh(t){if(Go){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Go=!1}Fi=0,pe=Yt=wt=null,ka=!1,cl=Qo=0,Ba=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Ba===null&&(Ba=[]),t=_m(Ba,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?sg:lg),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===J)return qe(t)}throw Error(s(438,String(t)))}function oh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=j;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function Yo(t){var n=ye();return uh(n,Yt,t)}function uh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,w=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(jt&X)===X:(Fi&X)===X){var k=z.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===La&&(Q=!0);else if((Fi&k)===k){z=z.next,k===La&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=X,y=f):w=w.next=X,wt.lanes|=k,Wi|=k;X=z.action,Jr&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else k={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=k,y=f):w=w.next=k,wt.lanes|=X,Wi|=X;z=z.next}while(z!==null&&z!==n);if(w===null?y=f:w.next=E,!an(f,t.memoizedState)&&(Ne=!0,Q&&(r=Pa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function wm(t,n,r){var l=wt,c=ye(),f=zt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!an((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ne=!0),c=c.queue;var E=Nm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,qa(9,Ko(),Cm.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||(Fi&124)!==0||Rm(l,n,r)}return r}function Rm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=lh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Cm(t,n,r,l){n.value=r,n.getSnapshot=l,Dm(n)&&Vm(t)}function Nm(t,n,r){return r(function(){Dm(n)&&Vm(t)})}function Dm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Vm(t){var n=Oa(t,2);n!==null&&hn(n,t,2)}function hh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Jr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Im(t,n,r,l){return t.baseState=r,uh(t,Yt,typeof l=="function"?l:bi)}function j0(t,n,r,l,c){if(Zo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Om(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Om(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),w=H.S;w!==null&&w(y,E),Mm(t,n,E)}catch(z){fh(t,n,z)}finally{H.T=f}}else try{f=r(c,l),Mm(t,n,f)}catch(z){fh(t,n,z)}}function Mm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){jm(t,n,l)},function(l){return fh(t,n,l)}):jm(t,n,r)}function jm(t,n,r){n.status="fulfilled",n.value=r,Um(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Om(t,r)))}function fh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Um(n),n=n.next;while(n!==l)}t.action=null}function Um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Lm(t,n){return n}function Pm(t,n){if(zt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(zt){if(le){e:{for(var c=le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=On(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lm,lastRenderedState:n},r.queue=l,r=ig.bind(null,wt,l),l.dispatch=r,l=hh(!1),f=yh.bind(null,wt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=j0.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function zm(t){var n=ye();return km(n,Yt,t)}function km(t,n,r){if(n=uh(t,n,Lm)[0],t=Yo(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===al?Bo:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,qa(9,Ko(),U0.bind(null,c,r),null)),[l,f,t]}function U0(t,n){t.action=n}function Bm(t){var n=ye(),r=Yt;if(r!==null)return km(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=lh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ko(){return{destroy:void 0,resource:void 0}}function qm(){return ye().memoizedState}function Xo(t,n,r,l){var c=$e();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=qa(1|n,Ko(),r,l)}function fl(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&nh(l,Yt.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(wt.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function Hm(t,n){Xo(8390656,8,t,n)}function Gm(t,n){fl(2048,8,t,n)}function Qm(t,n){return fl(4,2,t,n)}function Fm(t,n){return fl(4,4,t,n)}function Ym(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Km(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,Ym.bind(null,n,t),r)}function dh(){}function Xm(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&nh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Zm(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&nh(n,l[1]))return l[0];if(l=t(),Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function mh(t,n,r){return r===void 0||(Fi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Wg(),wt.lanes|=t,Wi|=t,r)}function $m(t,n,r,l){return an(r,n)?r:za.current!==null?(t=mh(t,r,l),an(t,n)||(Ne=!0),t):(Fi&42)===0?(Ne=!0,t.memoizedState=r):(t=Wg(),wt.lanes|=t,Wi|=t,n)}function Jm(t,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,yh(t,!1,n,r);try{var w=c(),z=H.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=I0(w,l);dl(t,n,Q,cn(t))}else dl(t,n,l,cn(t))}catch(X){dl(t,n,{then:function(){},status:"rejected",reason:X},cn())}finally{it.p=f,H.T=y}}function L0(){}function gh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=Wm(t).queue;Jm(t,c,n,ct,r===null?L0:function(){return tg(t),r(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;dl(t,n,{},cn())}function ph(){return qe(Vl)}function eg(){return ye().memoizedState}function ng(){return ye().memoizedState}function P0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Gi(r);var l=Qi(n,t,r);l!==null&&(hn(l,n,r),ll(l,n,r)),n={cache:Fc()},t.payload=n;return}n=n.return}}function z0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(t)?rg(n,r):(r=Uc(t,n,r,l),r!==null&&(hn(r,t,l),ag(r,n,l)))}function ig(t,n,r){var l=cn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zo(t))rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Oo(t,n,c,0),Jt===null&&Io(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return hn(r,t,l),ag(r,n,l),!0}return!1}function yh(t,n,r,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},Zo(t)){if(n)throw Error(s(479))}else n=Uc(t,r,l,2),n!==null&&hn(n,t,2)}function Zo(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function rg(t,n){ka=Go=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ag(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,js(t,r)}}var $o={readContext:qe,use:Fo,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},sg={readContext:qe,use:Fo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Hm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xo(4194308,4,Ym.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xo(4194308,4,t,n)},useInsertionEffect:function(t,n){Xo(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Jr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=z0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=hh(t);var n=t.queue,r=ig.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dh,useDeferredValue:function(t,n){var r=$e();return mh(r,t,n)},useTransition:function(){var t=hh(!1);return t=Jm.bind(null,wt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=$e();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(jt&124)!==0||Rm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Hm(Nm.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,Ko(),Cm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(zt){var r=vi,l=_i;r=(l&~(1<<32-Be(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Qo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=O0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ph,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:oh,useCacheRefresh:function(){return $e().memoizedState=P0.bind(null,wt)}},lg={readContext:qe,use:Fo,useCallback:Xm,useContext:qe,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:Yo,useRef:qm,useState:function(){return Yo(bi)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ye();return $m(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Yo(bi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:ph,useFormState:zm,useActionState:zm,useOptimistic:function(t,n){var r=ye();return Im(r,Yt,t,n)},useMemoCache:oh,useCacheRefresh:ng},k0={readContext:qe,use:Fo,useCallback:Xm,useContext:qe,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:ch,useRef:qm,useState:function(){return ch(bi)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ye();return Yt===null?mh(r,t,n):$m(r,Yt.memoizedState,t,n)},useTransition:function(){var t=ch(bi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:ph,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var r=ye();return Yt!==null?Im(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:oh,useCacheRefresh:ng},Ha=null,ml=0;function Jo(t){var n=ml;return ml+=1,Ha===null&&(Ha=[]),_m(Ha,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){var n=t._init;return n(t._payload)}function ug(t){function n(U,O){if(t){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function r(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=yi(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,t?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,Y){return O===null||O.tag!==6?(O=Pc(P,U.mode,Y),O.return=U,O):(O=c(O,P),O.return=U,O)}function w(U,O,P,Y){var ut=P.type;return ut===tt?Q(U,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&og(ut)===O.type)?(O=c(O,P.props),gl(O,P),O.return=U,O):(O=jo(P.type,P.key,P.props,null,U.mode,Y),gl(O,P),O.return=U,O)}function z(U,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=zc(P,U.mode,Y),O.return=U,O):(O=c(O,P.children||[]),O.return=U,O)}function Q(U,O,P,Y,ut){return O===null||O.tag!==7?(O=Gr(P,U.mode,Y,ut),O.return=U,O):(O=c(O,P),O.return=U,O)}function X(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Pc(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return P=jo(O.type,O.key,O.props,null,U.mode,P),gl(P,O),P.return=U,P;case G:return O=zc(O,U.mode,P),O.return=U,O;case S:var Y=O._init;return O=Y(O._payload),X(U,O,P)}if(Wt(O)||V(O))return O=Gr(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return X(U,Jo(O),P);if(O.$$typeof===J)return X(U,zo(U,O),P);Wo(U,O)}return null}function k(U,O,P,Y){var ut=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ut!==null?null:E(U,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===ut?w(U,O,P,Y):null;case G:return P.key===ut?z(U,O,P,Y):null;case S:return ut=P._init,P=ut(P._payload),k(U,O,P,Y)}if(Wt(P)||V(P))return ut!==null?null:Q(U,O,P,Y,null);if(typeof P.then=="function")return k(U,O,Jo(P),Y);if(P.$$typeof===J)return k(U,O,zo(U,P),Y);Wo(U,P)}return null}function B(U,O,P,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(P)||null,E(O,U,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return U=U.get(Y.key===null?P:Y.key)||null,w(O,U,Y,ut);case G:return U=U.get(Y.key===null?P:Y.key)||null,z(O,U,Y,ut);case S:var Ct=Y._init;return Y=Ct(Y._payload),B(U,O,P,Y,ut)}if(Wt(Y)||V(Y))return U=U.get(P)||null,Q(O,U,Y,ut,null);if(typeof Y.then=="function")return B(U,O,P,Jo(Y),ut);if(Y.$$typeof===J)return B(U,O,P,zo(O,Y),ut);Wo(O,Y)}return null}function _t(U,O,P,Y){for(var ut=null,Ct=null,ht=O,gt=O=0,Ve=null;ht!==null&&gt<P.length;gt++){ht.index>gt?(Ve=ht,ht=null):Ve=ht.sibling;var Pt=k(U,ht,P[gt],Y);if(Pt===null){ht===null&&(ht=Ve);break}t&&ht&&Pt.alternate===null&&n(U,ht),O=f(Pt,O,gt),Ct===null?ut=Pt:Ct.sibling=Pt,Ct=Pt,ht=Ve}if(gt===P.length)return r(U,ht),zt&&Fr(U,gt),ut;if(ht===null){for(;gt<P.length;gt++)ht=X(U,P[gt],Y),ht!==null&&(O=f(ht,O,gt),Ct===null?ut=ht:Ct.sibling=ht,Ct=ht);return zt&&Fr(U,gt),ut}for(ht=l(ht);gt<P.length;gt++)Ve=B(ht,U,gt,P[gt],Y),Ve!==null&&(t&&Ve.alternate!==null&&ht.delete(Ve.key===null?gt:Ve.key),O=f(Ve,O,gt),Ct===null?ut=Ve:Ct.sibling=Ve,Ct=Ve);return t&&ht.forEach(function(or){return n(U,or)}),zt&&Fr(U,gt),ut}function mt(U,O,P,Y){if(P==null)throw Error(s(151));for(var ut=null,Ct=null,ht=O,gt=O=0,Ve=null,Pt=P.next();ht!==null&&!Pt.done;gt++,Pt=P.next()){ht.index>gt?(Ve=ht,ht=null):Ve=ht.sibling;var or=k(U,ht,Pt.value,Y);if(or===null){ht===null&&(ht=Ve);break}t&&ht&&or.alternate===null&&n(U,ht),O=f(or,O,gt),Ct===null?ut=or:Ct.sibling=or,Ct=or,ht=Ve}if(Pt.done)return r(U,ht),zt&&Fr(U,gt),ut;if(ht===null){for(;!Pt.done;gt++,Pt=P.next())Pt=X(U,Pt.value,Y),Pt!==null&&(O=f(Pt,O,gt),Ct===null?ut=Pt:Ct.sibling=Pt,Ct=Pt);return zt&&Fr(U,gt),ut}for(ht=l(ht);!Pt.done;gt++,Pt=P.next())Pt=B(ht,U,gt,Pt.value,Y),Pt!==null&&(t&&Pt.alternate!==null&&ht.delete(Pt.key===null?gt:Pt.key),O=f(Pt,O,gt),Ct===null?ut=Pt:Ct.sibling=Pt,Ct=Pt);return t&&ht.forEach(function(BE){return n(U,BE)}),zt&&Fr(U,gt),ut}function Xt(U,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:t:{for(var ut=P.key;O!==null;){if(O.key===ut){if(ut=P.type,ut===tt){if(O.tag===7){r(U,O.sibling),Y=c(O,P.props.children),Y.return=U,U=Y;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&og(ut)===O.type){r(U,O.sibling),Y=c(O,P.props),gl(Y,P),Y.return=U,U=Y;break t}r(U,O);break}else n(U,O);O=O.sibling}P.type===tt?(Y=Gr(P.props.children,U.mode,Y,P.key),Y.return=U,U=Y):(Y=jo(P.type,P.key,P.props,null,U.mode,Y),gl(Y,P),Y.return=U,U=Y)}return y(U);case G:t:{for(ut=P.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(U,O.sibling),Y=c(O,P.children||[]),Y.return=U,U=Y;break t}else{r(U,O);break}else n(U,O);O=O.sibling}Y=zc(P,U.mode,Y),Y.return=U,U=Y}return y(U);case S:return ut=P._init,P=ut(P._payload),Xt(U,O,P,Y)}if(Wt(P))return _t(U,O,P,Y);if(V(P)){if(ut=V(P),typeof ut!="function")throw Error(s(150));return P=ut.call(P),mt(U,O,P,Y)}if(typeof P.then=="function")return Xt(U,O,Jo(P),Y);if(P.$$typeof===J)return Xt(U,O,zo(U,P),Y);Wo(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(U,O.sibling),Y=c(O,P),Y.return=U,U=Y):(r(U,O),Y=Pc(P,U.mode,Y),Y.return=U,U=Y),y(U)):r(U,O)}return function(U,O,P,Y){try{ml=0;var ut=Xt(U,O,P,Y);return Ha=null,ut}catch(ht){if(ht===al||ht===Bo)throw ht;var Ct=sn(29,ht,null,U.mode);return Ct.lanes=Y,Ct.return=U,Ct}finally{}}}var Ga=ug(!0),cg=ug(!1),An=K(null),$n=null;function Yi(t){var n=t.alternate;et(Se,Se.current&1),et(An,t),$n===null&&(n===null||za.current!==null||n.memoizedState!==null)&&($n=t)}function hg(t){if(t.tag===22){if(et(Se,Se.current),et(An,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Ki()}function Ki(){et(Se,Se.current),et(An,An.current)}function Ai(t){rt(An),$n===t&&($n=null),rt(Se)}var Se=K(0);function tu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||of(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _h(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Gi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(hn(n,t,r),ll(n,t,r))}};function fg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!$s(r,l)||!$s(c,f):!0}function dg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&vh.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){eu(t)}function gg(t){console.error(t)}function pg(t){eu(t)}function nu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eh(t,n,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){nu(t,n)},r}function _g(t){return t=Gi(t),t.tag=3,t}function vg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,r,l),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function B0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return $n===null?Gh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Fh(t,l,c)),!1;case 22:return r.flags|=65536,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Fh(t,l,c)),!1}throw Error(s(435,r.tag))}return Fh(t,l,c),Gh(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(s(422),{cause:l}),el(vn(t,r)))):(l!==qc&&(n=Error(s(423),{cause:l}),el(vn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,r),c=Eh(t.stateNode,l,c),Jc(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,r),bl===null?bl=[f]:bl.push(f),oe!==4&&(oe=2),n===null)return!0;l=vn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Eh(r.stateNode,l,t),Jc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=_g(c),vg(c,t,r,l),Jc(r,c),!1}r=r.return}while(r!==null);return!1}var Eg=Error(s(461)),Ne=!1;function je(t,n,r,l){n.child=t===null?cg(n,null,r,l):Ga(n,t.child,r,l)}function Tg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Zr(n),l=ih(t,n,r,y,f,c),E=rh(),t!==null&&!Ne?(ah(t,n,c),Si(t,n,c)):(zt&&E&&kc(n),n.flags|=1,je(t,n,l,c),n.child)}function bg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ag(t,n,f,l,c)):(t=jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:$s,r(y,l)&&t.ref===n.ref)return Si(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ag(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($s(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Si(t,n,c)}return Th(t,n,r,l,c)}function Sg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return xg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ko(n,f!==null?f.cachePool:null),f!==null?Am(n,f):th(),hg(n);else return n.lanes=n.childLanes=536870912,xg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(ko(n,f.cachePool),Am(n,f),Ki(),n.memoizedState=null):(t!==null&&ko(n,null),th(),Ki());return je(t,n,c,r),n.child}function xg(t,n,r,l){var c=Kc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&ko(n,null),th(),hg(n),t!==null&&nl(t,n,l,!0),null}function iu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Th(t,n,r,l,c){return Zr(n),r=ih(t,n,r,l,void 0,c),l=rh(),t!==null&&!Ne?(ah(t,n,c),Si(t,n,c)):(zt&&l&&kc(n),n.flags|=1,je(t,n,r,c),n.child)}function wg(t,n,r,l,c,f){return Zr(n),n.updateQueue=null,r=xm(n,l,r,c),Sm(t),l=rh(),t!==null&&!Ne?(ah(t,n,f),Si(t,n,f)):(zt&&l&&kc(n),n.flags|=1,je(t,n,r,f),n.child)}function Rg(t,n,r,l,c){if(Zr(n),n.stateNode===null){var f=Ma,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ma,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(_h(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vh.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=Wr(r,E);f.props=w;var z=f.context,Q=r.contextType;y=Ma,typeof Q=="object"&&Q!==null&&(y=qe(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&dg(n,f,l,y),Hi=!1;var k=n.memoizedState;f.state=k,ul(n,l,f,c),ol(),z=n.memoizedState,E||k!==z||Hi?(typeof X=="function"&&(_h(n,r,X,l),z=n.memoizedState),(w=Hi||fg(n,r,w,l,k,z,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,$c(t,n),y=n.memoizedProps,Q=Wr(r,y),f.props=Q,X=n.pendingProps,k=f.context,z=r.contextType,w=Ma,typeof z=="object"&&z!==null&&(w=qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||k!==w)&&dg(n,f,l,w),Hi=!1,k=n.memoizedState,f.state=k,ul(n,l,f,c),ol();var B=n.memoizedState;y!==X||k!==B||Hi||t!==null&&t.dependencies!==null&&Po(t.dependencies)?(typeof E=="function"&&(_h(n,r,E,l),B=n.memoizedState),(Q=Hi||fg(n,r,Q,l,k,B,w)||t!==null&&t.dependencies!==null&&Po(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ga(n,t.child,null,c),n.child=Ga(n,null,r,c)):je(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Si(t,n,c),t}function Cg(t,n,r,l){return tl(),n.flags|=256,je(t,n,r,l),n.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:gm()}}function Sh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Sn),t}function Ng(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Yi(n):Ki(),zt){var E=le,w;if(w=E){t:{for(w=E,E=Zn;w.nodeType!==8;){if(!E){E=null;break t}if(w=On(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},w=sn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Ze=n,le=null,w=!0):w=!1}w||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return of(E)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=ru({mode:"hidden",children:E},c),l=Gr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(r),c.childLanes=Sh(t,y,r),n.memoizedState=bh,l):(Yi(n),xh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Yi(n),n.flags&=-257,n=wh(t,n,r)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=ru({mode:"visible",children:l.children},E),c=Gr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ga(n,t.child,null,r),l=n.child,l.memoizedState=Ah(r),l.childLanes=Sh(t,y,r),n.memoizedState=bh,n=c);else if(Yi(n),of(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=wh(t,n,r)}else if(Ne||nl(t,n,r,!1),y=(r&t.childLanes)!==0,Ne||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:ji(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Oa(t,l),hn(y,t,l),Eg;E.data==="$?"||Gh(),n=wh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=On(E.nextSibling),Ze=n,zt=!0,Yr=null,Zn=!1,t!==null&&(Tn[bn++]=_i,Tn[bn++]=vi,Tn[bn++]=Qr,_i=t.id,vi=t.overflow,Qr=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,w=t.child,z=w.sibling,l=yi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?c=yi(z,c):(c=Gr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(r):(w=E.cachePool,w!==null?(z=Ae._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=gm(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=Sh(t,y,r),n.memoizedState=bh,l):(Yi(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function xh(t,n){return n=ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ru(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wh(t,n,r){return Ga(n,t.child,null,r),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gc(t.return,n,r)}function Rh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Vg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(je(t,n,l.children,r),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,r,n);else if(t.tag===19)Dg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&tu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Rh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Rh(n,!0,r,null,f);break;case"together":Rh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Si(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Wi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Po(t)))}function q0(t,n,r){switch(n.tag){case 3:Qt(n,n.stateNode.containerInfo),qi(n,Ae,t.memoizedState.cache),tl();break;case 27:case 5:Pn(n);break;case 4:Qt(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ng(t,n,r):(Yi(n),t=Si(t,n,r),t!==null?t.sibling:null);Yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Vg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Sg(t,n,r);case 24:qi(n,Ae,t.memoizedState.cache)}return Si(t,n,r)}function Ig(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ne=!1,q0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&om(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Lc(l)?(t=Wr(l,t),n.tag=1,n=Rg(null,n,l,t,r)):(n.tag=0,n=Th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===vt){n.tag=11,n=Tg(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=bg(null,n,l,t,r);break t}}throw n=ie(l)||l,Error(s(306,n,""))}}return n;case 0:return Th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),Rg(t,n,l,c,r);case 3:t:{if(Qt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,$c(t,n),ul(n,l,null,r);var y=n.memoizedState;if(l=y.cache,qi(n,Ae,l),l!==f.cache&&Qc(n,[Ae],r,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cg(t,n,l,r);break t}else if(l!==c){c=vn(Error(s(424)),n),el(c),n=Cg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=On(t.firstChild),Ze=n,zt=!0,Yr=null,Zn=!0,r=cg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=Si(t,n,r);break t}je(t,n,l,r)}n=n.child}return n;case 26:return iu(t,n),t===null?(r=Up(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=_u(yt.current).createElement(r),l[Ee]=n,l[me]=t,Le(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pn(n),t===null&&zt&&(l=n.stateNode=Op(n.type,n.pendingProps,yt.current),Ze=n,Zn=!0,c=le,ir(n.type)?(uf=c,le=On(l.firstChild)):le=c),je(t,n,n.pendingProps.children,r),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=le)&&(l=pE(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,Ze=n,le=On(l.firstChild),Zn=!1,c=!0):c=!1),c||Kr(n)),Pn(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:y!==null&&af(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ih(t,n,M0,null,null,r),Vl._currentValue=c),iu(t,n),je(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=le)&&(r=yE(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||Kr(n)),null;case 13:return Ng(t,n,r);case 4:return Qt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ga(n,null,l,r):je(t,n,l,r),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,r);case 7:return je(t,n,n.pendingProps,r),n.child;case 8:return je(t,n,n.pendingProps.children,r),n.child;case 12:return je(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qi(n,n.type,l.value),je(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Zr(n),c=qe(c),l=l(c),n.flags|=1,je(t,n,l,r),n.child;case 14:return bg(t,n,n.type,n.pendingProps,r);case 15:return Ag(t,n,n.type,n.pendingProps,r);case 19:return Vg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ru(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Sg(t,n,r);case 24:return Zr(n),l=qe(Ae),t===null?(c=Kc(),c===null&&(c=Jt,f=Fc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),qi(n,Ae,c)):((t.lanes&r)!==0&&($c(t,n),ul(n,null,null,r),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,Ae,l)):(l=f.cache,qi(n,Ae,l),l!==c.cache&&Qc(n,[Ae],r,!0))),je(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bp(n)){if(n=An.current,n!==null&&((jt&4194048)===jt?$n!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==$n))throw sl=Xc,pm;t.flags|=8192}}function au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Os():536870912,t.lanes|=n,Ka|=n)}function pl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function H0(t,n,r){var l=n.pendingProps;switch(Bc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ae),fn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),re(n),null;case 26:return r=n.memoizedState,t===null?(xi(n),r!==null?(re(n),Og(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(xi(n),re(n),Og(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&xi(n),re(n),n.flags&=-16777217),null;case 27:Rn(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=ft.current,Ws(n)?um(n):(t=Op(c,l,r),n.stateNode=t,xi(n))}return re(n),null;case 5:if(Rn(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=ft.current,Ws(n))um(n);else{switch(c=_u(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ee]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&xi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,Ws(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,r)),t||Kr(n)}else t=_u(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ws(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),au(n,n.updateQueue),re(n),null;case 4:return fn(),t===null&&Wh(n.stateNode.containerInfo),re(n),null;case 10:return Ti(n.type),re(n),null;case 19:if(rt(Se),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=tu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,au(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)lm(r,t),r=r.sibling;return et(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>ou&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=tu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,au(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return re(n),null}else 2*dn()-c.renderingStartTime>ou&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Se.current,et(Se,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Ai(n),eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&au(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&rt($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ti(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function G0(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ae),fn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rn(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(Se),null;case 4:return fn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Ai(n),eh(),t!==null&&rt($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ae),null;case 25:return null;default:return null}}function Mg(t,n){switch(Bc(n),n.tag){case 3:Ti(Ae),fn();break;case 26:case 27:case 5:Rn(n);break;case 4:fn();break;case 13:Ai(n);break;case 19:rt(Se);break;case 10:Ti(n.type);break;case 22:case 23:Ai(n),eh(),t!==null&&rt($r);break;case 24:Ti(Ae)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function Xi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=r,z=E;try{z()}catch(Q){Zt(c,w,Q)}}}l=l.next}while(l!==f)}}catch(Q){Zt(n,n.return,Q)}}function jg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{bm(n,r)}catch(l){Zt(t,t.return,l)}}}function Ug(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function _l(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function Lg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Nh(t,n,r){try{var l=t.stateNode;hE(l,t.type,r,n),l[me]=n}catch(c){Zt(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=yu));else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,r),t=t.sibling;t!==null;)Vh(t,n,r),t=t.sibling}function su(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(su(t,n,r),t=t.sibling;t!==null;)su(t,n,r),t=t.sibling}function zg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[Ee]=t,n[me]=r}catch(f){Zt(t,t.return,f)}}var wi=!1,he=!1,Ih=!1,kg=typeof WeakSet=="function"?WeakSet:Set,De=null;function Q0(t,n){if(t=t.containerInfo,nf=Su,t=$d(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,w=-1,z=0,Q=0,X=t,k=null;e:for(;;){for(var B;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(w=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(B=X.firstChild)!==null;)k=X,X=B;for(;;){if(X===t)break e;if(k===r&&++z===c&&(E=y),k===f&&++Q===l&&(w=y),(B=X.nextSibling)!==null)break;X=k,k=X.parentNode}X=B}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},Su=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Zt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Bg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(t,r),l&4&&yl(5,r);break;case 1:if(Zi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&jg(r),l&512&&_l(r,r.return);break;case 3:if(Zi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{bm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&zg(r);case 26:case 5:Zi(t,r),n===null&&l&4&&Lg(r),l&512&&_l(r,r.return);break;case 12:Zi(t,r);break;case 13:Zi(t,r),l&4&&Gg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=tE.bind(null,r),_E(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||he,c=wi;var f=he;wi=l,(he=n)&&!f?$i(t,r,(r.subtreeFlags&8772)!==0):Zi(t,r),wi=c,he=f}break;case 30:break;default:Zi(t,r)}}function qg(t){var n=t.alternate;n!==null&&(t.alternate=null,qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,Je=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Hg(t,n,r),r=r.sibling}function Hg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:he||Jn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Jn(r,n);var l=ne,c=Je;ir(r.type)&&(ne=r.stateNode,Je=!1),Ri(t,n,r),Rl(r.stateNode),ne=l,Je=c;break;case 5:he||Jn(r,n);case 6:if(l=ne,c=Je,ne=null,Ri(t,n,r),ne=l,Je=c,ne!==null)if(Je)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ne!==null&&(Je?(t=ne,Vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):Vp(ne,r.stateNode));break;case 4:l=ne,c=Je,ne=r.stateNode.containerInfo,Je=!0,Ri(t,n,r),ne=l,Je=c;break;case 0:case 11:case 14:case 15:he||Xi(2,r,n),he||Xi(4,r,n),Ri(t,n,r);break;case 1:he||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ug(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ri(t,n,r),he=l;break;default:Ri(t,n,r)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){Zt(n,n.return,r)}}function F0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function Oh(t,n){var r=F0(t);n.forEach(function(l){var c=eE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ir(E.type)){ne=E.stateNode,Je=!1;break t}break;case 5:ne=E.stateNode,Je=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(ne===null)throw Error(s(160));Hg(f,y,c),ne=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var In=null;function Qg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Xi(3,t,t.return),yl(3,t),Xi(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[Ee]=t,ue(f),l=f;break t;case"link":var y=zp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=zp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ue(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?kp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),r!==null&&l&4&&Nh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Nh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Tu=null,c=In,In=vu(n.containerInfo),ln(n,t),In=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(B){Zt(t,t.return,B)}Ih&&(Ih=!1,Fg(t));break;case 4:l=In,In=vu(t.stateNode.containerInfo),ln(n,t),on(t),In=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,z=wi,Q=he;if(wi=z||c,he=Q||w,ln(n,t),he=Q,wi=z,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||wi||he||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var X=w.memoizedProps.style,k=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Zt(w,w.return,B)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(B){Zt(w,w.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oh(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Pg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);su(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Dh(t);su(t,E,y);break;case 3:case 4:var w=r.stateNode.containerInfo,z=Dh(t);Vh(t,z,w);break;default:throw Error(s(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xi(4,n,n.return),ta(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ug(n,n.return,r),ta(n);break;case 27:Rl(n.stateNode);case 26:case 5:Jn(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function $i(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:$i(c,f,r),yl(4,f);break;case 1:if($i(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Tm(w[c],E)}catch(z){Zt(l,l.return,z)}}r&&y&64&&jg(f),_l(f,f.return);break;case 27:zg(f);case 26:case 5:$i(c,f,r),r&&l===null&&y&4&&Lg(f),_l(f,f.return);break;case 12:$i(c,f,r);break;case 13:$i(c,f,r),r&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&$i(c,f,r),_l(f,f.return);break;case 30:break;default:$i(c,f,r)}n=n.sibling}}function Mh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,r,l),n=n.sibling}function Yg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Zt(n,n.return,w)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):vl(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,Qa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Mh(y,n);break;case 24:Wn(t,n,r,l),c&2048&&jh(n.alternate,n);break;default:Wn(t,n,r,l)}}function Qa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,w=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Qa(f,y,E,w,c),yl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Qa(f,y,E,w,c):vl(f,y):(Q._visibility|=2,Qa(f,y,E,w,c)),c&&z&2048&&Mh(y.alternate,y);break;case 24:Qa(f,y,E,w,c),c&&z&2048&&jh(y.alternate,y);break;default:Qa(f,y,E,w,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:vl(r,l),c&2048&&Mh(l.alternate,l);break;case 24:vl(r,l),c&2048&&jh(l.alternate,l);break;default:vl(r,l)}n=n.sibling}}var El=8192;function Fa(t){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:Fa(t),t.flags&El&&t.memoizedState!==null&&VE(In,t.memoizedState,t.memoizedProps);break;case 5:Fa(t);break;case 3:case 4:var n=In;In=vu(t.stateNode.containerInfo),Fa(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=El,El=16777216,Fa(t),El=n):Fa(t));break;default:Fa(t)}}function Xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,$g(l,t)}Xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):Tl(t);break;default:Tl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,$g(l,t)}Xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xi(8,n,n.return),lu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function $g(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Xi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(qg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var Y0={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},K0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Dt=null,jt=0,Gt=0,un=null,Ji=!1,Ya=!1,Uh=!1,Ci=0,oe=0,Wi=0,ea=0,Lh=0,Sn=0,Ka=0,bl=null,We=null,Ph=!1,zh=0,ou=1/0,uu=null,tr=null,Ue=0,er=null,Xa=null,Za=0,kh=0,Bh=null,Jg=null,Al=0,qh=null;function cn(){if((Ht&2)!==0&&jt!==0)return jt&-jt;if(H.T!==null){var t=La;return t!==0?t:Xh()}return Ui()}function Wg(){Sn===0&&(Sn=(jt&536870912)===0||zt?Is():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function hn(t,n,r){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&($a(t,0),nr(t,jt,Sn,!1)),si(t,r),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(ea|=r),oe===4&&nr(t,jt,Sn,!1)),ti(t))}function tp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Rr(t,n),c=l?$0(t,n):Qh(t,n,!0),f=l;do{if(c===0){Ya&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!X0(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=bl;var w=E.current.memoizedState.isDehydrated;if(w&&($a(E,y).flags|=256),y=Qh(E,y,!1),y!==2){if(Uh&&!w){E.errorRecoveryDisabledLanes|=f,ea|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){$a(t,0),nr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Sn,!Ji);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=zh+300-dn(),10<c)){if(nr(l,n,Sn,!Ji),ma(l,0,!0)!==0)break t;l.timeoutHandle=Np(ep.bind(null,l,r,We,uu,Ph,n,Sn,ea,Ka,Ji,f,2,-0,0),c);break t}ep(l,r,We,uu,Ph,n,Sn,ea,Ka,Ji,f,0,-0,0)}}break}while(!0);ti(t)}function ep(t,n,r,l,c,f,y,E,w,z,Q,X,k,B){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:DE},Kg(n),X=IE(),X!==null)){t.cancelPendingCommit=X(op.bind(null,t,n,f,r,l,c,y,E,w,Q,1,k,B)),nr(t,f,y,!z);return}op(t,n,f,r,l,c,y,E,w)}function X0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~Lh,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function cu(){return(Ht&6)===0?(Sl(0),!1):!0}function Hh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,Ei=Xr=null,sh(t),Ha=null,ml=0,t=Dt;for(;t!==null;)Mg(t.alternate,t),t=t.return;Dt=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Jt=t,Dt=r=yi(t.current,null),jt=n,Gt=0,un=null,Ji=!1,Ya=Rr(t,n),Uh=!1,Ka=Sn=Lh=ea=Wi=oe=0,We=bl=null,Ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Io(),r}function np(t,n){wt=null,H.H=$o,n===al||n===Bo?(n=vm(),Gt=3):n===pm?(n=vm(),Gt=4):Gt=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Dt===null&&(oe=1,nu(t,vn(n,t.current)))}function ip(){var t=H.H;return H.H=$o,t===null?$o:t}function rp(){var t=H.A;return H.A=Y0,t}function Gh(){oe=4,Ji||(jt&4194048)!==jt&&An.current!==null||(Ya=!0),(Wi&134217727)===0&&(ea&134217727)===0||Jt===null||nr(Jt,jt,Sn,!1)}function Qh(t,n,r){var l=Ht;Ht|=2;var c=ip(),f=rp();(Jt!==t||jt!==n)&&(uu=null,$a(t,n)),n=!1;var y=oe;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,w=un;switch(Gt){case 8:Hh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Gt;if(Gt=0,un=null,Ja(t,E,w,z),r&&Ya){y=0;break t}break;default:z=Gt,Gt=0,un=null,Ja(t,E,w,z)}}Z0(),y=oe;break}catch(Q){np(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ei=Xr=null,Ht=l,H.H=c,H.A=f,Dt===null&&(Jt=null,jt=0,Io()),y}function Z0(){for(;Dt!==null;)ap(Dt)}function $0(t,n){var r=Ht;Ht|=2;var l=ip(),c=rp();Jt!==t||jt!==n?(uu=null,ou=dn()+500,$a(t,n)):Ya=Rr(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,Ja(t,n,f,1);break;case 2:case 9:if(ym(f)){Gt=0,un=null,sp(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),ti(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ym(f)?(Gt=0,un=null,sp(n)):(Gt=0,un=null,Ja(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Bp(y)){Gt=0,un=null;var w=E.sibling;if(w!==null)Dt=w;else{var z=E.return;z!==null?(Dt=z,hu(z)):Dt=null}break e}}Gt=0,un=null,Ja(t,n,f,5);break;case 6:Gt=0,un=null,Ja(t,n,f,6);break;case 8:Hh(),oe=6;break t;default:throw Error(s(462))}}J0();break}catch(Q){np(t,Q)}while(!0);return Ei=Xr=null,H.H=l,H.A=c,Ht=r,Dt!==null?0:(Jt=null,jt=0,Io(),oe)}function J0(){for(;Dt!==null&&!Cs();)ap(Dt)}function ap(t){var n=Ig(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?hu(t):Dt=n}function sp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=wg(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=wg(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:sh(n);default:Mg(r,n),n=Dt=lm(n,Ci),n=Ig(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?hu(t):Dt=n}function Ja(t,n,r,l){Ei=Xr=null,sh(n),Ha=null,ml=0;var c=n.return;try{if(B0(t,c,n,r,jt)){oe=1,nu(t,vn(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;oe=1,nu(t,vn(r,t.current)),Dt=null;return}n.flags&32768?(zt||l===1?t=!0:Ya||(jt&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):hu(n)}function hu(t){var n=t;do{if((n.flags&32768)!==0){lp(n,Ji);return}t=n.return;var r=H0(n.alternate,n,Ci);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function lp(t,n){do{var r=G0(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);oe=6,Dt=null}function op(t,n,r,l,c,f,y,E,w){t.cancelPendingCommit=null;do fu();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=jc,Ms(t,r,f,y,E,w),t===Jt&&(Dt=Jt=null,jt=0),Xa=n,er=t,Za=r,kh=f,Bh=c,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nE(Ar,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=it.p,it.p=2,y=Ht,Ht|=4;try{Q0(t,n,r)}finally{Ht=y,it.p=c,H.T=l}}Ue=1,up(),cp(),hp()}}function up(){if(Ue===1){Ue=0;var t=er,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{Qg(n,t);var f=rf,y=$d(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(w!==null&&Dc(E)){var z=w.start,Q=w.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,k=X&&X.defaultView||window;if(k.getSelection){var B=k.getSelection(),_t=E.textContent.length,mt=Math.min(w.start,_t),Xt=w.end===void 0?mt:Math.min(w.end,_t);!B.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var U=Xd(E,mt),O=Xd(E,Xt);if(U&&O&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var P=X.createRange();P.setStart(U.node,U.offset),B.removeAllRanges(),mt>Xt?(B.addRange(P),B.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),B.addRange(P))}}}}for(X=[],B=E;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Su=!!nf,rf=nf=null}finally{Ht=c,it.p=l,H.T=r}}t.current=n,Ue=2}}function cp(){if(Ue===2){Ue=0;var t=er,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{Bg(t,n.alternate,n)}finally{Ht=c,it.p=l,H.T=r}}Ue=3}}function hp(){if(Ue===4||Ue===3){Ue=0,so();var t=er,n=Xa,r=Za,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Xa=er=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(tr=null),ga(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=it.p,it.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,it.p=c}}(Za&3)!==0&&fu(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===qh?Al++:(Al=0,qh=t):Al=0,Sl(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function fu(t){return up(),cp(),hp(),dp()}function dp(){if(Ue!==5)return!1;var t=er,n=kh;kh=0;var r=ga(Za),l=H.T,c=it.p;try{it.p=32>r?32:r,H.T=null,r=Bh,Bh=null;var f=er,y=Za;if(Ue=0,Xa=er=null,Za=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Zg(f.current),Yg(f,f.current,y,r),Ht=E,Sl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{it.p=c,H.T=l,fp(t,n)}}function mp(t,n,r){n=vn(r,n),n=Eh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(si(t,2),ti(t))}function Zt(t,n,r){if(t.tag===3)mp(t,t,r);else for(;n!==null;){if(n.tag===3){mp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=vn(r,t),r=_g(2),l=Qi(n,r,2),l!==null&&(vg(r,l,n,t),si(l,2),ti(l));break}}n=n.return}}function Fh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new K0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=W0.bind(null,t,n,r),n.then(t,t))}function W0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(jt&r)===r&&(oe===4||oe===3&&(jt&62914560)===jt&&300>dn()-zh?(Ht&2)===0&&$a(t,0):Lh|=r,Ka===jt&&(Ka=0)),ti(t)}function gp(t,n){n===0&&(n=Os()),t=Oa(t,n),t!==null&&(si(t,n),ti(t))}function tE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),gp(t,r)}function eE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),gp(t,r)}function nE(t,n){return Tr(t,n)}var du=null,Wa=null,Yh=!1,mu=!1,Kh=!1,na=0;function ti(t){t!==Wa&&t.next===null&&(Wa===null?du=Wa=t:Wa=Wa.next=t),mu=!0,Yh||(Yh=!0,rE())}function Sl(t,n){if(!Kh&&mu){Kh=!0;do for(var r=!1,l=du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,vp(l,f))}else f=jt,f=ma(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rr(l,f)||(r=!0,vp(l,f));l=l.next}while(r);Kh=!1}}function iE(){pp()}function pp(){mu=Yh=!1;var t=0;na!==0&&(fE()&&(t=na),na=0);for(var n=dn(),r=null,l=du;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,r===null?du=c:r.next=c,c===null&&(Wa=r)):(r=l,(t!==0||(f&3)!==0)&&(mu=!0)),l=c}Sl(t)}function yp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,w=c[y];w===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Vs(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=jt,r=ma(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&br(l),ga(r)){case 2:case 8:r=fa;break;case 32:r=Ar;break;case 268435456:r=da;break;default:r=Ar}return l=_p.bind(null,t),r=Tr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fu()&&t.callbackNode!==r)return null;var l=jt;return l=ma(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?_p.bind(null,t):null)}function vp(t,n){if(fu())return null;tp(t,n,!0)}function rE(){mE(function(){(Ht&6)!==0?Tr(Ns,iE):pp()})}function Xh(){return na===0&&(na=Is()),na}function Ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function Tp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function aE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Ep((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?Ep(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new ba("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var w=y?Tp(c,y):new FormData(c);gh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?Tp(c,y):new FormData(c),gh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Zh=0;Zh<Mc.length;Zh++){var $h=Mc[Zh],sE=$h.toLowerCase(),lE=$h[0].toUpperCase()+$h.slice(1);Vn(sE,"on"+lE)}Vn(tm,"onAnimationEnd"),Vn(em,"onAnimationIteration"),Vn(nm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(S0,"onTransitionRun"),Vn(x0,"onTransitionStart"),Vn(w0,"onTransitionCancel"),Vn(im,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function bp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){eu(Q)}c.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,z=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){eu(Q)}c.currentTarget=null,f=w}}}}function Vt(t,n){var r=n[Us];r===void 0&&(r=n[Us]=new Set);var l=t+"__bubble";r.has(l)||(Ap(n,t,2,!1),r.add(l))}function Jh(t,n,r){var l=0;n&&(l|=4),Ap(r,t,l,n)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[gu]){t[gu]=!0,Ls.forEach(function(r){r!=="selectionchange"&&(oE.has(r)||Jh(r,!1,t),Jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gu]||(n[gu]=!0,Jh("selectionchange",!1,n))}}function Ap(t,n,r,l){switch(Yp(n)){case 2:var c=jE;break;case 8:c=UE;break;default:c=mf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}E=E.parentNode}}l=l.return}yo(function(){var z=f,Q=pn(r),X=[];t:{var k=rm.get(t);if(k!==void 0){var B=ba,_t=t;switch(t){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":B=Ca;break;case"focusin":_t="focus",B=xa;break;case"focusout":_t="blur",B=xa;break;case"beforeblur":case"afterblur":B=xa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=xo;break;case tm:case em:case nm:B=wa;break;case im:B=Ro;break;case"scroll":case"scrollend":B=_o;break;case"wheel":B=Na;break;case"copy":case"cut":case"paste":B=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Xs;break;case"toggle":case"beforetoggle":B=No}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),U=mt?k!==null?k+"Capture":null:k;mt=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||U===null||(Y=jr(O,U),Y!=null&&mt.push(wl(O,Y,P))),Xt)break;O=O.return}0<mt.length&&(k=new B(k,_t,null,r,Q),X.push({event:k,listeners:mt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==hi&&(_t=r.relatedTarget||r.fromElement)&&(li(_t)||_t[mn]))break t;if((B||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,B?(_t=r.relatedTarget||r.toElement,B=z,_t=_t?li(_t):null,_t!==null&&(Xt=h(_t),mt=_t.tag,_t!==Xt||mt!==5&&mt!==27&&mt!==6)&&(_t=null)):(B=null,_t=z),B!==_t)){if(mt=_n,Y="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Xs,Y="onPointerLeave",U="onPointerEnter",O="pointer"),Xt=B==null?k:Bn(B),P=_t==null?k:Bn(_t),k=new mt(Y,O+"leave",B,r,Q),k.target=Xt,k.relatedTarget=P,Y=null,li(Q)===z&&(mt=new mt(U,O+"enter",_t,r,Q),mt.target=P,mt.relatedTarget=Xt,Y=mt),Xt=Y,B&&_t)e:{for(mt=B,U=_t,O=0,P=mt;P;P=ts(P))O++;for(P=0,Y=U;Y;Y=ts(Y))P++;for(;0<O-P;)mt=ts(mt),O--;for(;0<P-O;)U=ts(U),P--;for(;O--;){if(mt===U||U!==null&&mt===U.alternate)break e;mt=ts(mt),U=ts(U)}mt=null}else mt=null;B!==null&&Sp(X,k,B,mt,!1),_t!==null&&Xt!==null&&Sp(X,Xt,_t,mt,!0)}}t:{if(k=z?Bn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var ut=Hd;else if(be(k))if(Gd)ut=T0;else{ut=v0;var Ct=_0}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&qs(z.elementType)&&(ut=Hd):ut=E0;if(ut&&(ut=ut(t,z))){pi(X,ut,r,Q);break t}Ct&&Ct(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&ki(k,"number",k.value)}switch(Ct=z?Bn(z):window,t){case"focusin":(be(Ct)||Ct.contentEditable==="true")&&(Da=Ct,Vc=z,Js=null);break;case"focusout":Js=Vc=Da=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Jd(X,r,Q);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Jd(X,r,Q)}var ht;if(Kn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ot?q(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(Ot||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ot&&(ht=Gs()):(Gn=Q,Bi="value"in Gn?Gn.value:Gn.textContent,Ot=!0)),Ct=pu(z,gt),0<Ct.length&&(gt=new Ys(gt,t,null,r,Q),X.push({event:gt,listeners:Ct}),ht?gt.data=ht:(ht=nt(r),ht!==null&&(gt.data=ht)))),(ht=m?Te(t,r):Mt(t,r))&&(gt=pu(z,"onBeforeInput"),0<gt.length&&(Ct=new Ys("onBeforeInput","beforeinput",null,r,Q),X.push({event:Ct,listeners:gt}),Ct.data=ht)),aE(X,t,z,r,Q)}bp(X,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=jr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||z===null||(w=z,c?(z=jr(r,f),z!=null&&y.unshift(wl(r,z,w))):c||(z=jr(r,f),z!=null&&y.push(wl(r,z,w)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var uE=/\r\n?/g,cE=/\u0000|\uFFFD/g;function xp(t){return(typeof t=="string"?t:""+t).replace(uE,`
`).replace(cE,"")}function wp(t,n){return n=xp(n),xp(t)===n}function yu(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Bs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=yu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sc.get(r)||r,zi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":Bs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,w=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":w=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Q,r,null)}}Ir(t,f,E,w,z,y,c,!1),Ea(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,y,E,r,null)}Or(t,l,c,f),Ea(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Vt(xl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,z,l,r,null)}return;default:if(qs(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&ef(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function hE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,w=null,z=null,Q=null;for(B in r){var X=r[B];if(r.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=X;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,X)}}for(var k in l){var B=l[k];if(X=r[k],l.hasOwnProperty(k)&&(B!=null||X!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":Q=B;break;case"value":y=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==X&&Kt(t,n,k,B,l,X)}}rn(t,y,E,w,z,Q,f,c);return;case"select":B=y=E=k=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":B=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Kt(t,n,c,f,l,w)}n=E,r=y,l=B,k!=null?ci(t,!!r,k,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Ft(t,k,B);return;case"option":for(var _t in r)if(k=r[_t],r.hasOwnProperty(_t)&&k!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Kt(t,n,_t,null,l,k)}for(w in l)if(k=l[w],B=r[w],l.hasOwnProperty(w)&&k!==B&&(k!=null||B!=null))switch(w){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(t,n,w,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)k=r[mt],r.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt)&&Kt(t,n,mt,null,l,k);for(z in l)if(k=l[z],B=r[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Kt(t,n,z,k,l,B)}return;default:if(qs(n)){for(var Xt in r)k=r[Xt],r.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&ef(t,n,Xt,void 0,l,k);for(Q in l)k=l[Q],B=r[Q],!l.hasOwnProperty(Q)||k===B||k===void 0&&B===void 0||ef(t,n,Q,k,l,B);return}}for(var U in r)k=r[U],r.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,k);for(X in l)k=l[X],B=r[X],!l.hasOwnProperty(X)||k===B||k==null&&B==null||Kt(t,n,X,k,l,B)}var nf=null,rf=null;function _u(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function fE(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,mE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(t){return Dp.resolve(null).then(t).catch(gE)}:Np;function gE(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function Vp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Rl(y.documentElement),r&2&&Rl(y.body),r&4)for(r=y.head,Rl(r),y=r.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Cr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);jl(n)}function lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lf(r),Pi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function yE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _E(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function Ip(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Op(t,n,r){switch(n=_u(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Pi(t)}var xn=new Map,Mp=new Set;function vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=it.d;it.d={f:vE,r:EE,D:TE,C:bE,L:AE,m:SE,X:wE,S:xE,M:RE};function vE(){var t=Ni.f(),n=cu();return t||n}function EE(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):Ni.r(t)}var es=typeof document>"u"?null:document;function jp(t,n,r){var l=es;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Mp.has(c)||(Mp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ue(n),l.head.appendChild(n)))}}function TE(t){Ni.D(t),jp("dns-prefetch",t,null)}function bE(t,n){Ni.C(t,n),jp("preconnect",t,n)}function AE(t,n,r){Ni.L(t,n,r);var l=es;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=ns(t);break;case"script":f=is(t)}xn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),xn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Le(n,"link",t),ue(n),l.head.appendChild(n)))}}function SE(t,n){Ni.m(t,n);var r=es;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=is(t)}if(!xn.has(f)&&(t=A({rel:"modulepreload",href:t},n),xn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(f)))return}l=r.createElement("link"),Le(l,"link",t),ue(l),r.head.appendChild(l)}}}function xE(t,n,r){Ni.S(t,n,r);var l=es;if(l&&t){var c=Ye(l).hoistableStyles,f=ns(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=xn.get(f))&&cf(t,r);var w=y=l.createElement("link");ue(w),Le(w,"link",t),w._p=new Promise(function(z,Q){w.onload=z,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Eu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function wE(t,n){Ni.X(t,n);var r=es;if(r&&t){var l=Ye(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=xn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function RE(t,n){Ni.M(t,n);var r=es;if(r&&t){var l=Ye(r).hoistableScripts,c=is(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=xn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Up(t,n,r,l){var c=(c=yt.current)?vu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ns(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ns(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),xn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xn.set(t,r),f||CE(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ns(t){return'href="'+ge(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Lp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),ue(n),t.head.appendChild(n))}function is(t){return'[src="'+ge(t)+'"]'}function Nl(t){return"script[async]"+t}function Pp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Le(l,"style",c),Eu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ns(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Lp(r),(c=xn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Le(f,"link",l),n.state.loading|=4,Eu(f,r.precedence,t),n.instance=f;case"script":return f=is(r.src),(c=t.querySelector(Nl(f)))?(n.instance=c,ue(c),c):(l=r,(c=xn.get(f))&&(l=A({},r),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Eu(l,r.precedence,t));return n.instance}function Eu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tu=null;function zp(t,n,r){if(Tu===null){var l=new Map,c=Tu=new Map;c.set(r,l)}else c=Tu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function NE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function DE(){}function VE(t,n,r){if(Dl===null)throw Error(s(475));var l=Dl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ns(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Lp(r),(c=xn.get(c))&&cf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function IE(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(OE,t),Au=null,bu.call(t))}function OE(t,n){if(!(n.state.loading&4)){var r=Au.get(t);if(r)var l=r.get(null);else{r=new Map,Au.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function ME(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qp(t,n,r,l,c,f,y,E,w,z,Q,X){return t=new ME(t,n,r,y,E,w,z,X),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),t}function Hp(t){return t?(t=Ma,t):Ma}function Gp(t,n,r,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=Gi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(hn(r,t,n),ll(r,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function df(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Fp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&hn(n,t,67108864),df(t,67108864)}}var Su=!0;function jE(t,n,r,l){var c=H.T;H.T=null;var f=it.p;try{it.p=2,mf(t,n,r,l)}finally{it.p=f,H.T=c}}function UE(t,n,r,l){var c=H.T;H.T=null;var f=it.p;try{it.p=8,mf(t,n,r,l)}finally{it.p=f,H.T=c}}function mf(t,n,r,l){if(Su){var c=gf(l);if(c===null)tf(t,n,l,xu,r),Kp(t,l);else if(PE(c,t,n,r,l))l.stopPropagation();else if(Kp(t,l),n&4&&-1<LE.indexOf(t)){for(;c!==null;){var f=kn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-Be(y);E.entanglements[1]|=w,y&=~w}ti(f),(Ht&6)===0&&(ou=dn()+500,Sl(0))}}break;case 13:E=Oa(f,2),E!==null&&hn(E,f,2),cu(),df(f,2)}if(f=gf(l),f===null&&tf(t,n,l,xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function gf(t){return t=pn(t),pf(t)}var xu=null;function pf(t){if(xu=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function Yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_c()){case Ns:return 2;case fa:return 8;case Ar:case vc:return 32;case da:return 268435456;default:return 32}default:return 32}}var yf=!1,rr=null,ar=null,sr=null,Il=new Map,Ol=new Map,lr=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=kn(n),n!==null&&Fp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function PE(t,n,r,l,c){switch(n){case"focusin":return rr=Ml(rr,t,n,r,l,c),!0;case"dragenter":return ar=Ml(ar,t,n,r,l,c),!0;case"mouseover":return sr=Ml(sr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Il.set(f,Ml(Il.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Xp(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,uo(t.priority,function(){if(r.tag===13){var l=cn();l=ji(l);var c=Oa(r,l);c!==null&&hn(c,r,l),df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=kn(r),n!==null&&Fp(n),t.blockedOn=r,!1;n.shift()}return!0}function Zp(t,n,r){wu(t)&&r.delete(n)}function zE(){yf=!1,rr!==null&&wu(rr)&&(rr=null),ar!==null&&wu(ar)&&(ar=null),sr!==null&&wu(sr)&&(sr=null),Il.forEach(Zp),Ol.forEach(Zp)}function Ru(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zE)))}var Cu=null;function $p(t){Cu!==t&&(Cu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||r)===null)continue;break}var f=kn(r);f!==null&&(t.splice(n,3),n-=3,gh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(w){return Ru(w,t)}rr!==null&&Ru(rr,t),ar!==null&&Ru(ar,t),sr!==null&&Ru(sr,t),Il.forEach(n),Ol.forEach(n);for(var r=0;r<lr.length;r++){var l=lr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Xp(r),r.blockedOn===null&&lr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[me]||null;if(typeof f=="function")y||$p(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[me]||null)E=y.formAction;else if(pf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),$p(r)}}}function _f(t){this._internalRoot=t}Nu.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=cn();Gp(r,l,t,n,null,null)},Nu.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),cu(),n[mn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ui();t={blockedOn:null,target:t,priority:n};for(var r=0;r<lr.length&&n!==0&&n<lr[r].priority;r++);lr.splice(r,0,t),r===0&&Xp(t)}};var Jp=e.version;if(Jp!=="19.1.0")throw Error(s(527,Jp,"19.1.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var kE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{se=Du.inject(kE),qt=Du}catch{}}return Ll.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=mg,f=gg,y=pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=qp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,Wh(t),new _f(n)},Ll.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=mg,y=gg,E=pg,w=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=qp(t,1,!0,n,r??null,l,c,f,y,E,w,z),n.context=Hp(null),r=n.current,l=cn(),l=ji(l),c=Gi(l),c.callback=null,Qi(r,c,l),r=l,n.current.lanes=r,si(n,r),ti(n),t[mn]=n.current,Wh(t),new Nu(n)},Ll.version="19.1.0",Ll}var oy;function ZE(){if(oy)return Tf.exports;oy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Tf.exports=XE(),Tf.exports}var $E=ZE();const JE="modulepreload",WE=function(a){return"/youtube-bgm-research/"+a},uy={},cy=function(e,i,s){let o=Promise.resolve();if(i&&i.length>0){let d=function(_){return Promise.all(_.map(A=>Promise.resolve(A).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),v=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));o=d(i.map(_=>{if(_=WE(_),_ in uy)return;uy[_]=!0;const A=_.endsWith(".css"),N=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${N}`))return;const D=document.createElement("link");if(D.rel=A?"stylesheet":JE,A||(D.as="script"),D.crossOrigin="",D.href=_,v&&D.setAttribute("nonce",v),document.head.appendChild(D),A)return new Promise((G,tt)=>{D.addEventListener("load",G),D.addEventListener("error",()=>tt(new Error(`Unable to preload CSS for ${_}`)))})}))}function h(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&h(g.reason);return e().catch(h)})},tT=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},eT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},w_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let D=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(D=64)),s.push(i[A],i[N],i[D],i[G])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(x_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):eT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const N=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||N==null)throw new nT;const D=h<<2|g>>4;if(s.push(D),_!==64){const G=g<<4&240|_>>2;if(s.push(G),N!==64){const tt=_<<6&192|N;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class nT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iT=function(a){const e=x_(a);return w_.encodeByteArray(e,!0)},qu=function(a){return iT(a).replace(/\./g,"")},rT=function(a){try{return w_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=()=>aT().__FIREBASE_DEFAULTS__,lT=()=>{if(typeof process>"u"||typeof hy>"u")return;const a=hy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},oT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&rT(a[1]);return e&&JSON.parse(e)},rd=()=>{try{return tT()||sT()||lT()||oT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},uT=a=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},cT=a=>{const e=uT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},R_=()=>{var a;return(a=rd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(a){return a.endsWith(".cloudworkstations.dev")}async function fT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[qu(JSON.stringify(i)),qu(JSON.stringify(d)),""].join(".")}const ql={};function mT(){const a={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?a.emulator.push(e):a.prod.push(e);return a}function gT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let fy=!1;function pT(a,e){if(typeof window>"u"||typeof document>"u"||!ad(window.location.host)||ql[a]===e||ql[a]||fy)return;ql[a]=e;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",h=mT().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{fy=!0,d()},D}function A(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function N(){const D=gT(s),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),at=i("learnmore"),W=document.getElementById(at)||document.createElement("a"),bt=i("preprendIcon"),F=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const J=D.element;g(J),A(W,at);const vt=_();v(F,bt),J.append(F,tt,W,vt),document.body.appendChild(J)}h?(tt.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _T(){var a;const e=(a=rd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vT(){return!_T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ET(){try{return typeof indexedDB=="object"}catch{return!1}}function TT(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="FirebaseError";class Ts extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=bT,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C_.prototype.create)}}class C_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?AT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ts(o,g,s)}}function AT(a,e){return a.replace(ST,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ST=/\{\$([^}]+)}/g;function Hu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(dy(h)&&dy(d)){if(!Hu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function dy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(a){return a&&a._delegate?a._delegate:a}class Yl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new hT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RT(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wT(a){return a===ia?void 0:a}function RT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Lt||(Lt={}));const NT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},DT=Lt.INFO,VT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},IT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=VT[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=DT,this._logHandler=IT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const OT=(a,e)=>e.some(i=>a instanceof i);let my,gy;function MT(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jT(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,Mf=new WeakMap,V_=new WeakMap,xf=new WeakMap,sd=new WeakMap;function UT(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(cr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&D_.set(i,a)}).catch(()=>{}),sd.set(e,a),e}function LT(a){if(Mf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Mf.set(a,e)}let jf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Mf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||V_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function PT(a){jf=a(jf)}function zT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(wf(this),e,...i);return V_.set(s,e.sort?e.sort():[e]),cr(s)}:jT().includes(a)?function(...e){return a.apply(wf(this),e),cr(D_.get(this))}:function(...e){return cr(a.apply(wf(this),e))}}function kT(a){return typeof a=="function"?zT(a):(a instanceof IDBTransaction&&LT(a),OT(a,MT())?new Proxy(a,jf):a)}function cr(a){if(a instanceof IDBRequest)return UT(a);if(xf.has(a))return xf.get(a);const e=kT(a);return e!==a&&(xf.set(a,e),sd.set(e,a)),e}const wf=a=>sd.get(a);function BT(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=cr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(cr(d.result),v.oldVersion,v.newVersion,cr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const qT=["get","getKey","getAll","getAllKeys","count"],HT=["put","add","delete","clear"],Rf=new Map;function py(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=HT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return Rf.set(e,h),h}PT(a=>({...a,get:(e,i,s)=>py(e,i)||a.get(e,i,s),has:(e,i)=>!!py(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function QT(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",yy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new N_("@firebase/app"),FT="@firebase/app-compat",YT="@firebase/analytics-compat",KT="@firebase/analytics",XT="@firebase/app-check-compat",ZT="@firebase/app-check",$T="@firebase/auth",JT="@firebase/auth-compat",WT="@firebase/database",tb="@firebase/data-connect",eb="@firebase/database-compat",nb="@firebase/functions",ib="@firebase/functions-compat",rb="@firebase/installations",ab="@firebase/installations-compat",sb="@firebase/messaging",lb="@firebase/messaging-compat",ob="@firebase/performance",ub="@firebase/performance-compat",cb="@firebase/remote-config",hb="@firebase/remote-config-compat",fb="@firebase/storage",db="@firebase/storage-compat",mb="@firebase/firestore",gb="@firebase/ai",pb="@firebase/firestore-compat",yb="firebase",_b="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",vb={[Uf]:"fire-core",[FT]:"fire-core-compat",[KT]:"fire-analytics",[YT]:"fire-analytics-compat",[ZT]:"fire-app-check",[XT]:"fire-app-check-compat",[$T]:"fire-auth",[JT]:"fire-auth-compat",[WT]:"fire-rtdb",[tb]:"fire-data-connect",[eb]:"fire-rtdb-compat",[nb]:"fire-fn",[ib]:"fire-fn-compat",[rb]:"fire-iid",[ab]:"fire-iid-compat",[sb]:"fire-fcm",[lb]:"fire-fcm-compat",[ob]:"fire-perf",[ub]:"fire-perf-compat",[cb]:"fire-rc",[hb]:"fire-rc-compat",[fb]:"fire-gcs",[db]:"fire-gcs-compat",[mb]:"fire-fst",[pb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[yb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,Eb=new Map,Pf=new Map;function _y(a,e){try{a.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Qu(a){const e=a.name;if(Pf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,a);for(const i of Gu.values())_y(i,a);for(const i of Eb.values())_y(i,a);return!0}function Tb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function bb(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new C_("app","Firebase",Ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=_b;function I_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Lf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=R_()),!i)throw hr.create("no-options");const h=Gu.get(o);if(h){if(Hu(i,h.options)&&Hu(s,h.config))return h;throw hr.create("duplicate-app",{appName:o})}const d=new CT(o);for(const v of Pf.values())d.addComponent(v);const g=new Sb(i,s,d);return Gu.set(o,g),g}function wb(a=Lf){const e=Gu.get(a);if(!e&&a===Lf&&R_())return I_();if(!e)throw hr.create("no-app",{appName:a});return e}function os(a,e,i){var s;let o=(s=vb[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}Qu(new Yl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebase-heartbeat-database",Cb=1,Kl="firebase-heartbeat-store";let Cf=null;function O_(){return Cf||(Cf=BT(Rb,Cb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(a=>{throw hr.create("idb-open",{originalErrorMessage:a.message})})),Cf}async function Nb(a){try{const i=(await O_()).transaction(Kl),s=await i.objectStore(Kl).get(M_(a));return await i.done,s}catch(e){if(e instanceof Ts)Vi.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function vy(a,e){try{const s=(await O_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,M_(a)),await s.done}catch(i){if(i instanceof Ts)Vi.warn(i.message);else{const s=hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(s.message)}}}function M_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1024,Vb=30;class Ib{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Mb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ey();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Vb){const d=jb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Vi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ey(),{heartbeatsToSend:s,unsentEntries:o}=Ob(this._heartbeatsCache.heartbeats),h=qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function Ob(a,e=Db){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ty(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ty(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Mb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ET()?TT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Nb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return vy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ty(a){return qu(JSON.stringify({version:2,heartbeats:a})).length}function jb(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(a){Qu(new Yl("platform-logger",e=>new GT(e),"PRIVATE")),Qu(new Yl("heartbeat",e=>new Ib(e),"PRIVATE")),os(Uf,yy,a),os(Uf,yy,"esm2017"),os("fire-js","")}Ub("");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,j_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function C(){}C.prototype=S.prototype,M.D=S.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(j,R,V){for(var x=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)x[ie-2]=arguments[ie];return S.prototype[R].apply(j,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,C){C||(C=0);var j=Array(16);if(typeof S=="string")for(var R=0;16>R;++R)j[R]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(R=0;16>R;++R)j[R]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=M.g[0],C=M.g[1],R=M.g[2];var V=M.g[3],x=S+(V^C&(R^V))+j[0]+3614090360&4294967295;S=C+(x<<7&4294967295|x>>>25),x=V+(R^S&(C^R))+j[1]+3905402710&4294967295,V=S+(x<<12&4294967295|x>>>20),x=R+(C^V&(S^C))+j[2]+606105819&4294967295,R=V+(x<<17&4294967295|x>>>15),x=C+(S^R&(V^S))+j[3]+3250441966&4294967295,C=R+(x<<22&4294967295|x>>>10),x=S+(V^C&(R^V))+j[4]+4118548399&4294967295,S=C+(x<<7&4294967295|x>>>25),x=V+(R^S&(C^R))+j[5]+1200080426&4294967295,V=S+(x<<12&4294967295|x>>>20),x=R+(C^V&(S^C))+j[6]+2821735955&4294967295,R=V+(x<<17&4294967295|x>>>15),x=C+(S^R&(V^S))+j[7]+4249261313&4294967295,C=R+(x<<22&4294967295|x>>>10),x=S+(V^C&(R^V))+j[8]+1770035416&4294967295,S=C+(x<<7&4294967295|x>>>25),x=V+(R^S&(C^R))+j[9]+2336552879&4294967295,V=S+(x<<12&4294967295|x>>>20),x=R+(C^V&(S^C))+j[10]+4294925233&4294967295,R=V+(x<<17&4294967295|x>>>15),x=C+(S^R&(V^S))+j[11]+2304563134&4294967295,C=R+(x<<22&4294967295|x>>>10),x=S+(V^C&(R^V))+j[12]+1804603682&4294967295,S=C+(x<<7&4294967295|x>>>25),x=V+(R^S&(C^R))+j[13]+4254626195&4294967295,V=S+(x<<12&4294967295|x>>>20),x=R+(C^V&(S^C))+j[14]+2792965006&4294967295,R=V+(x<<17&4294967295|x>>>15),x=C+(S^R&(V^S))+j[15]+1236535329&4294967295,C=R+(x<<22&4294967295|x>>>10),x=S+(R^V&(C^R))+j[1]+4129170786&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^R&(S^C))+j[6]+3225465664&4294967295,V=S+(x<<9&4294967295|x>>>23),x=R+(S^C&(V^S))+j[11]+643717713&4294967295,R=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(R^V))+j[0]+3921069994&4294967295,C=R+(x<<20&4294967295|x>>>12),x=S+(R^V&(C^R))+j[5]+3593408605&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^R&(S^C))+j[10]+38016083&4294967295,V=S+(x<<9&4294967295|x>>>23),x=R+(S^C&(V^S))+j[15]+3634488961&4294967295,R=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(R^V))+j[4]+3889429448&4294967295,C=R+(x<<20&4294967295|x>>>12),x=S+(R^V&(C^R))+j[9]+568446438&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^R&(S^C))+j[14]+3275163606&4294967295,V=S+(x<<9&4294967295|x>>>23),x=R+(S^C&(V^S))+j[3]+4107603335&4294967295,R=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(R^V))+j[8]+1163531501&4294967295,C=R+(x<<20&4294967295|x>>>12),x=S+(R^V&(C^R))+j[13]+2850285829&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^R&(S^C))+j[2]+4243563512&4294967295,V=S+(x<<9&4294967295|x>>>23),x=R+(S^C&(V^S))+j[7]+1735328473&4294967295,R=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(R^V))+j[12]+2368359562&4294967295,C=R+(x<<20&4294967295|x>>>12),x=S+(C^R^V)+j[5]+4294588738&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^R)+j[8]+2272392833&4294967295,V=S+(x<<11&4294967295|x>>>21),x=R+(V^S^C)+j[11]+1839030562&4294967295,R=V+(x<<16&4294967295|x>>>16),x=C+(R^V^S)+j[14]+4259657740&4294967295,C=R+(x<<23&4294967295|x>>>9),x=S+(C^R^V)+j[1]+2763975236&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^R)+j[4]+1272893353&4294967295,V=S+(x<<11&4294967295|x>>>21),x=R+(V^S^C)+j[7]+4139469664&4294967295,R=V+(x<<16&4294967295|x>>>16),x=C+(R^V^S)+j[10]+3200236656&4294967295,C=R+(x<<23&4294967295|x>>>9),x=S+(C^R^V)+j[13]+681279174&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^R)+j[0]+3936430074&4294967295,V=S+(x<<11&4294967295|x>>>21),x=R+(V^S^C)+j[3]+3572445317&4294967295,R=V+(x<<16&4294967295|x>>>16),x=C+(R^V^S)+j[6]+76029189&4294967295,C=R+(x<<23&4294967295|x>>>9),x=S+(C^R^V)+j[9]+3654602809&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^R)+j[12]+3873151461&4294967295,V=S+(x<<11&4294967295|x>>>21),x=R+(V^S^C)+j[15]+530742520&4294967295,R=V+(x<<16&4294967295|x>>>16),x=C+(R^V^S)+j[2]+3299628645&4294967295,C=R+(x<<23&4294967295|x>>>9),x=S+(R^(C|~V))+j[0]+4096336452&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~R))+j[7]+1126891415&4294967295,V=S+(x<<10&4294967295|x>>>22),x=R+(S^(V|~C))+j[14]+2878612391&4294967295,R=V+(x<<15&4294967295|x>>>17),x=C+(V^(R|~S))+j[5]+4237533241&4294967295,C=R+(x<<21&4294967295|x>>>11),x=S+(R^(C|~V))+j[12]+1700485571&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~R))+j[3]+2399980690&4294967295,V=S+(x<<10&4294967295|x>>>22),x=R+(S^(V|~C))+j[10]+4293915773&4294967295,R=V+(x<<15&4294967295|x>>>17),x=C+(V^(R|~S))+j[1]+2240044497&4294967295,C=R+(x<<21&4294967295|x>>>11),x=S+(R^(C|~V))+j[8]+1873313359&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~R))+j[15]+4264355552&4294967295,V=S+(x<<10&4294967295|x>>>22),x=R+(S^(V|~C))+j[6]+2734768916&4294967295,R=V+(x<<15&4294967295|x>>>17),x=C+(V^(R|~S))+j[13]+1309151649&4294967295,C=R+(x<<21&4294967295|x>>>11),x=S+(R^(C|~V))+j[4]+4149444226&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~R))+j[11]+3174756917&4294967295,V=S+(x<<10&4294967295|x>>>22),x=R+(S^(V|~C))+j[2]+718787259&4294967295,R=V+(x<<15&4294967295|x>>>17),x=C+(V^(R|~S))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+V&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var C=S-this.blockSize,j=this.B,R=this.h,V=0;V<S;){if(R==0)for(;V<=C;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<S;)if(j[R++]=M.charCodeAt(V++),R==this.blockSize){o(this,j),R=0;break}}else for(;V<S;)if(j[R++]=M[V++],R==this.blockSize){o(this,j),R=0;break}}this.h=R,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var C=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=C&255,C/=256;for(this.u(M),M=Array(16),S=C=0;4>S;++S)for(var j=0;32>j;j+=8)M[C++]=this.g[S]>>>j&255;return M};function h(M,S){var C=g;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=S(M)}function d(M,S){this.h=S;for(var C=[],j=!0,R=M.length-1;0<=R;R--){var V=M[R]|0;j&&V==S||(C[R]=V,j=!1)}this.g=C}var g={};function v(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return W(_(-M));for(var S=[],C=1,j=0;M>=C;j++)S[j]=M/C|0,C*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return W(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(S,8)),j=N,R=0;R<M.length;R+=8){var V=Math.min(8,M.length-R),x=parseInt(M.substring(R,R+V),S);8>V?(V=_(Math.pow(S,V)),j=j.j(V).add(_(x))):(j=j.j(C),j=j.add(_(x)))}return j}var N=v(0),D=v(1),G=v(16777216);a=d.prototype,a.m=function(){if(at(this))return-W(this).m();for(var M=0,S=1,C=0;C<this.g.length;C++){var j=this.i(C);M+=(0<=j?j:4294967296+j)*S,S*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(tt(this))return"0";if(at(this))return"-"+W(this).toString(M);for(var S=_(Math.pow(M,6)),C=this,j="";;){var R=vt(C,S).g;C=bt(C,R.j(S));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=R,tt(C))return V+j;for(;6>V.length;)V="0"+V;j=V+j}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function tt(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function at(M){return M.h==-1}a.l=function(M){return M=bt(this,M),at(M)?-1:tt(M)?0:1};function W(M){for(var S=M.g.length,C=[],j=0;j<S;j++)C[j]=~M.g[j];return new d(C,~M.h).add(D)}a.abs=function(){return at(this)?W(this):this},a.add=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0,R=0;R<=S;R++){var V=j+(this.i(R)&65535)+(M.i(R)&65535),x=(V>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);j=x>>>16,V&=65535,x&=65535,C[R]=x<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function bt(M,S){return M.add(W(S))}a.j=function(M){if(tt(this)||tt(M))return N;if(at(this))return at(M)?W(this).j(W(M)):W(W(this).j(M));if(at(M))return W(this.j(W(M)));if(0>this.l(G)&&0>M.l(G))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,C=[],j=0;j<2*S;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(var R=0;R<M.g.length;R++){var V=this.i(j)>>>16,x=this.i(j)&65535,ie=M.i(R)>>>16,Wt=M.i(R)&65535;C[2*j+2*R]+=x*Wt,F(C,2*j+2*R),C[2*j+2*R+1]+=V*Wt,F(C,2*j+2*R+1),C[2*j+2*R+1]+=x*ie,F(C,2*j+2*R+1),C[2*j+2*R+2]+=V*ie,F(C,2*j+2*R+2)}for(j=0;j<S;j++)C[j]=C[2*j+1]<<16|C[2*j];for(j=S;j<2*S;j++)C[j]=0;return new d(C,0)};function F(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function J(M,S){this.g=M,this.h=S}function vt(M,S){if(tt(S))throw Error("division by zero");if(tt(M))return new J(N,N);if(at(M))return S=vt(W(M),S),new J(W(S.g),W(S.h));if(at(S))return S=vt(M,W(S)),new J(W(S.g),S.h);if(30<M.g.length){if(at(M)||at(S))throw Error("slowDivide_ only works with positive integers.");for(var C=D,j=S;0>=j.l(M);)C=st(C),j=st(j);var R=At(C,1),V=At(j,1);for(j=At(j,2),C=At(C,2);!tt(j);){var x=V.add(j);0>=x.l(M)&&(R=R.add(C),V=x),j=At(j,1),C=At(C,1)}return S=bt(M,R.j(S)),new J(R,S)}for(R=N;0<=M.l(S);){for(C=Math.max(1,Math.floor(M.m()/S.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),V=_(C),x=V.j(S);at(x)||0<x.l(M);)C-=j,V=_(C),x=V.j(S);tt(V)&&(V=D),R=R.add(V),M=bt(M,x)}return new J(R,M)}a.A=function(M){return vt(this,M).h},a.and=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)&M.i(j);return new d(C,this.h&M.h)},a.or=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)|M.i(j);return new d(C,this.h|M.h)},a.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)^M.i(j);return new d(C,this.h^M.h)};function st(M){for(var S=M.g.length+1,C=[],j=0;j<S;j++)C[j]=M.i(j)<<1|M.i(j-1)>>>31;return new d(C,M.h)}function At(M,S){var C=S>>5;S%=32;for(var j=M.g.length-C,R=[],V=0;V<j;V++)R[V]=0<S?M.i(V+C)>>>S|M.i(V+C+1)<<32-S:M.i(V+C);return new d(R,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,j_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,fr=d}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U_,Pl,L_,Uu,zf,P_,z_,k_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in p))break t;p=p[L]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,b=!1,L={next:function(){if(!b&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,D.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function tt(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(b,L,q){for(var nt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)nt[Ot-2]=arguments[Ot];return m.prototype[L].apply(b,nt)}}function at(u){const m=u.length;if(0<m){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function W(u,m){for(let p=1;p<arguments.length;p++){const b=arguments[p];if(v(b)){const L=u.length||0,q=b.length||0;u.length=L+q;for(let nt=0;nt<q;nt++)u[L+nt]=b[nt]}else u.push(b)}}class bt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var st=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function At(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,m){let p,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(p in b)u[p]=b[p];for(let q=0;q<C.length;q++)p=C[q],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function R(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function V(u){g.setTimeout(()=>{throw u},0)}function x(){var u=Nt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ie{constructor(){this.h=this.g=null}add(m,p){const b=Wt.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var Wt=new bt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,Nt=new ie,I=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(K)}};var K=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(p){V(p)}var m=Wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function St(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(st){t:{try{vt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&St.aa.h.call(this)}}tt(St,et);var yt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function fn(u,m,p,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=L,this.key=++Qt,this.da=this.fa=!1}function Pn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rn(u){this.src=u,this.g={},this.h=0}Rn.prototype.add=function(u,m,p,b,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=Tr(u,m,b,L);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new fn(m,this.src,q,!!b,L),m.fa=p,u.push(m)),m};function Er(u,m){var p=m.type;if(p in u.g){var b=u.g[p],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(b,L,1),q&&(Pn(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Tr(u,m,p,b){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==b)return L}return-1}var br="closure_lm_"+(1e6*Math.random()|0),Cs={};function so(u,m,p,b,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)so(u,m[q],p,b,L);return null}return p=lo(p),u&&u[de]?u.K(m,p,_(b)?!!b.capture:!1,L):dn(u,m,p,!1,b,L)}function dn(u,m,p,b,L,q){if(!m)throw Error("Invalid event type");var nt=_(L)?!!L.capture:!!L,Ot=da(u);if(Ot||(u[br]=Ot=new Rn(u)),p=Ot.add(m,p,b,nt,q),p.proxy)return p;if(b=_c(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)ft||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Ar(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _c(){function u(p){return m.call(u.src,u.listener,p)}const m=vc;return u}function Ns(u,m,p,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ns(u,m[q],p,b,L);else b=_(b)?!!b.capture:!!b,p=lo(p),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Tr(q,p,b,L),-1<p&&(Pn(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=da(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tr(m,p,b,L)),(p=-1<u?m[u]:null)&&fa(p))}function fa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])Er(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(Ar(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=da(m))?(Er(p,u),p.h==0&&(p.src=null,m[br]=null)):Pn(u)}}}function Ar(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function vc(u,m){if(u.da)u=!0;else{m=new St(m,this);var p=u.listener,b=u.ha||u.src;u.fa&&fa(u),u=p.call(b,m)}return u}function da(u){return u=u[br],u instanceof Rn?u:null}var Ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(u){return typeof u=="function"?u:(u[Ds]||(u[Ds]=function(m){return u.handleEvent(m)}),u[Ds])}function se(){rt.call(this),this.i=new Rn(this),this.M=this,this.F=null}tt(se,rt),se.prototype[de]=!0,se.prototype.removeEventListener=function(u,m,p,b){Ns(this,u,m,p,b)};function qt(u,m){var p,b=u.F;if(b)for(p=[];b;b=b.F)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(b,u),j(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var nt=m.g=p[q];L=nn(nt,b,!0,m)&&L}if(nt=m.g=u,L=nn(nt,b,!0,m)&&L,L=nn(nt,b,!1,m)&&L,p)for(q=0;q<p.length;q++)nt=m.g=p[q],L=nn(nt,b,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],b=0;b<p.length;b++)Pn(p[b]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},se.prototype.L=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function nn(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==p){var Ot=nt.listener,Te=nt.ha||nt.src;nt.fa&&Er(u.i,nt),L=Ot.call(Te,b)!==!1&&L}}return L&&!b.defaultPrevented}function Be(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function oo(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,oo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ec extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(u){rt.call(this),this.h=u,this.g={}}tt(Sr,rt);var xr=[];function wr(u){At(u.g,function(m,p){this.g.hasOwnProperty(p)&&fa(m)},u),u.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),wr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,ma=g.JSON.parse,Rr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Vs(){}Vs.prototype.h=null;function Is(u){return u.h||(u.h=u.i())}function Os(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){et.call(this,"d")}tt(si,et);function Ms(){et.call(this,"c")}tt(Ms,et);var zn={},js=null;function ji(){return js=js||new se}zn.La="serverreachability";function ga(u){et.call(this,zn.La,u)}tt(ga,et);function Ui(u){const m=ji();qt(m,new ga(m))}zn.STAT_EVENT="statevent";function uo(u,m){et.call(this,zn.STAT_EVENT,u),this.stat=m}tt(uo,et);function ee(u){const m=ji();qt(m,new uo(m,u))}zn.Ma="timingevent";function Ee(u,m){et.call(this,zn.Ma,u),this.size=m}tt(Ee,et);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Us(u,m,p,b,L,q){u.info(function(){if(u.g)if(q)for(var nt="",Ot=q.split("&"),Te=0;Te<Ot.length;Te++){var Mt=Ot[Te].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var be=Ce.split("_");nt=2<=be.length&&be[1]=="type"?nt+(Ce+"="+Mt+"&"):nt+(Ce+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+p+`
`+nt})}function Tc(u,m,p,b,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+nt})}function Li(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cr(u,p)+(b?" "+b:"")})}function co(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Cr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var b=p[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Cn(p)}catch{return m}}var Pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Bn(){}tt(Bn,Vs),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},kn=new Bn;function Ye(u,m,p,b){this.j=u,this.i=m,this.l=p,this.R=b||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ls={},pa={};function Nn(u,m,p){u.L=1,u.v=Or(rn(m)),u.m=p,u.P=!0,oi(u,null)}function oi(u,m){u.F=Date.now(),Nr(u),u.A=rn(u.v);var p=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Hs(p.i,"t",b),u.C=0,p=u.j.J,u.h=new ue,u.g=Ro(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Ec(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xr[0]=L.toString()),L=xr);for(var q=0;q<L.length;q++){var nt=so(p,L[q],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ui(),Us(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const be=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||be!=4||m==7||(m==8||0>=pi?Ui(3):Ui(2)),zi(this);var p=this.g.Z();this.X=p;e:if(ho(this)){var b=vo(this.g);u="";var L=b.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),qn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(q&&m==L-1)});b.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Tc(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Te=this.g;if((Ot=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Li(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,p);else{this.o=!1,this.s=3,ee(12),Oe(this),qn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<nt.length;)if(Me=fo(this,nt),Me==pa){be==4&&(this.s=4,ee(14),p=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ls){this.s=4,ee(15),Li(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else Li(this.i,this.l,Me,null),Dr(this,Me);if(ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||nt.length!=0||this.h.h||(this.s=1,ee(16),p=!1),this.o=this.o&&p,!p)Li(this.i,this.l,nt,"[Invalid Chunked Response]"),Oe(this),qn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Br(Ce),Ce.M=!0,ee(11))}}else Li(this.i,this.l,nt,null),Dr(this,nt);be==4&&Oe(this),this.o&&!this.J&&(be==4?So(this.j,this):(this.o=!1,Nr(this)))}else wc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Oe(this),qn(this)}}}catch{}finally{}};function ho(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fo(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?pa:(p=Number(m.substring(p,b)),isNaN(p)?Ls:(b+=1,b+p>m.length?pa:(m=m.slice(b,b+p),u.C=b+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Nr(u){u.S=Date.now()+u.I,mo(u,u.I)}function mo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(D(u.ba,u),m)}function zi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(co(this.i,this.A),this.L!=2&&(Ui(),ee(17)),Oe(this),this.s=2,qn(this)):mo(this,this.S-u)};function qn(u){u.j.G==0||u.J||So(u.j,u)}function Oe(u){zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,wr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Dr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ps(p.h,u))){if(!u.K&&Ps(p.h,u)&&p.G==3){try{var b=p.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ca(p),wa(p);else break t;Ks(p),ee(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(D(p.Za,p),6e3));if(1>=_a(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((u.K||p.g==u)&&Ca(p),!F(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const be=Mt[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(b=1.5*pi,p.L=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Me=u.g;if(Me){const Xn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var q=b.h;q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(va(q,q.h),q.h=null))}if(b.D){const Zs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(b.ya=Zs,Ft(b.I,b.D,Zs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),b=p;var nt=u;if(b.qa=wo(b,b.J?b.ia:null,b.W),nt.K){Ke(b.h,nt);var Ot=nt,Te=b.L;Te&&(Ot.I=Te),Ot.B&&(zi(Ot),Nr(Ot)),b.g=nt}else bo(b);0<p.i.length&&Ra(p)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(p,7):Fs(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Ui(4)}catch{}}var go=class{constructor(u,m){this.g=u,this.map=m}};function ui(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _a(u){return u.h?1:u.g?u.g.size:0}function Ps(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function va(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ui.prototype.cancel=function(){if(this.i=zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return at(u.i)}function bc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,b=0;b<p;b++)m.push(u[b]);return m}m=[],p=0;for(b in u)m[p++]=u[b];return m}function Ea(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const b in u)m[p++]=b;return m}}}function ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ea(u),b=bc(u),L=b.length,q=0;q<L;q++)m.call(void 0,b[q],p&&p[q],u)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var b=u[p].indexOf("="),L=null;if(0<=b){var q=u[p].substring(0,b);L=u[p].substring(b+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Ir(this,u.j),this.o=u.o,this.g=u.g,ki(this,u.s),this.l=u.l;var m=u.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ci(this,p),this.m=u.m}else u&&(m=String(u).match(Vr))?(this.h=!1,Ir(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),ki(this,m[4]),this.l=gn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Mr(m,Bs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,Bs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Mr(p,p.charAt(0)=="/"?Sc:qs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Mr(p,Ta)),u.join("")};function rn(u){return new ge(u)}function Ir(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ci(u,m,p){m instanceof hi?(u.i=m,yo(u.i,u.h)):(p||(m=Mr(m,xc)),u.i=new hi(m,u.h))}function Ft(u,m,p){u.i.set(m,p)}function Or(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,po),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bs=/[#\/\?@]/g,qs=/[#\?:]/g,Sc=/[#\?]/g,xc=/[#\?@]/g,Ta=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ac(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=hi.prototype,a.add=function(u,m){pn(this),this.i=null,u=Hn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function fi(u,m){pn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return pn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,b){p.forEach(function(L){u.call(m,L,b,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let b=0;b<m.length;b++){const L=u[b];for(let q=0;q<L.length;q++)p.push(m[b])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=Hn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hs(u,m,p){fi(u,m),0<p.length&&(u.i=null,u.g.set(Hn(u,m),at(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var b=m[p];const q=encodeURIComponent(String(b)),nt=this.V(b);for(b=0;b<nt.length;b++){var L=q;nt[b]!==""&&(L+="="+encodeURIComponent(String(nt[b]))),u.push(L)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function yo(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,b){var L=b.toLowerCase();b!=L&&(fi(this,b),Hs(this,L,p))},u)),u.j=m}function jr(u,m){const p=new mn;if(g.Image){const b=new Image;b.onload=G(yn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=G(yn,p,"TestLoadImage: error",!1,m,b),b.onabort=G(yn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=G(yn,p,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Dn(u,m){const p=new mn,b=new AbortController,L=setTimeout(()=>{b.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(p)}catch{}}function Ur(){this.g=new Rr}function Gn(u,m,p){const b=p||"";try{ks(u,function(L,q){let nt=L;_(L)&&(nt=Cn(L)),m.push(b+q+"="+encodeURIComponent(nt))})}catch(L){throw m.push(b+"type="+encodeURIComponent("_badmap")),L}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(Bi,Vs),Bi.prototype.g=function(){return new mi(this.l,this.j)},Bi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(mi,se),a=mi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Fn(this),this.readyState==3&&Gs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},a.Qa=function(u){this.g&&(this.response=u,Qn(this))},a.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return At(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Qs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ft(u,m,p))}function kt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(kt,se);var ba=/^https?$/i,Lr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Is(this.o):Is(kn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_o(this,q);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)p.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())p.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||b||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of p)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){_o(this,q)}};function _o(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Aa(u),Yn(u)}function Aa(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},a.bb=function(){Sa(this)};function Sa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)Be(u.Ea,0,u);else if(qt(u,"readystatechange"),_n(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=nt===0){var L=String(u.D).match(Vr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),b=!ba.test(L?L.toLowerCase():"")}p=b}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<_n(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Aa(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Pr(u);const p=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=b}catch{}}}function Pr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ma(m)}};function vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(F(u[b]))continue;var p=R(u[b]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}M(m,function(b){return b.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function xa(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,u),this.cb=zr("retryDelaySeedMs",1e4,u),this.Wa=zr("forwardChannelMaxRetries",2,u),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(u&&u.concurrentRequestLimit),this.Da=new Ur,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=xa.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,b){ee(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.I=wo(this,null,this.W),Ra(this)};function Fs(u){if(Eo(u),u.G==3){var m=u.U++,p=rn(u.I);if(Ft(p,"SID",u.K),Ft(p,"RID",m),Ft(p,"TYPE","terminate"),kr(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Or(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ro(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Nr(m)}xo(u)}function wa(u){u.g&&(Br(u),u.g.cancel(),u.g=null)}function Eo(u){wa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ca(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ra(u){if(!ya(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||I(),ct||(it(),ct=!0),Nt.add(m,u),u.B=0}}function Rc(u,m){return _a(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(D(u.Ga,u,m),Xs(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),j(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=To(this,L,m),p=rn(this.I),Ft(p,"RID",u),Ft(p,"CVER",22),this.D&&Ft(p,"X-HTTP-Session-Id",this.D),kr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Qs(q)))+"&"+m:this.m&&Re(p,this.m,q)),va(this.h,L),this.Ua&&Ft(p,"TYPE","init"),this.P?(Ft(p,"$req",m),Ft(p,"SID","null"),L.T=!0,Nn(L,p,null)):Nn(L,p,m),this.G=2}}else this.G==3&&(u?Ys(this,u):this.i.length==0||ya(this.h)||Ys(this))};function Ys(u,m){var p;m?p=m.l:p=u.U++;const b=rn(u.I);Ft(b,"SID",u.K),Ft(b,"RID",p),Ft(b,"AID",u.T),kr(u,b),u.m&&u.o&&Re(b,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=To(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),va(u.h,p),Nn(p,b,m)}function kr(u,m){u.H&&At(u.H,function(p,b){Ft(m,b,p)}),u.l&&ks({},function(p,b){Ft(m,b,p)})}function To(u,m,p){p=Math.min(u.i.length,p);var b=u.l?D(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const nt=["count="+p];q==-1?0<p?(q=L[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Ot=!0;for(let Te=0;Te<p;Te++){let Mt=L[Te].g;const Ce=L[Te].map;if(Mt-=q,0>Mt)q=Math.max(0,L[Te].g-100),Ot=!1;else try{Gn(Ce,nt,"req"+Mt+"_")}catch{b&&b(Ce)}}if(Ot){b=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,b}function bo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||I(),ct||(it(),ct=!0),Nt.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(D(u.Fa,u),Xs(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),wa(this),Ao(this))};function Br(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),kr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Or(rn(m)),p.m=null,p.P=!0,oi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,wa(this),Ks(this),ee(19))};function Ca(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function So(u,m){var p=null;if(u.g==m){Ca(u),Br(u),u.g=null;var b=2}else if(Ps(u.h,m))p=m.D,Ke(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;b=ji(),qt(b,new Ee(b,p)),Ra(u)}else bo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(b==1&&Rc(u,m)||b==2&&Ks(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Xs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),b=u.Xa;const L=!b;b=new ge(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ir(b,"https"),Or(b),L?jr(b.toString(),p):Dn(b.toString(),p)}else ee(2);u.G=0,u.l&&u.l.sa(m),xo(u),Eo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=zs(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,at(u.i),u.i.length=0),u.l.ra()}}function wo(u,m,p){var b=p instanceof ge?rn(p):new ge(p);if(b.g!="")m&&(b.g=m+"."+b.g),ki(b,b.s);else{var L=g.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new ge(null);b&&Ir(q,b),m&&(q.g=m),L&&ki(q,L),p&&(q.l=p),b=q}return p=u.D,m=u.ya,p&&m&&Ft(b,p,m),Ft(b,"VER",u.la),kr(u,b),b}function Ro(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Bi({eb:p})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}a=Co.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Na(){}Na.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){se.call(this),this.g=new xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!F(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!F(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}tt(Xe,se),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Fs(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new go(m.Ya++,u)),m.G==3&&Ra(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Xe.aa.N.call(this)};function No(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(No,si);function Do(){Ms.call(this),this.status=1}tt(Do,Ms);function Kn(u){this.g=u}tt(Kn,Co),Kn.prototype.ua=function(){qt(this.g,"a")},Kn.prototype.ta=function(u){qt(this.g,new No(u))},Kn.prototype.sa=function(u){qt(this.g,new Do)},Kn.prototype.ra=function(){qt(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,k_=function(){return new Na},z_=function(){return ji()},P_=zn,zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,Uu=Pi,li.COMPLETE="complete",L_=li,Os.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",se.prototype.listen=se.prototype.K,Pl=Os,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,U_=kt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",Sy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new N_("@firebase/firestore");function rs(){return aa.logLevel}function lt(a,...e){if(aa.logLevel<=Lt.DEBUG){const i=e.map(ld);aa.debug(`Firestore (${bs}): ${a}`,...i)}}function Ii(a,...e){if(aa.logLevel<=Lt.ERROR){const i=e.map(ld);aa.error(`Firestore (${bs}): ${a}`,...i)}}function fs(a,...e){if(aa.logLevel<=Lt.WARN){const i=e.map(ld);aa.warn(`Firestore (${bs}): ${a}`,...i)}}function ld(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,B_(a,s,i)}function B_(a,e,i){let s=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ii(s),new Error(s)}function Bt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||B_(e,o,s)}function Tt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class Pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class zb{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Di,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Di)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new q_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class kb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Bb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new kb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Hb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Rt(a,e){return a<e?-1:a>e?1:0}function kf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const h=H_(),d=Gb(h.encode(wy(a,i)),h.encode(wy(e,i)));return d!==0?d:Rt(s,o)}}i+=s>65535?2:1}return Rt(a.length,e.length)}function wy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function Gb(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Rt(a[i],e[i]);return Rt(a.length,e.length)}function ds(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,Cy=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Cy);return new xe(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ry)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new xe(0,0))}static max(){return new Et(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class te extends ei{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ei{construct(e,i,s){return new ze(e,i,s)}static isValidIdentifier(e){return Qb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ny}static keyField(){return new ze([Ny])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(te.fromString(e))}static fromName(e){return new dt(te.fromString(e).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function Fb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new xe(i+1,0):new xe(i,s));return new mr(o,dt.empty(),e)}function Yb(a){return new mr(a.readTime,a.key,Xl)}class mr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new mr(Et.min(),dt.empty(),Xl)}static max(){return new mr(Et.max(),dt.empty(),Xl)}}function Kb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,e.documentKey),i!==0?i:Rt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(a){if(a.code!==Z.FAILED_PRECONDITION||a.message!==Xb)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>s(v))}),d=!0,h===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new $((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function $b(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ss(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ic.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function rc(a){return a==null}function Fu(a){return a===0&&1/a==-1/0}function Jb(a){return typeof a=="number"&&Number.isInteger(a)&&!Fu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="";function Wb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Dy(e)),e=t1(a.get(i),e);return Dy(e)}function t1(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Q_:i+="";break;default:i+=h}}return i}function Dy(a){return a+Q_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function la(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function F_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new jn([])}unionWith(e){let i=new we(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Y_("Invalid base64 string: "+h):h}}(e);return new ke(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const e1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(a){if(Bt(!!a,39018),typeof a=="string"){let e=0;const i=e1.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(a.seconds),nanos:fe(a.nanos)}}function fe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function pr(a){return typeof a=="string"?ke.fromBase64String(a):ke.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="server_timestamp",X_="__type__",Z_="__previous_value__",$_="__local_write_time__";function ud(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[X_])===null||i===void 0?void 0:i.stringValue)===K_}function ac(a){const e=a.mapValue.fields[Z_];return ud(e)?ac(e):e}function Zl(a){const e=gr(a.mapValue.fields[$_].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,i,s,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yu="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__type__",i1="__max__",Ou={mapValue:{}},W_="__vector__",Ku="value";function yr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ud(a)?4:a1(a)?9007199254740991:r1(a)?10:11:pt(28295,{value:a})}function ri(a,e){if(a===e)return!0;const i=yr(a);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Zl(a).isEqual(Zl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=gr(o.timestampValue),g=gr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return pr(o.bytesValue).isEqual(pr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?Fu(d)===Fu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return ds(a.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Vy(d)!==Vy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ri(d[v],g[v])))return!1;return!0}(a,e);default:return pt(52216,{left:a})}}function Jl(a,e){return(a.values||[]).find(i=>ri(i,e))!==void 0}function ms(a,e){if(a===e)return 0;const i=yr(a),s=yr(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),v=fe(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return Oy(a.timestampValue,e.timestampValue);case 4:return Oy(Zl(a),Zl(e));case 5:return kf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=pr(h),v=pr(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Rt(g[_],v[_]);if(A!==0)return A}return Rt(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(fe(h.latitude),fe(d.latitude));return g!==0?g:Rt(fe(h.longitude),fe(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return My(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const N=h.fields||{},D=d.fields||{},G=(g=N[Ku])===null||g===void 0?void 0:g.arrayValue,tt=(v=D[Ku])===null||v===void 0?void 0:v.arrayValue,at=Rt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((A=tt==null?void 0:tt.values)===null||A===void 0?void 0:A.length)||0);return at!==0?at:My(G,tt)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ou.mapValue&&d===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let N=0;N<v.length&&N<A.length;++N){const D=kf(v[N],A[N]);if(D!==0)return D;const G=ms(g[v[N]],_[A[N]]);if(G!==0)return G}return Rt(v.length,A.length)}(a.mapValue,e.mapValue);default:throw pt(23264,{Pe:i})}}function Oy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Rt(a,e);const i=gr(a),s=gr(e),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function My(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ms(i[o],s[o]);if(h)return h}return Rt(i.length,s.length)}function gs(a){return Bf(a)}function Bf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=gr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return pr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Bf(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Bf(i.fields[d])}`;return o+"}"}(a.mapValue):pt(61005,{value:a})}function Lu(a){switch(yr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ac(a);return e?16+Lu(e):16;case 5:return 2*a.stringValue.length;case 6:return pr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Lu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return la(s.fields,(h,d)=>{o+=h.length+Lu(d)}),o}(a.mapValue);default:throw pt(13486,{value:a})}}function jy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function qf(a){return!!a&&"integerValue"in a}function cd(a){return!!a&&"arrayValue"in a}function Uy(a){return!!a&&"nullValue"in a}function Ly(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Pu(a){return!!a&&"mapValue"in a}function r1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[J_])===null||i===void 0?void 0:i.stringValue)===W_}function Hl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return la(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Hl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function a1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===i1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Pu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=ze.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Hl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Pu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){la(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new wn(Hl(this.value))}}function tv(a){const e=[];return la(a.fields,(i,s)=>{const o=new ze([i]);if(Pu(s)){const h=tv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,Et.min(),Et.min(),Et.min(),wn.empty(),0)}static newFoundDocument(e,i,s,o){return new Fe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,Et.min(),Et.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,Et.min(),Et.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function Py(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=ms(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function zy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ri(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i="asc"){this.field=e,this.dir=i}}function s1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{}class ve extends ev{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new o1(e,i,s):i==="array-contains"?new h1(e,s):i==="in"?new f1(e,s):i==="not-in"?new d1(e,s):i==="array-contains-any"?new m1(e,s):new ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new u1(e,s):new c1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ms(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends ev{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Ln(e,i)}matches(e){return nv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nv(a){return a.op==="and"}function iv(a){return l1(a)&&nv(a)}function l1(a){for(const e of a.filters)if(e instanceof Ln)return!1;return!0}function Hf(a){if(a instanceof ve)return a.field.canonicalString()+a.op.toString()+gs(a.value);if(iv(a))return a.filters.map(e=>Hf(e)).join(",");{const e=a.filters.map(i=>Hf(i)).join(",");return`${a.op}(${e})`}}function rv(a,e){return a instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&ri(s.value,o.value)}(a,e):a instanceof Ln?function(s,o){return o instanceof Ln&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&rv(d,o.filters[g]),!0):!1}(a,e):void pt(19439)}function av(a){return a instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${gs(i.value)}`}(a):a instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(av).join(" ,")+"}"}(a):"Filter"}class o1 extends ve{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class u1 extends ve{constructor(e,i){super(e,"in",i),this.keys=sv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class c1 extends ve{constructor(e,i){super(e,"not-in",i),this.keys=sv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function sv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class h1 extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&Jl(i.arrayValue,this.value)}}class f1 extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class d1 extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class m1 extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function ky(a,e=null,i=[],s=[],o=null,h=null,d=null){return new g1(a,e,i,s,o,h,d)}function hd(a){const e=Tt(a);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Hf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>gs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>gs(s)).join(",")),e.Ie=i}return e.Ie}function fd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!s1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!rv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!zy(a.startAt,e.startAt)&&zy(a.endAt,e.endAt)}function Gf(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function p1(a,e,i,s,o,h,d,g){return new xs(a,e,i,s,o,h,d,g)}function dd(a){return new xs(a)}function By(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function lv(a){return a.collectionGroup!==null}function Gl(a){const e=Tt(a);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(ze.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Wl(h,s))}),i.has(ze.keyField().canonicalString())||e.Ee.push(new Wl(ze.keyField(),s))}return e.Ee}function ni(a){const e=Tt(a);return e.de||(e.de=y1(e,Gl(a))),e.de}function y1(a,e){if(a.limitType==="F")return ky(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Wl(o.field,h)});const i=a.endAt?new Xu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Xu(a.startAt.position,a.startAt.inclusive):null;return ky(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Qf(a,e){const i=a.filters.concat([e]);return new xs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Ff(a,e,i){return new xs(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function sc(a,e){return fd(ni(a),ni(e))&&a.limitType===e.limitType}function ov(a){return`${hd(ni(a))}|lt:${a.limitType}`}function as(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>av(o)).join(", ")}]`),rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>gs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>gs(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function lc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Gl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=Py(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Gl(s),o)||s.endAt&&!function(d,g,v){const _=Py(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Gl(s),o))}(a,e)}function _1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function uv(a){return(e,i)=>{let s=!1;for(const o of Gl(a)){const h=v1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function v1(a,e,i){const s=a.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?ms(v,_):pt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return F_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new ae(dt.comparator);function Oi(){return E1}const cv=new ae(dt.comparator);function zl(...a){let e=cv;for(const i of a)e=e.insert(i.key,i);return e}function hv(a){let e=cv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ra(){return Ql()}function fv(){return Ql()}function Ql(){return new oa(a=>a.toString(),(a,e)=>a.isEqual(e))}const T1=new ae(dt.comparator),b1=new we(dt.comparator);function It(...a){let e=b1;for(const i of a)e=e.add(i);return e}const A1=new we(Rt);function S1(){return A1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function dv(a){return{integerValue:""+a}}function x1(a,e){return Jb(e)?dv(e):md(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function w1(a,e,i){return a instanceof Zu?function(o,h){const d={fields:{[X_]:{stringValue:K_},[$_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=ac(h)),h&&(d.fields[Z_]=h),{mapValue:d}}(i,e):a instanceof to?gv(a,e):a instanceof eo?pv(a,e):function(o,h){const d=mv(o,h),g=qy(d)+qy(o.Re);return qf(d)&&qf(o.Re)?dv(g):md(o.serializer,g)}(a,e)}function R1(a,e,i){return a instanceof to?gv(a,e):a instanceof eo?pv(a,e):i}function mv(a,e){return a instanceof $u?function(s){return qf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Zu extends oc{}class to extends oc{constructor(e){super(),this.elements=e}}function gv(a,e){const i=yv(e);for(const s of a.elements)i.some(o=>ri(o,s))||i.push(s);return{arrayValue:{values:i}}}class eo extends oc{constructor(e){super(),this.elements=e}}function pv(a,e){let i=yv(e);for(const s of a.elements)i=i.filter(o=>!ri(o,s));return{arrayValue:{values:i}}}class $u extends oc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function qy(a){return fe(a.integerValue||a.doubleValue)}function yv(a){return cd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function C1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof to&&o instanceof to||s instanceof eo&&o instanceof eo?ds(s.elements,o.elements,ri):s instanceof $u&&o instanceof $u?ri(s.Re,o.Re):s instanceof Zu&&o instanceof Zu}(a.transform,e.transform)}class N1{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class uc{}function _v(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new gd(a.key,Un.none()):new no(a.key,a.data,Un.none());{const i=a.data,s=wn.empty();let o=new we(ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new ua(a.key,s,new jn(o.toArray()),Un.none())}}function D1(a,e,i){a instanceof no?function(o,h,d){const g=o.value.clone(),v=Gy(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof ua?function(o,h,d){if(!zu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Gy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(vv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(a,e,i,s){return a instanceof no?function(h,d,g,v){if(!zu(h.precondition,d))return g;const _=h.value.clone(),A=Qy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,s):a instanceof ua?function(h,d,g,v){if(!zu(h.precondition,d))return g;const _=Qy(h.fieldTransforms,v,d),A=d.data;return A.setAll(vv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(a,e,i,s):function(h,d,g){return zu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function V1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=mv(s.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(s.field,h))}return i||null}function Hy(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ds(s,o,(h,d)=>C1(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class no extends uc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends uc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function vv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function Gy(a,e,i){const s=new Map;Bt(a.length===i.length,32656,{Ve:i.length,me:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,R1(d,g,i[o]))}return s}function Qy(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,w1(h,d,e))}return s}class gd extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I1 extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&D1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=fv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=_v(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(i,s)=>Hy(i,s))&&ds(this.baseMutations,e.baseMutations,(i,s)=>Hy(i,s))}}class pd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Bt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return T1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new pd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function U1(a){switch(a){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function Ev(a){if(a===void 0)return Ii("GRPC error has no .code"),Z.UNKNOWN;switch(a){case _e.OK:return Z.OK;case _e.CANCELLED:return Z.CANCELLED;case _e.UNKNOWN:return Z.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Z.INTERNAL;case _e.UNAVAILABLE:return Z.UNAVAILABLE;case _e.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _e.NOT_FOUND:return Z.NOT_FOUND;case _e.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _e.ABORTED:return Z.ABORTED;case _e.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _e.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:a})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new fr([4294967295,4294967295],0);function Fy(a){const e=H_().encode(a),i=new j_;return i.update(e),new Uint8Array(i.digest())}function Yy(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new fr([i,s],0),new fr([o,h],0)]}class yd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=fr.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(fr.fromNumber(s)));return o.compare(L1)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Fy(e),[s,o]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new yd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Fy(e),[s,o]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new cc(Et.min(),o,new ae(Rt),Oi(),It())}}class io{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new io(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Tv{constructor(e,i){this.targetId=e,this.Ce=i}}class bv{constructor(e,i,s=ke.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Ky{constructor(){this.Fe=0,this.Me=Xy(),this.xe=ke.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=It(),i=It(),s=It();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:h})}}),new io(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=Xy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class P1{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new ae(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(Gf(h))if(s===0){const d=new dt(h.path);this.tt(i,d,Fe.newNoDocument(d,Et.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),v=g?this.lt(g,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=pr(s).toUint8Array()}catch(v){if(v instanceof Y_)return fs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new yd(d,o,h)}catch(v){return fs(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Gf(g.target)){const v=new dt(g.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Fe.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=It();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new cc(e,i,this.Ze,this.He,s);return this.He=Oi(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new ae(Rt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Ky,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new we(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new we(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ky),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Mu(){return new ae(dt.comparator)}function Xy(){return new ae(dt.comparator)}const z1={asc:"ASCENDING",desc:"DESCENDING"},k1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B1={and:"AND",or:"OR"};class q1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(a,e){return a.useProto3Json||rc(e)?e:{value:e}}function Ju(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Av(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function H1(a,e){return Ju(a,e.toTimestamp())}function ii(a){return Bt(!!a,49232),Et.fromTimestamp(function(i){const s=gr(i);return new xe(s.seconds,s.nanos)}(a))}function _d(a,e){return Kf(a,e).canonicalString()}function Kf(a,e){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Sv(a){const e=te.fromString(a);return Bt(Nv(e),10190,{key:e.toString()}),e}function Xf(a,e){return _d(a.databaseId,e.path)}function Nf(a,e){const i=Sv(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(wv(i))}function xv(a,e){return _d(a.databaseId,e)}function G1(a){const e=Sv(a);return e.length===4?te.emptyPath():wv(e)}function Zf(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function wv(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Zy(a,e,i){return{name:Xf(a,e),fields:i.value.mapValue.fields}}function Q1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:Ev(_.code);return new ot(A,_.message||"")}(d);i=new bv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Nf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Et.min(),g=new wn({mapValue:{fields:s.document.fields}}),v=Fe.newFoundDocument(o,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new ku(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Nf(a,s.document),h=s.readTime?ii(s.readTime):Et.min(),d=Fe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new ku([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Nf(a,s.document),h=s.removedTargetIds||[];i=new ku([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new j1(o,h),g=s.targetId;i=new Tv(g,d)}}return i}function F1(a,e){let i;if(e instanceof no)i={update:Zy(a,e.key,e.value)};else if(e instanceof gd)i={delete:Xf(a,e.key)};else if(e instanceof ua)i={update:Zy(a,e.key,e.data),updateMask:eA(e.fieldMask)};else{if(!(e instanceof I1))return pt(16599,{ft:e.type});i={verify:Xf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Zu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $u)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:H1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(a,e.precondition)),i}function Y1(a,e){return a&&a.length>0?(Bt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Et.min())&&(d=ii(h)),new N1(d,o.transformResults||[])}(i,e))):[]}function K1(a,e){return{documents:[xv(a,e.path)]}}function X1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=xv(a,o);const h=function(_){if(_.length!==0)return Cv(Ln.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(D){return{field:ss(D.field),direction:J1(D.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Yf(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:o}}function Z1(a){let e=G1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Bt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const D=Rv(N);return D instanceof Ln&&iv(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(D=>function(tt){return new Wl(ls(tt.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(N){let D;return D=typeof N=="object"?N.value:N,rc(D)?null:D}(i.limit));let v=null;i.startAt&&(v=function(N){const D=!!N.before,G=N.values||[];return new Xu(G,D)}(i.startAt));let _=null;return i.endAt&&(_=function(N){const D=!N.before,G=N.values||[];return new Xu(G,D)}(i.endAt)),p1(e,o,d,h,g,"F",v,_)}function $1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Rv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ls(i.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ls(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ls(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ls(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(a):a.fieldFilter!==void 0?function(i){return ve.create(ls(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(s=>Rv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(a):pt(30097,{filter:a})}function J1(a){return z1[a]}function W1(a){return k1[a]}function tA(a){return B1[a]}function ss(a){return{fieldPath:a.canonicalString()}}function ls(a){return ze.fromServerFormat(a.fieldPath)}function Cv(a){return a instanceof ve?function(i){if(i.op==="=="){if(Ly(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NAN"}};if(Uy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ly(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NAN"}};if(Uy(i.value))return{unaryFilter:{field:ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(i.field),op:W1(i.op),value:i.value}}}(a):a instanceof Ln?function(i){const s=i.getFilters().map(o=>Cv(o));return s.length===1?s[0]:{compositeFilter:{op:tA(i.op),filters:s}}}(a):pt(54877,{filter:a})}function eA(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Nv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,i,s,o,h=Et.min(),d=Et.min(),g=ke.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.wt=e}}function iA(a){const e=Z1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.Cn=new aA}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(mr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class aA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(te.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Dv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ps(0)}static lr(){return new ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",sA=1048576;function Wy([a,e],[i,s]){const o=Rt(a,i);return o===0?Rt(e,s):o}class lA{constructor(e){this.Er=e,this.buffer=new we(Wy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Wy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){lt(Jy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ss(i)?lt(Jy,"Ignoring IndexedDB error during garbage collection: ",i):await As(i)}await this.mr(3e5)})}}class uA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(ic.le);const s=new lA(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve($y)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(s=N,g=Date.now(),this.removeTargets(e,s,i))).next(N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(_=Date.now(),rs()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function cA(a,e){return new uA(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(){this.changes=new oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Fl(s.mutation,o,jn.empty(),xe.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const o=ra();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=zl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ra();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Oi();const d=Ql(),g=function(){return Ql()}();return i.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ua)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),xe.now())):d.set(_.key,jn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var N;return g.set(_,new fA(A,(N=d.get(_))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new ae((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||jn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const N=(o.get(g.batchId)||It()).add(v);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,N=fv();A.forEach(D=>{if(!h.has(D)){const G=_v(i.get(D),s.get(D));G!==null&&N.set(D,G),h=h.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,N))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):lv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(ra());let g=Xl,v=h;return d.next(_=>$.forEach(_,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next(D=>{v=v.insert(A,D)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,It())).next(A=>({batchId:g,changes:hv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next(g=>$.forEach(g,v=>{const _=function(N,D){return new xs(D,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(A=>{A.forEach((N,D)=>{d=d.insert(N,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=zl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,jn.empty(),xe.now()),lc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return $.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:iA(o.bundledQuery),readTime:ii(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.overlays=new ae(dt.comparator),this.Qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ra();return $.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=ra(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ae((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ra(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ra(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return $.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new M1(i,s));let h=this.Qr.get(i);h===void 0&&(h=It(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.$r=new we(Ie.Ur),this.Kr=new we(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Ie(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new dt(new te([])),s=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new dt(new te([])),s=new Ie(i,e),o=new Ie(i,e+1);let h=It();return this.Kr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return dt.comparator(e.key,i.key)||Rt(e.Zr,i.Zr)}static Wr(e,i){return Rt(e.Zr,i.Zr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new we(Ie.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new O1(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?od:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);h.push(g)}),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Rt);return i.forEach(o=>{const h=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{s=s.add(g.Zr)})}),$.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new dt(h),0);let g=new we(Rt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Zr)),!0)},d),$.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Bt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return $.forEach(i.mutations,o=>{const h=new Ie(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Ie(i,0),o=this.Xr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.ii=e,this.docs=function(){return new ae(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Oi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Oi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Kb(Yb(A),s)<=0||(o.has(A.key)||lc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}si(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new vA(this)}getSize(e){return $.resolve(this.size)}}class vA extends hA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.persistence=e,this.oi=new oa(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new vd,this.targetCount=0,this.ui=ps.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),$.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ps(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Tr(i),$.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(h).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,i){this.ci={},this.overlays={},this.li=new ic(0),this.hi=!1,this.hi=!0,this.Pi=new pA,this.referenceDelegate=e(this),this.Ti=new EA(this),this.indexManager=new rA,this.remoteDocumentCache=function(o){return new _A(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new nA(i),this.Ei=new mA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new yA(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new TA(this.li.next());return this.referenceDelegate.di(),s(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return $.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class TA extends Zb{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.Vi=new vd,this.mi=null}static fi(e){return new Ed(e)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,s=>{const o=dt.fromPath(s);return this.pi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return $.or([()=>$.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Wu{constructor(e,i){this.persistence=e,this.yi=new oa(s=>Wb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cA(this,i)}static fi(e,i){return new Wu(e,i)}di(){}Ai(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}br(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return $.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(h=>h?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),$.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lu(e.data.value)),i}Dr(e,i,s){return $.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Td(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return vT()?8:$b(yT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new bA;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(rs()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",as(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(rs()<=Lt.DEBUG&&lt("QueryEngine","Query:",as(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(rs()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",as(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):$.resolve())}ws(e,i){if(By(i))return $.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ff(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=It(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,g);return this.Cs(i,_,d,v.readTime)?this.ws(e,Ff(i,null,"F")):this.Fs(e,_,i,v)}))})))}bs(e,i,s,o){return By(i)||o.isEqual(Et.min())?$.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,o)?$.resolve(null):(rs()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),as(i)),this.Fs(e,d,i,Fb(o,Xl)).next(g=>g))})}vs(e,i){let s=new we(uv(e));return i.forEach((o,h)=>{lc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return rs()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",as(i)),this.ys.getDocumentsMatchingQuery(e,i,mr.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="LocalStore",SA=3e8;class xA{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new ae(Rt),this.Os=new oa(h=>hd(h),fd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function wA(a,e,i,s){return new xA(a,e,i,s)}async function Iv(a,e){const i=Tt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=It();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function RA(a,e){const i=Tt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const N=_.batch,D=N.keys();let G=$.resolve();return D.forEach(tt=>{G=G.next(()=>A.getEntry(v,tt)).next(at=>{const W=_.docVersions.get(tt);Bt(W!==null,48541),at.version.compareTo(W)<0&&(N.applyToRemoteDocument(at,_),at.isValidDocument()&&(at.setReadTime(_.commitVersion),A.addEntry(at)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(v,N))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=It();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Ov(a){const e=Tt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function CA(a,e){const i=Tt(a),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,N)=>{const D=o.get(N);if(!D)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,N)));let G=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?G=G.withResumeToken(ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),o=o.insert(N,G),function(at,W,bt){return at.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-at.snapshotVersion.toMicroseconds()>=SA?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(D,G,A)&&g.push(i.Ti.updateTargetData(h,G))});let v=Oi(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(NA(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(Et.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(N=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return $.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=o,h))}function NA(a,e,i){let s=It(),o=It();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Oi();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):lt(bd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:o}})}function DA(a,e){const i=Tt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function VA(a,e){const i=Tt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(h=>h?(o=h,$.resolve(o)):i.Ti.allocateTargetId(s).next(d=>(o=new ur(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function $f(a,e,i){const s=Tt(a),o=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ss(d))throw d;lt(bd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function t_(a,e,i){const s=Tt(a);let o=Et.min(),h=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const N=Tt(v),D=N.Os.get(A);return D!==void 0?$.resolve(N.xs.get(D)):N.Ti.getTargetData(_,A)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:It())).next(g=>(IA(s,_1(e),g),{documents:g,$s:h})))}function IA(a,e,i){let s=a.Ns.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Ns.set(e,s)}class e_{constructor(){this.activeTargetIds=S1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(){this.xo=new e_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new e_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class i_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){lt(n_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){lt(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Jf(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",jA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UA{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Yu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,h){const d=Jf(),g=this.jo(e,i.toUriEncodedString());lt(Df,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,o,h);const{host:_}=new URL(g),A=ad(_);return this.Jo(e,g,v,s,A).then(N=>(lt(Df,`Received RPC '${e}' ${d}: `,N),N),N=>{throw fs(Df,`RPC '${e}' ${d} failed with error: `,N,"url: ",g,"request:",s),N})}Yo(e,i,s,o,h,d){return this.zo(e,i,s,o,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const s=jA[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class PA extends UA{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=Jf();return new Promise((g,v)=>{const _=new U_;_.setWithCredentials(!0),_.listenOnce(L_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Uu.NO_ERROR:const N=_.getResponseJson();lt(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),g(N);break;case Uu.TIMEOUT:lt(Ge,`RPC '${e}' ${d} timed out`),v(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const D=_.getStatus();if(lt(Ge,`RPC '${e}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G==null?void 0:G.error;if(tt&&tt.status&&tt.message){const at=function(bt){const F=bt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(F)>=0?F:Z.UNKNOWN}(tt.status);v(new ot(at,tt.message))}else v(new ot(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{h_:e,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{lt(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);lt(Ge,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)})}I_(e,i,s){const o=Jf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=k_(),g=z_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");lt(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,v);const N=d.createWebChannel(A,v);this.E_(N);let D=!1,G=!1;const tt=new LA({Zo:W=>{G?lt(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(D||(lt(Ge,`Opening RPC '${e}' stream ${o} transport.`),N.open(),D=!0),lt(Ge,`RPC '${e}' stream ${o} sending:`,W),N.send(W))},Xo:()=>N.close()}),at=(W,bt,F)=>{W.listen(bt,J=>{try{F(J)}catch(vt){setTimeout(()=>{throw vt},0)}})};return at(N,Pl.EventType.OPEN,()=>{G||(lt(Ge,`RPC '${e}' stream ${o} transport opened.`),tt.__())}),at(N,Pl.EventType.CLOSE,()=>{G||(G=!0,lt(Ge,`RPC '${e}' stream ${o} transport closed`),tt.u_(),this.d_(N))}),at(N,Pl.EventType.ERROR,W=>{G||(G=!0,fs(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.u_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))}),at(N,Pl.EventType.MESSAGE,W=>{var bt;if(!G){const F=W.data[0];Bt(!!F,16349);const J=F,vt=(J==null?void 0:J.error)||((bt=J[0])===null||bt===void 0?void 0:bt.error);if(vt){lt(Ge,`RPC '${e}' stream ${o} received error:`,vt);const st=vt.status;let At=function(C){const j=_e[C];if(j!==void 0)return Ev(j)}(st),M=vt.message;At===void 0&&(At=Z.INTERNAL,M="Unknown error status: "+st+" with message "+vt.message),G=!0,tt.u_(new ot(At,M)),N.close()}else lt(Ge,`RPC '${e}' stream ${o} received:`,F),tt.c_(F)}}),at(g,P_.STAT_EVENT,W=>{W.stat===zf.PROXY?lt(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===zf.NOPROXY&&lt(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{tt.a_()},0),tt}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(a){return new q1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=s,this.R_=o,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="PersistentStream";class jv{constructor(e,i,s,o,h,d,g,v){this.xi=e,this.S_=s,this.D_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Mv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===i&&this.z_(s,o)},s=>{e(()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,i){const s=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return lt(r_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(lt(r_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zA extends jv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=Q1(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ii(d.readTime):Et.min()}(e);return this.listener.Y_(i,s)}Z_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Gf(v)?{documents:K1(h,v)}:{query:X1(h,v).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Av(h,d.resumeToken);const _=Yf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Ju(h,d.snapshotVersion.toTimestamp());const _=Yf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=$1(this.serializer,e);s&&(i.labels=s),this.Q_(i)}X_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.Q_(i)}}class kA extends jv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=Y1(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.ra(s,i)}ia(){const e={};e.database=Zf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>F1(this.serializer,s))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{}class qA extends BA{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Kf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(Z.UNKNOWN,h.toString())})}Yo(e,i,s,o,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Kf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class HA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ii(i),this.ua=!1):lt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class GA{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{s.enqueueAndForget(async()=>{ca(this)&&(lt(sa,"Restarting streams for network reachability change."),await async function(v){const _=Tt(v);_.da.add(4),await ro(_),_.Va.set("Unknown"),_.da.delete(4),await fc(_)}(this))})}),this.Va=new HA(s,o)}}async function fc(a){if(ca(a))for(const e of a.Aa)await e(!0)}async function ro(a){for(const e of a.Aa)await e(!1)}function Uv(a,e){const i=Tt(a);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),wd(i)?xd(i):ws(i).N_()&&Sd(i,e))}function Ad(a,e){const i=Tt(a),s=ws(i);i.Ea.delete(e),s.N_()&&Lv(i,e),i.Ea.size===0&&(s.N_()?s.k_():ca(i)&&i.Va.set("Unknown"))}function Sd(a,e){if(a.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ws(a).Z_(e)}function Lv(a,e){a.ma.Ke(e),ws(a).X_(e)}function xd(a){a.ma=new P1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>a.Ea.get(e)||null,Pt:()=>a.datastore.serializer.databaseId}),ws(a).start(),a.Va.ca()}function wd(a){return ca(a)&&!ws(a).O_()&&a.Ea.size>0}function ca(a){return Tt(a).da.size===0}function Pv(a){a.ma=void 0}async function QA(a){a.Va.set("Online")}async function FA(a){a.Ea.forEach((e,i)=>{Sd(a,e)})}async function YA(a,e){Pv(a),wd(a)?(a.Va.Pa(e),xd(a)):a.Va.set("Unknown")}async function KA(a,e,i){if(a.Va.set("Online"),e instanceof bv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ea.delete(g),o.ma.removeTarget(g))}(a,e)}catch(s){lt(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tc(a,s)}else if(e instanceof ku?a.ma.Xe(e):e instanceof Tv?a.ma.ot(e):a.ma.nt(e),!i.isEqual(Et.min()))try{const s=await Ov(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ea.get(_);A&&h.Ea.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Ea.get(v);if(!A)return;h.Ea.set(v,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Lv(h,v);const N=new ur(A.target,v,_,A.sequenceNumber);Sd(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(sa,"Failed to raise snapshot:",s),await tc(a,s)}}async function tc(a,e,i){if(!Ss(e))throw e;a.da.add(1),await ro(a),a.Va.set("Offline"),i||(i=()=>Ov(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(sa,"Retrying IndexedDB access"),await i(),a.da.delete(1),await fc(a)})}function zv(a,e){return e().catch(i=>tc(a,i,e))}async function dc(a){const e=Tt(a),i=_r(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:od;for(;XA(e);)try{const o=await DA(e.localStore,s);if(o===null){e.Ia.length===0&&i.k_();break}s=o.batchId,ZA(e,o)}catch(o){await tc(e,o)}kv(e)&&Bv(e)}function XA(a){return ca(a)&&a.Ia.length<10}function ZA(a,e){a.Ia.push(e);const i=_r(a);i.N_()&&i.ea&&i.ta(e.mutations)}function kv(a){return ca(a)&&!_r(a).O_()&&a.Ia.length>0}function Bv(a){_r(a).start()}async function $A(a){_r(a).ia()}async function JA(a){const e=_r(a);for(const i of a.Ia)e.ta(i.mutations)}async function WA(a,e,i){const s=a.Ia.shift(),o=pd.from(s,e,i);await zv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await dc(a)}async function tS(a,e){e&&_r(a).ea&&await async function(s,o){if(function(d){return U1(d)&&d!==Z.ABORTED}(o.code)){const h=s.Ia.shift();_r(s).L_(),await zv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await dc(s)}}(a,e),kv(a)&&Bv(a)}async function a_(a,e){const i=Tt(a);i.asyncQueue.verifyOperationInProgress(),lt(sa,"RemoteStore received new credentials");const s=ca(i);i.da.add(3),await ro(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await fc(i)}async function eS(a,e){const i=Tt(a);e?(i.da.delete(2),await fc(i)):e||(i.da.add(2),await ro(i),i.Va.set("Unknown"))}function ws(a){return a.fa||(a.fa=function(i,s,o){const h=Tt(i);return h.oa(),new zA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{e_:QA.bind(null,a),n_:FA.bind(null,a),i_:YA.bind(null,a),Y_:KA.bind(null,a)}),a.Aa.push(async e=>{e?(a.fa.L_(),wd(a)?xd(a):a.Va.set("Unknown")):(await a.fa.stop(),Pv(a))})),a.fa}function _r(a){return a.ga||(a.ga=function(i,s,o){const h=Tt(i);return h.oa(),new kA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{e_:()=>Promise.resolve(),n_:$A.bind(null,a),i_:tS.bind(null,a),na:JA.bind(null,a),ra:WA.bind(null,a)}),a.Aa.push(async e=>{e?(a.ga.L_(),await dc(a)):(await a.ga.stop(),a.Ia.length>0&&(lt(sa,`Stopping write stream with ${a.Ia.length} pending writes`),a.Ia=[]))})),a.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Rd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(a,e){if(Ii("AsyncQueue",`${e}: ${a}`),Ss(a))return new ot(Z.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=zl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new us;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.pa=new ae(dt.comparator)}track(e){const i=e.doc.key,s=this.pa.get(i);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(i,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(i):e.type===1&&s.type===2?this.pa=this.pa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):pt(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,s)=>{e.push(s)}),e}}class ys{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ys(e,i,us.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class iS{constructor(){this.queries=l_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Tt(i),h=o.queries;o.queries=l_(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(s)})})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function l_(){return new oa(a=>ov(a),sc)}async function qv(a,e){const i=Tt(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Da()&&e.va()&&(s=2):(h=new nS,s=e.va()?0:1);try{switch(s){case 0:h.ba=await i.onListen(o,!0);break;case 1:h.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cd(d,`Initialization of query '${as(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&Nd(i)}async function Hv(a,e){const i=Tt(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.va()?0:1:!h.Da()&&e.va()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function rS(a,e){const i=Tt(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(o)&&(s=!0);d.ba=o}}s&&Nd(i)}function aS(a,e,i){const s=Tt(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Nd(a){a.Ca.forEach(e=>{e.next()})}var Wf,o_;(o_=Wf||(Wf={})).xa="default",o_.Cache="cache";class Gv{constructor(e,i,s){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ys(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const s=i!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.key=e}}class Fv{constructor(e){this.key=e}}class sS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.Za=uv(e),this.Xa=new us(this.Za)}get eu(){return this.Ha}tu(e,i){const s=i?i.nu:new s_,o=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const D=o.get(A),G=lc(this.query,N)?N:null,tt=!!D&&this.mutatedKeys.has(D.key),at=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;D&&G?D.data.isEqual(G.data)?tt!==at&&(s.track({type:3,doc:G}),W=!0):this.ru(D,G)||(s.track({type:2,doc:G}),W=!0,(v&&this.Za(G,v)>0||_&&this.Za(G,_)<0)&&(g=!0)):!D&&G?(s.track({type:0,doc:G}),W=!0):D&&!G&&(s.track({type:1,doc:D}),W=!0,(v||_)&&(g=!0)),W&&(G?(d=d.add(G),h=at?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,N)=>function(G,tt){const at=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:W})}};return at(G)-at(tt)}(A.type,N.type)||this.Za(A.doc,N.doc)),this.iu(s),o=o!=null&&o;const g=i&&!o?this.su():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Ja;return this.Ja=v,d.length!==0||_?{snapshot:new ys(this.query,e.Xa,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new s_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const i=[];return e.forEach(s=>{this.Ya.has(s)||i.push(new Fv(s))}),this.Ya.forEach(s=>{e.has(s)||i.push(new Qv(s))}),i}au(e){this.Ha=e.$s,this.Ya=It();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ys.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dd="SyncEngine";class lS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class oS{constructor(e){this.key=e,this.cu=!1}}class uS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new oa(g=>ov(g),sc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ae(dt.comparator),this.Eu=new Map,this.du=new vd,this.Au={},this.Ru=new Map,this.Vu=ps.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function cS(a,e,i=!0){const s=Jv(a);let o;const h=s.hu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.uu()):o=await Yv(s,e,i,!0),o}async function hS(a,e){const i=Jv(a);await Yv(i,e,!0,!1)}async function Yv(a,e,i,s){const o=await VA(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await fS(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Uv(a.remoteStore,o),g}async function fS(a,e,i,s,o){a.fu=(N,D,G)=>async function(at,W,bt,F){let J=W.view.tu(bt);J.Cs&&(J=await t_(at.localStore,W.query,!1).then(({documents:M})=>W.view.tu(M,J)));const vt=F&&F.targetChanges.get(W.targetId),st=F&&F.targetMismatches.get(W.targetId)!=null,At=W.view.applyChanges(J,at.isPrimaryClient,vt,st);return c_(at,W.targetId,At.ou),At.snapshot}(a,N,D,G);const h=await t_(a.localStore,e,!0),d=new sS(e,h.$s),g=d.tu(h.documents),v=io.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);c_(a,i,_.ou);const A=new lS(e,i,d);return a.hu.set(e,A),a.Pu.has(i)?a.Pu.get(i).push(e):a.Pu.set(i,[e]),_.snapshot}async function dS(a,e,i){const s=Tt(a),o=s.hu.get(e),h=s.Pu.get(o.targetId);if(h.length>1)return s.Pu.set(o.targetId,h.filter(d=>!sc(d,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $f(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Ad(s.remoteStore,o.targetId),td(s,o.targetId)}).catch(As)):(td(s,o.targetId),await $f(s.localStore,o.targetId,!0))}async function mS(a,e){const i=Tt(a),s=i.hu.get(e),o=i.Pu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ad(i.remoteStore,s.targetId))}async function gS(a,e,i){const s=bS(a);try{const o=await function(d,g){const v=Tt(d),_=xe.now(),A=g.reduce((G,tt)=>G.add(tt.key),It());let N,D;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let tt=Oi(),at=It();return v.Bs.getEntries(G,A).next(W=>{tt=W,tt.forEach((bt,F)=>{F.isValidDocument()||(at=at.add(bt))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,tt)).next(W=>{N=W;const bt=[];for(const F of g){const J=V1(F,N.get(F.key).overlayedDocument);J!=null&&bt.push(new ua(F.key,J,tv(J.value.mapValue),Un.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,bt,g)}).next(W=>{D=W;const bt=W.applyToLocalDocumentSet(N,at);return v.documentOverlayCache.saveOverlays(G,W.batchId,bt)})}).then(()=>({batchId:D.batchId,changes:hv(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Au[d.currentUser.toKey()];_||(_=new ae(Rt)),_=_.insert(g,v),d.Au[d.currentUser.toKey()]=_}(s,o.batchId,i),await ao(s,o.changes),await dc(s.remoteStore)}catch(o){const h=Cd(o,"Failed to persist write");i.reject(h)}}async function Kv(a,e){const i=Tt(a);try{const s=await CA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?Bt(d.cu,14607):o.removedDocuments.size>0&&(Bt(d.cu,42227),d.cu=!1))}),await ao(i,s,e)}catch(s){await As(s)}}function u_(a,e,i){const s=Tt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=Tt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,N)=>{for(const D of N.Sa)D.Fa(g)&&(_=!0)}),_&&Nd(v)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pS(a,e,i){const s=Tt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new ae(dt.comparator);d=d.insert(h,Fe.newNoDocument(h,Et.min()));const g=It().add(h),v=new cc(Et.min(),new Map,new ae(Rt),d,g);await Kv(s,v),s.Iu=s.Iu.remove(h),s.Eu.delete(e),Vd(s)}else await $f(s.localStore,e,!1).then(()=>td(s,e,i)).catch(As)}async function yS(a,e){const i=Tt(a),s=e.batch.batchId;try{const o=await RA(i.localStore,e);Zv(i,s,null),Xv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ao(i,o)}catch(o){await As(o)}}async function _S(a,e,i){const s=Tt(a);try{const o=await function(d,g){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(N=>(Bt(N!==null,37113),A=N.keys(),v.mutationQueue.removeMutationBatch(_,N))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);Zv(s,e,i),Xv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ao(s,o)}catch(o){await As(o)}}function Xv(a,e){(a.Ru.get(e)||[]).forEach(i=>{i.resolve()}),a.Ru.delete(e)}function Zv(a,e,i){const s=Tt(a);let o=s.Au[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function td(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Pu.get(e))a.hu.delete(s),i&&a.lu.gu(s,i);a.Pu.delete(e),a.isPrimaryClient&&a.du.Hr(e).forEach(s=>{a.du.containsKey(s)||$v(a,s)})}function $v(a,e){a.Tu.delete(e.path.canonicalString());const i=a.Iu.get(e);i!==null&&(Ad(a.remoteStore,i),a.Iu=a.Iu.remove(e),a.Eu.delete(i),Vd(a))}function c_(a,e,i){for(const s of i)s instanceof Qv?(a.du.addReference(s.key,e),vS(a,s)):s instanceof Fv?(lt(Dd,"Document no longer in limbo: "+s.key),a.du.removeReference(s.key,e),a.du.containsKey(s.key)||$v(a,s.key)):pt(19791,{pu:s})}function vS(a,e){const i=e.key,s=i.path.canonicalString();a.Iu.get(i)||a.Tu.has(s)||(lt(Dd,"New document in limbo: "+i),a.Tu.add(s),Vd(a))}function Vd(a){for(;a.Tu.size>0&&a.Iu.size<a.maxConcurrentLimboResolutions;){const e=a.Tu.values().next().value;a.Tu.delete(e);const i=new dt(te.fromString(e)),s=a.Vu.next();a.Eu.set(s,new oS(i)),a.Iu=a.Iu.insert(i,s),Uv(a.remoteStore,new ur(ni(dd(i.path)),s,"TargetPurposeLimboResolution",ic.le))}}async function ao(a,e,i){const s=Tt(a),o=[],h=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,v)=>{d.push(s.fu(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const N=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(_){o.push(_);const N=Td.Rs(v.targetId,_);h.push(N)}}))}),await Promise.all(d),s.lu.Y_(o),await async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>$.forEach(_,D=>$.forEach(D.ds,G=>A.persistence.referenceDelegate.addReference(N,D.targetId,G)).next(()=>$.forEach(D.As,G=>A.persistence.referenceDelegate.removeReference(N,D.targetId,G)))))}catch(N){if(!Ss(N))throw N;lt(bd,"Failed to update sequence numbers: "+N)}for(const N of _){const D=N.targetId;if(!N.fromCache){const G=A.xs.get(D),tt=G.snapshotVersion,at=G.withLastLimboFreeSnapshotVersion(tt);A.xs=A.xs.insert(D,at)}}}(s.localStore,h))}async function ES(a,e){const i=Tt(a);if(!i.currentUser.isEqual(e)){lt(Dd,"User change. New user:",e.toKey());const s=await Iv(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(v=>{v.reject(new ot(Z.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ao(i,s.ks)}}function TS(a,e){const i=Tt(a),s=i.Eu.get(e);if(s&&s.cu)return It().add(s.key);{let o=It();const h=i.Pu.get(e);if(!h)return o;for(const d of h){const g=i.hu.get(d);o=o.unionWith(g.view.eu)}return o}}function Jv(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pS.bind(null,e),e.lu.Y_=rS.bind(null,e.eventManager),e.lu.gu=aS.bind(null,e.eventManager),e}function bS(a){const e=Tt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_S.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return wA(this.persistence,new AA,e.initialUser,this.serializer)}Su(e){return new Vv(Ed.fi,this.serializer)}bu(e){return new OA}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class AS extends ec{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){Bt(this.persistence.referenceDelegate instanceof Wu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oA(s,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Vv(s=>Wu.fi(s,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>u_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ES.bind(null,this.syncEngine),await eS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iS}()}createDatastore(e){const i=hc(e.databaseInfo.databaseId),s=function(h){return new PA(h)}(e.databaseInfo);return function(h,d,g,v){return new qA(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new GA(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>u_(this.syncEngine,i,0),function(){return i_.C()?new i_:new MA}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,A){const N=new uS(o,h,d,g,v,_);return A&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);lt(sa,"RemoteStore shutting down."),h.da.add(5),await ro(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class SS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=G_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Cd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function If(a,e){a.asyncQueue.verifyOperationInProgress(),lt(vr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Iv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function h_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await xS(a);lt(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>a_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>a_(e.remoteStore,o)),a._onlineComponents=e}async function xS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(vr,"Using user provided OfflineComponentProvider");try{await If(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;fs("Error using user provided cache. Falling back to memory cache: "+i),await If(a,new ec)}}else lt(vr,"Using default OfflineComponentProvider"),await If(a,new AS(void 0));return a._offlineComponents}async function t0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(vr,"Using user provided OnlineComponentProvider"),await h_(a,a._uninitializedComponentsProvider._online)):(lt(vr,"Using default OnlineComponentProvider"),await h_(a,new ed))),a._onlineComponents}function wS(a){return t0(a).then(e=>e.syncEngine)}async function e0(a){const e=await t0(a),i=e.eventManager;return i.onListen=cS.bind(null,e.syncEngine),i.onUnlisten=dS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mS.bind(null,e.syncEngine),i}function RS(a,e,i={}){const s=new Di;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Wv({next:D=>{A.xu(),d.enqueueAndForget(()=>Hv(h,N));const G=D.docs.has(g);!G&&D.fromCache?_.reject(new ot(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&v&&v.source==="server"?_.reject(new ot(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),N=new Gv(dd(g.path),A,{includeMetadataChanges:!0,Qa:!0});return qv(h,N)}(await e0(a),a.asyncQueue,e,i,s)),s.promise}function CS(a,e,i={}){const s=new Di;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new Wv({next:D=>{A.xu(),d.enqueueAndForget(()=>Hv(h,N)),D.fromCache&&v.source==="server"?_.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),N=new Gv(g,A,{includeMetadataChanges:!0,Qa:!0});return qv(h,N)}(await e0(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(a,e,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function NS(a,e,i,s){if(e===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function d_(a){if(!dt.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function m_(a){if(dt.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function mc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function Mi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mc(a);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firestore.googleapis.com",g_=!0;class p_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r0,this.ssl=g_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:g_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sA)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Lb;switch(s.type){case"firstParty":return new Bb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=f_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),f_.delete(i),s.terminate())}(this),Promise.resolve()}}function DS(a,e,i,s={}){var o;a=Mi(a,gc);const h=ad(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),v=`${e}:${i}`;h&&(fT(`https://${v}`),pT("Firestore",!0)),d.host!==r0&&d.host!==v&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Hu(_,g)&&(a._setSettings(_),s.mockUserToken)){let A,N;if(typeof s.mockUserToken=="string")A=s.mockUserToken,N=Qe.MOCK_USER;else{A=dT(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Qe(D)}a._authCredentials=new Pb(new q_(A,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class en{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class dr extends ha{constructor(e,i,s){super(e,i,dd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new dt(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function _s(a,e,...i){if(a=hs(a),i0("collection","path",e),a instanceof gc){const s=te.fromString(e,...i);return m_(s),new dr(a,null,s)}{if(!(a instanceof en||a instanceof dr))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return m_(s),new dr(a.firestore,null,s)}}function cs(a,e,...i){if(a=hs(a),arguments.length===1&&(e=G_.newId()),i0("doc","path",e),a instanceof gc){const s=te.fromString(e,...i);return d_(s),new en(a,null,new dt(s))}{if(!(a instanceof en||a instanceof dr))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return d_(s),new en(a.firestore,a instanceof dr?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Mv(this,"async_queue_retry"),this.rc=()=>{const s=Vf();s&&lt(y_,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Di;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ss(e))throw e;lt(y_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ii("INTERNAL UNHANDLED ERROR: ",v_(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(e,i,s){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=Rd.createAndSchedule(this,e,i,s,h=>this.uc(h));return this.Zu.push(o),o}oc(){this.Xu&&pt(47125,{cc:v_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function v_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Rs extends gc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new __,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function VS(a,e){const i=typeof a=="object"?a:wb(),s=typeof a=="string"?a:Yu,o=Tb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=cT("firestore");h&&DS(o,...h)}return o}function Id(a){if(a._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||IS(a),a._firestoreClient}function IS(a){var e,i,s;const o=a._freezeSettings(),h=function(g,v,_,A){return new n1(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,n0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new SS(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(ke.fromBase64String(e))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vs(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=/^__.*__$/;class MS{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new no(e,this.data,i,this.fieldTransforms)}}function s0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ic:a})}}class Ud{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return nc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(s0(this.Ic)&&OS.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class jS{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||hc(e)}bc(e,i,s,o=!1){return new Ud({Ic:e,methodName:i,wc:s,path:ze.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ld(a){const e=a._freezeSettings(),i=hc(a._databaseId);return new jS(a._databaseId,!!e.ignoreUndefinedProperties,i)}function l0(a,e,i,s,o,h={}){const d=a.bc(h.merge||h.mergeFields?2:0,e,i,o);c0("Data must be an object, but it was:",d,s);const g=o0(s,d);let v,_;if(h.merge)v=new jn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const D=LS(e,N,i);if(!d.contains(D))throw new ot(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);zS(A,D)||A.push(D)}v=new jn(A),_=d.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,_=d.fieldTransforms;return new MS(new wn(g),v,_)}function US(a,e,i,s=!1){return Pd(i,a.bc(s?4:3,e))}function Pd(a,e){if(u0(a=hs(a)))return c0("Unsupported field value:",e,a),o0(a,e);if(a instanceof a0)return function(s,o){if(!s0(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let v=Pd(g,o.fc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=hs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return x1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=xe.fromDate(s);return{timestampValue:Ju(o.serializer,h)}}if(s instanceof xe){const h=new xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,h)}}if(s instanceof Md)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vs)return{bytesValue:Av(o.serializer,s._byteString)};if(s instanceof en){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_d(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jd)return function(d,g){return{mapValue:{fields:{[J_]:{stringValue:W_},[Ku]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return md(g.serializer,_)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${mc(s)}`)}(a,e)}function o0(a,e){const i={};return F_(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(a,(s,o)=>{const h=Pd(o,e.Ac(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function u0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xe||a instanceof Md||a instanceof vs||a instanceof en||a instanceof a0||a instanceof jd)}function c0(a,e,i){if(!u0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=mc(i);throw s==="an object"?e.gc(a+" a custom object"):e.gc(a+" "+s)}}function LS(a,e,i){if((e=hs(e))instanceof Od)return e._internalPath;if(typeof e=="string")return h0(a,e);throw nc("Field path arguments must be of type string or ",a,!1,void 0,i)}const PS=new RegExp("[~\\*/\\[\\]]");function h0(a,e,i){if(e.search(PS)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Od(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function nc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ot(Z.INVALID_ARGUMENT,g+a+v)}function zS(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kS extends f0{data(){return super.data()}}function pc(a,e){return typeof e=="string"?h0(a,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{}class d0 extends zd{}function E_(a,e,...i){let s=[];e instanceof zd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(v=>v instanceof kd).length,g=h.filter(v=>v instanceof yc).length;if(d>1||d>0&&g>0)throw new ot(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class yc extends d0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new yc(e,i,s)}_apply(e){const i=this._parse(e);return m0(e._query,i),new ha(e.firestore,e.converter,Qf(e._query,i))}_parse(e){const i=Ld(e.firestore);return function(h,d,g,v,_,A,N){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){S_(N,A);const tt=[];for(const at of N)tt.push(A_(v,h,at));D={arrayValue:{values:tt}}}else D=A_(v,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||S_(N,A),D=US(g,d,N,A==="in"||A==="not-in");return ve.create(_,A,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function T_(a,e,i){const s=e,o=pc("where",a);return yc._create(o,s,i)}class kd extends zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new kd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)m0(d,v),d=Qf(d,v)}(e._query,i),new ha(e.firestore,e.converter,Qf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bd extends d0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Bd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new ot(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(h,d)}(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new xs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function b_(a,e="asc"){const i=e,s=pc("orderBy",a);return Bd._create(s,i)}function A_(a,e,i){if(typeof(i=hs(i))=="string"){if(i==="")throw new ot(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lv(e)&&i.indexOf("/")!==-1)throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!dt.isDocumentKey(s))throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jy(a,new dt(s))}if(i instanceof en)return jy(a,i._key);throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(i)}.`)}function S_(a,e){if(!Array.isArray(a)||a.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class qS{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return la(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ku].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new jd(h)}convertGeoPoint(e){return new Md(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=ac(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new xe(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);Bt(Nv(s),9688,{name:e});const o=new $l(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return o.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p0 extends f0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(pc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Bu extends p0{data(e={}){return super.data(e)}}class HS{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Bu(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Bu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Bu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:GS(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function GS(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(a){a=Mi(a,en);const e=Mi(a.firestore,Rs);return RS(Id(e),a._key).then(i=>YS(e,a,i))}class y0 extends qS{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function Es(a){a=Mi(a,ha);const e=Mi(a.firestore,Rs),i=Id(e),s=new y0(e);return BS(a._query),CS(i,a._query).then(o=>new HS(e,s,a,o))}function nd(a,e,i){a=Mi(a,en);const s=Mi(a.firestore,Rs),o=g0(a.converter,e);return qd(s,[l0(Ld(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,Un.none())])}function FS(a){return qd(Mi(a.firestore,Rs),[new gd(a._key,Un.none())])}function u2(a,e){const i=Mi(a.firestore,Rs),s=cs(a),o=g0(a.converter,e);return qd(i,[l0(Ld(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then(()=>s)}function qd(a,e){return function(s,o){const h=new Di;return s.asyncQueue.enqueueAndForget(async()=>gS(await wS(s),o,h)),h.promise}(Id(a),e)}function YS(a,e,i){const s=i.docs.get(e._key),o=new y0(a);return new p0(a,o,e._key,s,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){bs=o})(xb),Qu(new Yl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Rs(new zb(s.getProvider("auth-internal")),new qb(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),os(Ay,Sy,e),os(Ay,Sy,"esm2017")})();var KS="firebase",XS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(KS,XS,"app");const ZS={apiKey:"AIzaSyDN1sTee52txGVYpQwSWgAD7FUr4NNJinQ",authDomain:"summery-23833.firebaseapp.com",projectId:"summery-23833",storageBucket:"summery-23833.firebasestorage.app",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefghijklmnop"},$S=I_(ZS),Mn=VS($S),JS=({currentView:a,onViewChange:e})=>{const[i,s]=$t.useState(!1);$t.useEffect(()=>{const d=localStorage.getItem("theme"),g=window.matchMedia("(prefers-color-scheme: dark)").matches;d==="dark"||!d&&g?(s(!0),document.documentElement.classList.add("dark")):(s(!1),document.documentElement.classList.remove("dark"))},[]);const o=()=>{const d=!i;s(d),d?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},h=[{id:"channels",label:"チャンネル一覧",icon:"🎵"},{id:"tracking",label:"トラッキング",icon:"📈"},{id:"settings",label:"設定",icon:"⚙️"}];return T.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mr-8",children:"🎵 YouTube BGMチャンネル分析"}),T.jsx("nav",{className:"flex space-x-1",children:h.map(d=>T.jsxs("button",{onClick:()=>e(d.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a===d.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[T.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.id))})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"ダークモード切り替え",children:i?"☀️":"🌙"})})]})})})},WS=({onAddChannel:a})=>{const[e,i]=$t.useState(""),[s,o]=$t.useState(!1),h=async d=>{if(d.preventDefault(),!!e.trim()){o(!0);try{await a(e.trim()),i("")}catch(g){console.error("チャンネル追加エラー:",g)}finally{o(!1)}}};return T.jsxs("div",{className:"card mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"チャンネル検索・追加"}),T.jsxs("form",{onSubmit:h,className:"flex gap-4",children:[T.jsx("input",{type:"text",value:e,onChange:d=>i(d.target.value),placeholder:"チャンネルURL または チャンネルID を入力",className:"input-field flex-1",disabled:s}),T.jsx("button",{type:"submit",disabled:s||!e.trim(),className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"分析中..."]}):T.jsx(T.Fragment,{children:"📊 分析追加"})})]})]})},t2=({filters:a,onFiltersChange:e})=>{const i=h=>{e({...a,sortBy:h})},s=h=>{e({...a,filterBy:h})},o=h=>{e({...a,search:h})};return T.jsx("div",{className:"card mb-8",children:T.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"並び替え:"}),T.jsxs("select",{value:a.sortBy,onChange:h=>i(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[T.jsx("option",{value:"growth_rate",children:"成長率順"}),T.jsx("option",{value:"subscribers",children:"登録者数順"}),T.jsx("option",{value:"views",children:"再生回数順"}),T.jsx("option",{value:"recent_videos",children:"最新動画数順"}),T.jsx("option",{value:"added_date",children:"追加日順"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"フィルター:"}),T.jsxs("select",{value:a.filterBy,onChange:h=>s(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[T.jsx("option",{value:"all",children:"全て"}),T.jsx("option",{value:"growing",children:"成長中"}),T.jsx("option",{value:"large",children:"大規模"}),T.jsx("option",{value:"small",children:"小規模"})]})]}),T.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"検索:"}),T.jsx("input",{type:"text",value:a.search,onChange:h=>o(h.target.value),placeholder:"チャンネル名検索...",className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-1 min-w-0"})]})]})})},e2=({channels:a})=>{const e=a.length,i=a.length>0?Math.round(a.reduce((o,h)=>o+(h.growthRate||0),0)/a.length):0,s=a.length>0?a.reduce((o,h)=>(h.growthRate||0)>(o.growthRate||0)?h:o,a[0]):null;return T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:e}),T.jsx("div",{className:"text-sm text-gray-600",children:"追跡チャンネル数"})]}),T.jsxs("div",{className:"stat-card",children:[T.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[i,"%"]}),T.jsx("div",{className:"text-sm text-gray-600",children:"平均成長率"})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",children:s?s.channelTitle:"-"}),T.jsx("div",{className:"text-sm text-gray-600",children:"トップパフォーマー"})]})]})},n2=({channel:a,onChannelClick:e,onAddToTracking:i})=>{const s=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toString(),o=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"}):"-",h=g=>g>=50?"bg-green-100 text-green-800":g>=20?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",d=g=>{if(!g)return!1;const v=g.toDate?g.toDate():new Date(g);return(Date.now()-v.getTime())/(1e3*60*60*24)<=7};return T.jsx("div",{className:"channel-card cursor-pointer",onClick:()=>e(a),children:T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsx("img",{src:a.thumbnailUrl||"/default-avatar.png",alt:a.channelTitle,className:"w-16 h-16 rounded-full object-cover flex-shrink-0",onError:g=>{g.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:a.channelTitle}),d(a.createdAt)&&T.jsx("span",{className:"inline-block px-2 py-1 text-xs font-bold bg-red-100 text-red-800 rounded-full animate-pulse",children:"NEW!"})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[T.jsxs("span",{className:"text-sm text-gray-600",children:[s(a.subscriberCount)," 登録者"]}),T.jsx("span",{className:"text-sm text-gray-500",children:"•"}),T.jsxs("span",{className:"text-sm text-gray-600",children:["開設: ",o(a.publishedAt)]})]}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:a.keywords&&a.keywords.slice(0,3).map((g,v)=>T.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:g},v))}),a.latestVideo&&T.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[T.jsx("span",{className:"font-medium",children:"最新:"})," ",a.latestVideo.title]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${h(a.growthRate||0)}`,children:["成長率 ",a.growthRate||0,"%"]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:g=>{g.stopPropagation(),i(a)},className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${a.isTracked?"bg-green-100 text-green-800 border border-green-300":"bg-blue-100 text-blue-800 border border-blue-300 hover:bg-blue-200"}`,disabled:a.isTracked,children:a.isTracked?"追跡中":"追跡に追加"}),T.jsx("button",{onClick:g=>{g.stopPropagation(),window.open(a.channelUrl,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"訪問 →"})]})]})]})]})})},i2=({channels:a,onChannelClick:e,onAddToTracking:i})=>a.length===0?T.jsxs("div",{className:"text-center py-16",children:[T.jsx("div",{className:"text-6xl mb-4",children:"📈"}),T.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"まだチャンネルが追加されていません"}),T.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"上記の検索欄からYouTubeチャンネルを追加して分析を開始してください"})]}):T.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:a.map(s=>T.jsx(n2,{channel:s,onChannelClick:e,onAddToTracking:i},s.channelId))}),r2=({channel:a,isOpen:e,onClose:i,onRemove:s})=>{if(!e||!a)return null;const o=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toString(),h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}):"-",d=()=>{confirm("このチャンネルを追跡リストから削除しますか？")&&(s(a.channelId),i())};return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"チャンネル詳細"}),T.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[T.jsx("img",{src:a.thumbnailUrl||"/default-avatar.png",alt:a.channelTitle,className:"w-24 h-24 rounded-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/96x96/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.channelTitle}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"登録者数:"}),T.jsx("span",{className:"ml-2 font-semibold",children:o(a.subscriberCount)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"総再生回数:"}),T.jsx("span",{className:"ml-2 font-semibold",children:o(a.totalViews||0)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"動画数:"}),T.jsx("span",{className:"ml-2 font-semibold",children:a.videoCount||"-"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"開設日:"}),T.jsx("span",{className:"ml-2 font-semibold",children:h(a.publishedAt)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"初投稿:"}),T.jsx("span",{className:"ml-2 font-semibold",children:h(a.firstVideoDate)})]}),T.jsxs("div",{className:"col-span-2",children:[T.jsx("span",{className:"text-gray-600",children:"成長率:"}),T.jsxs("span",{className:"ml-2 font-semibold text-blue-600",children:[a.growthRate||0,"%"]})]})]})]})]}),a.keywords&&a.keywords.length>0&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:"タグ"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:a.keywords.map((g,v)=>T.jsx("span",{className:"inline-block px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:g},v))})]}),a.latestVideo&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"最新動画"}),T.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[T.jsx("h6",{className:"font-medium text-gray-900 mb-1",children:a.latestVideo.title}),T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["投稿日: ",h(a.latestVideo.publishedAt)]}),T.jsx("a",{href:a.latestVideo.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"動画を見る →"})]})]}),a.mostPopularVideo&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"🔥 最も人気の動画"}),T.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:T.jsxs("div",{className:"flex gap-4",children:[a.mostPopularVideo.thumbnailUrl&&T.jsx("img",{src:a.mostPopularVideo.thumbnailUrl,alt:a.mostPopularVideo.title,className:"w-24 h-18 rounded object-cover flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h6",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:a.mostPopularVideo.title}),T.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-3",children:[T.jsxs("span",{className:"flex items-center gap-1",children:["👁️ ",o(a.mostPopularVideo.viewCount)," 回視聴"]}),a.mostPopularVideo.likeCount>0&&T.jsxs("span",{className:"flex items-center gap-1",children:["👍 ",o(a.mostPopularVideo.likeCount)]}),a.mostPopularVideo.commentCount>0&&T.jsxs("span",{className:"flex items-center gap-1",children:["💬 ",o(a.mostPopularVideo.commentCount)]})]}),T.jsx("a",{href:a.mostPopularVideo.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-red-600 hover:text-red-700 text-sm font-medium",children:"動画を見る →"})]})]})})]})]}),T.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[T.jsx("button",{onClick:()=>window.open(a.channelUrl,"_blank"),className:"btn-primary flex-1",children:"チャンネル訪問"}),T.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-100 text-red-700 font-medium rounded-lg hover:bg-red-200 transition-colors",children:"追跡削除"})]})]})})},a2=()=>{const[a,e]=$t.useState({youtubeApiKey:"",searchKeywords:["BGM","instrumental","background music","ambient","lo-fi","chill","relaxing","study music"],collectionFrequency:"daily",keywordCount:8,videosPerKeyword:40,maxChannelsPerRun:150,monthsThreshold:3,minSubscribers:1e3,maxSubscribers:5e5,minVideos:5,minGrowthRate:10,bgmKeywords:["BGM","instrumental","background music","ambient","lo-fi","chill","relaxing","study music","meditation","sleep music"],bgmExclusions:["lyrics","歌詞","vocal","sing","rap","talk","podcast"],trackingFrequency:"weekly",trackingRetentionDays:365,theme:"light",defaultSort:"growthRate",itemsPerPage:20,enableApiUsageDisplay:!0,maxDailyApiCalls:1e4}),[i,s]=$t.useState(!0),[o,h]=$t.useState(!1),[d,g]=$t.useState(""),[v,_]=$t.useState("basic");$t.useEffect(()=>{A()},[]);const A=async()=>{try{const F=await QS(cs(Mn,"settings","app_config"));F.exists()&&e(J=>({...J,...F.data()}))}catch(F){console.error("設定の読み込みエラー:",F),g("設定の読み込みに失敗しました")}finally{s(!1)}},N=async()=>{try{h(!0),await nd(cs(Mn,"settings","app_config"),a),g("設定を保存しました"),setTimeout(()=>g(""),3e3)}catch(F){console.error("設定の保存エラー:",F),g("設定の保存に失敗しました")}finally{h(!1)}},D=async F=>{try{const J=await Es(_s(Mn,"channels")),vt=await Es(_s(Mn,"tracking_data")),st=J.docs.map(S=>({id:S.id,...S.data()})),At=vt.docs.map(S=>({id:S.id,...S.data()})),M={channels:st,tracking:At,exportedAt:new Date().toISOString()};if(F==="csv"){const S=G(st);tt(S,"youtube-bgm-channels.csv","text/csv")}else{const S=JSON.stringify(M,null,2);tt(S,"youtube-bgm-data.json","application/json")}g(`${F.toUpperCase()}でエクスポートしました`)}catch(J){console.error("エクスポートエラー:",J),g("エクスポートに失敗しました")}},G=F=>{const J=["チャンネル名","チャンネルID","登録者数","動画数","成長率(%)","開設日","最初の動画日","キーワード","URL"],vt=F.map(st=>[st.channelTitle||"",st.channelId||"",st.subscriberCount||0,st.videoCount||0,st.growthRate||0,st.publishedAt?new Date(st.publishedAt).toLocaleDateString("ja-JP"):"",st.firstVideoDate?new Date(st.firstVideoDate).toLocaleDateString("ja-JP"):"",(st.keywords||[]).join("; "),st.channelUrl||""]);return[J,...vt].map(st=>st.map(At=>`"${String(At).replace(/"/g,'""')}"`).join(",")).join(`
`)},tt=(F,J,vt)=>{const st=new Blob([F],{type:vt}),At=URL.createObjectURL(st),M=document.createElement("a");M.href=At,M.download=J,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(At)},at=F=>{const J=prompt(`新しい${F==="search"?"検索":F==="bgm"?"BGM":"除外"}キーワードを入力してください:`);if(J&&J.trim()){const vt=F==="search"?"searchKeywords":F==="bgm"?"bgmKeywords":"bgmExclusions";e(st=>({...st,[vt]:[...st[vt],J.trim()]}))}},W=(F,J)=>{const vt=F==="search"?"searchKeywords":F==="bgm"?"bgmKeywords":"bgmExclusions";e(st=>({...st,[vt]:st[vt].filter((At,M)=>M!==J)}))},bt=[{id:"basic",label:"基本設定",icon:"⚙️"},{id:"collection",label:"収集設定",icon:"🔍"},{id:"filtering",label:"フィルタリング",icon:"📊"},{id:"bgm",label:"BGM判定",icon:"🎵"},{id:"tracking",label:"トラッキング",icon:"📈"},{id:"display",label:"表示設定",icon:"🎨"},{id:"data",label:"データ管理",icon:"💾"},{id:"security",label:"セキュリティ",icon:"🔒"}];return i?T.jsx("div",{className:"flex items-center justify-center min-h-96",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):T.jsx("div",{className:"max-w-6xl mx-auto p-6",children:T.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[T.jsxs("div",{className:"border-b border-gray-200 p-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"設定"}),T.jsx("p",{className:"text-gray-600 mt-1",children:"アプリケーションの動作をカスタマイズできます"}),d&&T.jsx("div",{className:`mt-4 p-3 rounded-md ${d.includes("失敗")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:d})]}),T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"w-64 border-r border-gray-200 p-4",children:T.jsx("nav",{className:"space-y-1",children:bt.map(F=>T.jsxs("button",{onClick:()=>_(F.id),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${v===F.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[T.jsx("span",{className:"mr-2",children:F.icon}),F.label]},F.id))})}),T.jsxs("div",{className:"flex-1 p-6",children:[v==="basic"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"基本設定"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube API キー"}),T.jsx("input",{type:"password",value:a.youtubeApiKey,onChange:F=>e(J=>({...J,youtubeApiKey:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"YouTube Data API v3 キーを入力"}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Google Cloud Consoleで取得したAPIキーを設定してください"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"検索キーワード"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.searchKeywords.map((F,J)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[F,T.jsx("button",{onClick:()=>W("search",J),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},J))}),T.jsx("button",{onClick:()=>at("search"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ キーワードを追加"})]})]}),v==="collection"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"収集設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"収集頻度"}),T.jsxs("select",{value:a.collectionFrequency,onChange:F=>e(J=>({...J,collectionFrequency:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"daily",children:"毎日"}),T.jsx("option",{value:"weekly",children:"毎週"}),T.jsx("option",{value:"monthly",children:"毎月"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用キーワード数"}),T.jsx("input",{type:"number",value:a.keywordCount,onChange:F=>e(J=>({...J,keywordCount:parseInt(F.target.value)||8})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1",max:"20"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"キーワードあたり動画数"}),T.jsx("input",{type:"number",value:a.videosPerKeyword,onChange:F=>e(J=>({...J,videosPerKeyword:parseInt(F.target.value)||40})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"10",max:"100"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大チャンネル処理数"}),T.jsx("input",{type:"number",value:a.maxChannelsPerRun,onChange:F=>e(J=>({...J,maxChannelsPerRun:parseInt(F.target.value)||150})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"50",max:"500"})]})]})]}),v==="filtering"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"フィルタリング設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"チャンネル作成期間（ヶ月）"}),T.jsx("input",{type:"number",value:a.monthsThreshold,onChange:F=>e(J=>({...J,monthsThreshold:parseInt(F.target.value)||3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1",max:"12"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小登録者数"}),T.jsx("input",{type:"number",value:a.minSubscribers,onChange:F=>e(J=>({...J,minSubscribers:parseInt(F.target.value)||1e3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"100"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大登録者数"}),T.jsx("input",{type:"number",value:a.maxSubscribers,onChange:F=>e(J=>({...J,maxSubscribers:parseInt(F.target.value)||5e5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1000"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小動画数"}),T.jsx("input",{type:"number",value:a.minVideos,onChange:F=>e(J=>({...J,minVideos:parseInt(F.target.value)||5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小成長率（%）"}),T.jsx("input",{type:"number",value:a.minGrowthRate,onChange:F=>e(J=>({...J,minGrowthRate:parseInt(F.target.value)||10})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"0"})]})]})]}),v==="bgm"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"BGM判定設定"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BGM関連キーワード"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.bgmKeywords.map((F,J)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[F,T.jsx("button",{onClick:()=>W("bgm",J),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]},J))}),T.jsx("button",{onClick:()=>at("bgm"),className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"+ キーワードを追加"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"除外キーワード"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.bgmExclusions.map((F,J)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:[F,T.jsx("button",{onClick:()=>W("exclusion",J),className:"ml-1 text-red-600 hover:text-red-800",children:"×"})]},J))}),T.jsx("button",{onClick:()=>at("exclusion"),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"+ キーワードを追加"})]})]}),v==="tracking"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"トラッキング設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"トラッキング頻度"}),T.jsxs("select",{value:a.trackingFrequency,onChange:F=>e(J=>({...J,trackingFrequency:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"daily",children:"毎日"}),T.jsx("option",{value:"weekly",children:"毎週"}),T.jsx("option",{value:"monthly",children:"毎月"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ保持期間（日）"}),T.jsx("input",{type:"number",value:a.trackingRetentionDays,onChange:F=>e(J=>({...J,trackingRetentionDays:parseInt(F.target.value)||365})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"30",max:"1095"})]})]})]}),v==="display"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"表示設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),T.jsxs("select",{value:a.theme,onChange:F=>e(J=>({...J,theme:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"light",children:"ライト"}),T.jsx("option",{value:"dark",children:"ダーク"}),T.jsx("option",{value:"auto",children:"自動"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"デフォルト並び順"}),T.jsxs("select",{value:a.defaultSort,onChange:F=>e(J=>({...J,defaultSort:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"growthRate",children:"成長率順"}),T.jsx("option",{value:"subscriberCount",children:"登録者数順"}),T.jsx("option",{value:"publishedAt",children:"新着順"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1ページの表示件数"}),T.jsxs("select",{value:a.itemsPerPage,onChange:F=>e(J=>({...J,itemsPerPage:parseInt(F.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:10,children:"10件"}),T.jsx("option",{value:20,children:"20件"}),T.jsx("option",{value:50,children:"50件"}),T.jsx("option",{value:100,children:"100件"})]})]})]})]}),v==="data"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"データ管理"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[T.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データエクスポート"}),T.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"収集したチャンネルデータとトラッキングデータをエクスポートできます"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>D("csv"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"CSV形式でエクスポート"}),T.jsx("button",{onClick:()=>D("json"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"JSON形式でエクスポート"})]})]}),T.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[T.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データバックアップ"}),T.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"定期的にデータのバックアップを作成することをお勧めします"}),T.jsx("button",{onClick:()=>D("json"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"今すぐバックアップ"})]})]})]}),v==="security"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"セキュリティ設定"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",checked:a.enableApiUsageDisplay,onChange:F=>e(J=>({...J,enableApiUsageDisplay:F.target.checked})),className:"mr-2"}),T.jsx("span",{className:"text-sm font-medium text-gray-700",children:"API使用量の表示"})]}),T.jsx("p",{className:"text-sm text-gray-500 ml-6",children:"YouTube API使用量をダッシュボードに表示します"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1日のAPI呼び出し制限"}),T.jsx("input",{type:"number",value:a.maxDailyApiCalls,onChange:F=>e(J=>({...J,maxDailyApiCalls:parseInt(F.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1000",max:"1000000"}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"YouTube APIの1日あたりのクォータ制限を設定"})]})]})]}),T.jsx("div",{className:"flex justify-end mt-8 pt-6 border-t border-gray-200",children:T.jsx("button",{onClick:N,disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:o?"保存中...":"設定を保存"})})]})]})]})})},Of=({trackingData:a,title:e})=>{var o,h,d,g,v;if(!a||a.length===0)return T.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),T.jsx("div",{className:"text-center py-8 text-gray-500",children:"トラッキングデータがありません"})]});const i=Math.max(...a.map(_=>_.value)),s=Math.min(...a.map(_=>_.value));return T.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),T.jsx("div",{className:"mb-4",children:T.jsx("div",{className:"flex items-end h-32 gap-2",children:a.map((_,A)=>{const N=(_.value-s)/(i-s)*100,D=A===a.length-1;return T.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[T.jsx("div",{className:"w-full bg-gray-100 rounded-t",children:T.jsx("div",{className:`w-full rounded-t transition-all duration-300 ${D?"bg-blue-500":"bg-blue-300"}`,style:{height:`${Math.max(N,5)}%`}})}),T.jsx("div",{className:"text-xs text-gray-600 mt-1 text-center",children:new Date(_.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})]},A)})})}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center border-t pt-4",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-gray-600",children:"最新"}),T.jsx("div",{className:"text-lg font-semibold text-blue-600",children:(o=a[a.length-1])==null?void 0:o.value.toLocaleString()})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-gray-600",children:"最高"}),T.jsx("div",{className:"text-lg font-semibold text-green-600",children:i.toLocaleString()})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-gray-600",children:"成長"}),T.jsx("div",{className:`text-lg font-semibold ${a.length>1?((h=a[a.length-1])==null?void 0:h.value)>((d=a[0])==null?void 0:d.value)?"text-green-600":"text-red-600":"text-gray-600"}`,children:a.length>1?`${((((g=a[a.length-1])==null?void 0:g.value)/((v=a[0])==null?void 0:v.value)-1)*100).toFixed(1)}%`:"N/A"})]})]})]})},s2=({selectedChannelId:a})=>{const[e,i]=$t.useState({subscriberCount:[],videoCount:[],totalViews:[]}),[s,o]=$t.useState(!0),[h,d]=$t.useState([]);$t.useEffect(()=>{g()},[]),$t.useEffect(()=>{a&&v(a)},[a]);const g=async()=>{try{const N=(await Es(E_(_s(Mn,"tracked_channels"),T_("isActive","==",!0),b_("addedAt","desc")))).docs.map(D=>({id:D.id,...D.data()}));d(N)}catch(A){console.error("追跡チャンネル一覧の取得エラー:",A)}},v=async A=>{try{o(!0);const D=(await Es(E_(_s(Mn,"tracking_data"),T_("channelId","==",A),b_("recordedAt","asc")))).docs.map(W=>W.data()),G=D.map(W=>({date:W.recordedAt.toDate(),value:W.subscriberCount})),tt=D.map(W=>({date:W.recordedAt.toDate(),value:W.videoCount})),at=D.map(W=>({date:W.recordedAt.toDate(),value:W.totalViews}));i({subscriberCount:G,videoCount:tt,totalViews:at})}catch(N){console.error("トラッキングデータの取得エラー:",N)}finally{o(!1)}};if(s&&a)return T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"トラッキングデータを読み込み中..."})]});if(!a)return T.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-6xl mb-4",children:"📊"}),T.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"チャンネルを選択してください"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"追跡中のチャンネルから1つを選択すると、成長データを表示します"}),h.length>0&&T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(A=>T.jsx("div",{onClick:()=>v(A.channelId),className:"cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:A.thumbnailUrl||"/default-avatar.png",alt:A.channelTitle,className:"w-12 h-12 rounded-full object-cover",onError:N=>{N.target.src="https://via.placeholder.com/48x48/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{className:"text-left",children:[T.jsx("h4",{className:"font-medium text-gray-900 truncate",children:A.channelTitle}),T.jsxs("p",{className:"text-sm text-gray-600",children:["追跡開始: ",new Date(A.addedAt.toDate()).toLocaleDateString("ja-JP")]})]})]})},A.id))}),h.length===0&&T.jsxs("p",{className:"text-gray-500",children:["まだ追跡中のチャンネルがありません。",T.jsx("br",{}),"チャンネル一覧から「追跡に追加」ボタンを押してチャンネルを追跡しましょう。"]})]})});const _=h.find(A=>A.channelId===a);return T.jsxs("div",{className:"space-y-6",children:[_&&T.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("img",{src:_.thumbnailUrl||"/default-avatar.png",alt:_.channelTitle,className:"w-16 h-16 rounded-full object-cover",onError:A=>{A.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:_.channelTitle}),T.jsxs("p",{className:"text-gray-600",children:["追跡開始: ",new Date(_.addedAt.toDate()).toLocaleDateString("ja-JP")]})]})]})}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[T.jsx(Of,{trackingData:e.subscriberCount,title:"📈 登録者数の推移"}),T.jsx(Of,{trackingData:e.videoCount,title:"🎥 動画数の推移"}),T.jsx(Of,{trackingData:e.totalViews,title:"👁️ 総再生回数の推移"})]})]})};function l2(){const[a,e]=$t.useState([]),[i,s]=$t.useState([]),[o,h]=$t.useState(!0),[d,g]=$t.useState(null),[v,_]=$t.useState(null),[A,N]=$t.useState(new Set),[D,G]=$t.useState("channels"),[tt,at]=$t.useState(null),[W,bt]=$t.useState({sortBy:"growth_rate",filterBy:"all",search:""});$t.useEffect(()=>{F(),J()},[]),$t.useEffect(()=>{vt()},[a,W,A]);const F=async()=>{try{h(!0);const V=(await Es(_s(Mn,"bgm_channels"))).docs.map(x=>({id:x.id,...x.data()}));e(V)}catch(R){console.error("チャンネルデータの読み込みエラー:",R)}finally{h(!1)}},J=async()=>{try{const R=await Es(_s(Mn,"tracked_channels")),V=new Set(R.docs.filter(x=>x.data().isActive).map(x=>x.id));N(V)}catch(R){console.error("追跡チャンネルデータの読み込みエラー:",R)}},vt=()=>{let R=a.map(V=>({...V,isTracked:A.has(V.channelId)}));switch(W.search&&(R=R.filter(V=>V.channelTitle.toLowerCase().includes(W.search.toLowerCase()))),W.filterBy){case"growing":R=R.filter(V=>(V.growthRate||0)>20);break;case"large":R=R.filter(V=>V.subscriberCount>1e5);break;case"small":R=R.filter(V=>V.subscriberCount<1e4);break}switch(W.sortBy){case"growth_rate":R.sort((V,x)=>(x.growthRate||0)-(V.growthRate||0));break;case"subscribers":R.sort((V,x)=>x.subscriberCount-V.subscriberCount);break;case"views":R.sort((V,x)=>(x.totalViews||0)-(V.totalViews||0));break;case"added_date":R.sort((V,x)=>{var H,it,ct,Nt;const ie=((it=(H=V.createdAt)==null?void 0:H.toDate)==null?void 0:it.call(H))||new Date(V.createdAt);return(((Nt=(ct=x.createdAt)==null?void 0:ct.toDate)==null?void 0:Nt.call(ct))||new Date(x.createdAt))-ie});break}s(R)},st=async R=>{try{const{extractChannelId:V,fetchChannelInfo:x,fetchChannelFirstVideo:ie,checkChannelExists:Wt,isBGMChannel:H,calculateGrowthRate:it,addChannelToFirestore:ct}=await cy(async()=>{const{extractChannelId:St,fetchChannelInfo:yt,fetchChannelFirstVideo:de,checkChannelExists:Qt,isBGMChannel:fn,calculateGrowthRate:Pn,addChannelToFirestore:Rn}=await import("./channelService-BBXr8Hxd.js");return{extractChannelId:St,fetchChannelInfo:yt,fetchChannelFirstVideo:de,checkChannelExists:Qt,isBGMChannel:fn,calculateGrowthRate:Pn,addChannelToFirestore:Rn}},[]),Nt=V(R);if(await Wt(Nt)){alert("このチャンネルは既に追加されています");return}const K=await x(Nt);if(!H(K.channelTitle,K.description)&&!confirm("このチャンネルはBGM関連ではない可能性があります。追加しますか？"))return;const rt=await ie(K.uploadsPlaylistId),et=it(K,rt),ft={...K,firstVideoDate:(rt==null?void 0:rt.publishedAt)||K.publishedAt,growthRate:et,keywords:[],uploadsPlaylistId:K.uploadsPlaylistId};await ct(ft),await F(),alert(`✅ チャンネル「${K.channelTitle}」を追加しました`)}catch(V){console.error("チャンネル追加エラー:",V),alert(`❌ チャンネル追加に失敗しました: ${V.message}`)}},At=async R=>{try{await FS(cs(Mn,"bgm_channels",R)),await F()}catch(V){console.error("チャンネル削除エラー:",V)}},M=async R=>{try{if(A.has(R.channelId))return;await nd(cs(Mn,"tracked_channels",R.channelId),{channelId:R.channelId,channelTitle:R.channelTitle,channelUrl:R.channelUrl,thumbnailUrl:R.thumbnailUrl,addedAt:new Date,isActive:!0}),await nd(cs(Mn,"tracking_data",`${R.channelId}_${new Date().toISOString().split("T")[0]}`),{channelId:R.channelId,subscriberCount:R.subscriberCount,videoCount:R.videoCount,totalViews:R.totalViews,recordedAt:new Date}),N(V=>new Set([...V,R.channelId])),console.log(`✅ Added to tracking: ${R.channelTitle}`)}catch(V){console.error("追跡追加エラー:",V)}},S=async R=>{g(R),_({...R,mostPopularVideo:{title:"最も人気の動画（取得中...）",viewCount:0,thumbnailUrl:"",url:""}});try{const{fetchChannelMostPopularVideo:V}=await cy(async()=>{const{fetchChannelMostPopularVideo:ie}=await import("./channelService-BBXr8Hxd.js");return{fetchChannelMostPopularVideo:ie}},[]),x=await V(R.uploadsPlaylistId);_(x?{...R,mostPopularVideo:x}:{...R,mostPopularVideo:{title:"人気動画が見つかりませんでした",viewCount:0,thumbnailUrl:"",url:""}})}catch(V){console.error("人気動画取得エラー:",V),_({...R,mostPopularVideo:{title:"人気動画の取得に失敗しました",viewCount:0,thumbnailUrl:"",url:""}})}},C=()=>{g(null),_(null)};if(o)return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"チャンネルデータを読み込み中..."})]})});const j=()=>{switch(D){case"settings":return T.jsx(a2,{});case"tracking":return T.jsx(s2,{selectedChannelId:tt});default:return T.jsxs(T.Fragment,{children:[T.jsx(WS,{onAddChannel:st}),T.jsx(t2,{filters:W,onFiltersChange:bt}),T.jsx(e2,{channels:i}),T.jsx(i2,{channels:i,onChannelClick:S,onAddToTracking:M})]})}};return T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[T.jsx(JS,{currentView:D,onViewChange:G}),T.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:j()}),T.jsx(r2,{channel:v||d,isOpen:!!d,onClose:C,onRemove:At})]})}$E.createRoot(document.getElementById("root")).render(T.jsx($t.StrictMode,{children:T.jsx(l2,{})}));export{u2 as a,_s as c,Mn as d,Es as g,E_ as q,T_ as w};
