(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var rf={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function F0(){if(Rp)return wl;Rp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var m=null;if(h!==void 0&&(m=""+h),o.key!==void 0&&(m=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:m,ref:o!==void 0?o:null,props:h}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var wp;function X0(){return wp||(wp=1,rf.exports=F0()),rf.exports}var G=X0(),sf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function K0(){if(Cp)return At;Cp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,it={};function K(C,Z,nt){this.props=C,this.context=Z,this.refs=it,this.updater=nt||Y}K.prototype.isReactComponent={},K.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},K.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function st(){}st.prototype=K.prototype;function lt(C,Z,nt){this.props=C,this.context=Z,this.refs=it,this.updater=nt||Y}var dt=lt.prototype=new st;dt.constructor=lt,J(dt,K.prototype),dt.isPureReactComponent=!0;var Lt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function x(C,Z,nt,W,ct,Rt){return nt=Rt.ref,{$$typeof:r,type:C,key:Z,ref:nt!==void 0?nt:null,props:Rt}}function S(C,Z){return x(C.type,Z,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function V(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return Z[nt]})}var I=/\/+/g;function M(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):Z.toString(36)}function R(){}function Ve(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,Z,nt,W,ct){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case e:vt=!0;break;case A:return vt=C._init,ie(vt(C._payload),Z,nt,W,ct)}}if(vt)return ct=ct(C),vt=W===""?"."+M(C,0):W,Lt(ct)?(nt="",vt!=null&&(nt=vt.replace(I,"$&/")+"/"),ie(ct,Z,nt,"",function(Nn){return Nn})):ct!=null&&(w(ct)&&(ct=S(ct,nt+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(I,"$&/")+"/")+vt)),Z.push(ct)),1;vt=0;var Se=W===""?".":W+":";if(Lt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],Rt=Se+M(W,Zt),vt+=ie(W,Z,nt,Rt,ct);else if(Zt=U(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,Rt=Se+M(W,Zt++),vt+=ie(W,Z,nt,Rt,ct);else if(Rt==="object"){if(typeof C.then=="function")return ie(Ve(C),Z,nt,W,ct);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return vt}function q(C,Z,nt){if(C==null)return C;var W=[],ct=0;return ie(C,W,"","",function(Rt){return Z.call(nt,Rt,ct++)}),W}function et(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return At.Children={map:q,forEach:function(C,Z,nt){q(C,function(){Z.apply(this,arguments)},nt)},count:function(C){var Z=0;return q(C,function(){Z++}),Z},toArray:function(C){return q(C,function(Z){return Z})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=K,At.Fragment=i,At.Profiler=o,At.PureComponent=lt,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Z,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=J({},C.props),ct=C.key,Rt=void 0;if(Z!=null)for(vt in Z.ref!==void 0&&(Rt=void 0),Z.key!==void 0&&(ct=""+Z.key),Z)!Vt.call(Z,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Z.ref===void 0||(W[vt]=Z[vt]);var vt=arguments.length-2;if(vt===1)W.children=nt;else if(1<vt){for(var Se=Array(vt),Zt=0;Zt<vt;Zt++)Se[Zt]=arguments[Zt+2];W.children=Se}return x(C.type,ct,void 0,void 0,Rt,W)},At.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Z,nt){var W,ct={},Rt=null;if(Z!=null)for(W in Z.key!==void 0&&(Rt=""+Z.key),Z)Vt.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=Z[W]);var vt=arguments.length-2;if(vt===1)ct.children=nt;else if(1<vt){for(var Se=Array(vt),Zt=0;Zt<vt;Zt++)Se[Zt]=arguments[Zt+2];ct.children=Se}if(C&&C.defaultProps)for(W in vt=C.defaultProps,vt)ct[W]===void 0&&(ct[W]=vt[W]);return x(C,Rt,void 0,void 0,null,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:p,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},At.memo=function(C,Z){return{$$typeof:_,type:C,compare:Z===void 0?null:Z}},At.startTransition=function(C){var Z=_t.T,nt={};_t.T=nt;try{var W=C(),ct=_t.S;ct!==null&&ct(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Bt,ot)}catch(Rt){ot(Rt)}finally{_t.T=Z}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(C){return _t.H.use(C)},At.useActionState=function(C,Z,nt){return _t.H.useActionState(C,Z,nt)},At.useCallback=function(C,Z){return _t.H.useCallback(C,Z)},At.useContext=function(C){return _t.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Z){return _t.H.useDeferredValue(C,Z)},At.useEffect=function(C,Z,nt){var W=_t.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,Z)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(C,Z,nt){return _t.H.useImperativeHandle(C,Z,nt)},At.useInsertionEffect=function(C,Z){return _t.H.useInsertionEffect(C,Z)},At.useLayoutEffect=function(C,Z){return _t.H.useLayoutEffect(C,Z)},At.useMemo=function(C,Z){return _t.H.useMemo(C,Z)},At.useOptimistic=function(C,Z){return _t.H.useOptimistic(C,Z)},At.useReducer=function(C,Z,nt){return _t.H.useReducer(C,Z,nt)},At.useRef=function(C){return _t.H.useRef(C)},At.useState=function(C){return _t.H.useState(C)},At.useSyncExternalStore=function(C,Z,nt){return _t.H.useSyncExternalStore(C,Z,nt)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var Dp;function qf(){return Dp||(Dp=1,sf.exports=K0()),sf.exports}var xn=qf(),lf={exports:{}},Cl={},uf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Z0(){return xp||(xp=1,function(r){function e(q,et){var ot=q.length;q.push(et);t:for(;0<ot;){var Bt=ot-1>>>1,C=q[Bt];if(0<o(C,et))q[Bt]=et,q[ot]=C,ot=Bt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],ot=q.pop();if(ot!==et){q[0]=ot;t:for(var Bt=0,C=q.length,Z=C>>>1;Bt<Z;){var nt=2*(Bt+1)-1,W=q[nt],ct=nt+1,Rt=q[ct];if(0>o(W,ot))ct<C&&0>o(Rt,W)?(q[Bt]=Rt,q[ct]=ot,Bt=ct):(q[Bt]=W,q[nt]=ot,Bt=nt);else if(ct<C&&0>o(Rt,ot))q[Bt]=Rt,q[ct]=ot,Bt=ct;else break t}}return et}function o(q,et){var ot=q.sortIndex-et.sortIndex;return ot!==0?ot:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,p=m.now();r.unstable_now=function(){return m.now()-p}}var v=[],_=[],A=1,N=null,U=3,Y=!1,J=!1,it=!1,K=!1,st=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Lt(q){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=q)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function _t(q){if(it=!1,Lt(q),!J)if(i(v)!==null)J=!0,Vt||(Vt=!0,M());else{var et=i(_);et!==null&&ie(_t,et.startTime-q)}}var Vt=!1,x=-1,S=5,w=-1;function V(){return K?!0:!(r.unstable_now()-w<S)}function I(){if(K=!1,Vt){var q=r.unstable_now();w=q;var et=!0;try{t:{J=!1,it&&(it=!1,lt(x),x=-1),Y=!0;var ot=U;try{e:{for(Lt(q),N=i(v);N!==null&&!(N.expirationTime>q&&V());){var Bt=N.callback;if(typeof Bt=="function"){N.callback=null,U=N.priorityLevel;var C=Bt(N.expirationTime<=q);if(q=r.unstable_now(),typeof C=="function"){N.callback=C,Lt(q),et=!0;break e}N===i(v)&&s(v),Lt(q)}else s(v);N=i(v)}if(N!==null)et=!0;else{var Z=i(_);Z!==null&&ie(_t,Z.startTime-q),et=!1}}break t}finally{N=null,U=ot,Y=!1}et=void 0}}finally{et?M():Vt=!1}}}var M;if(typeof dt=="function")M=function(){dt(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ve=R.port2;R.port1.onmessage=I,M=function(){Ve.postMessage(null)}}else M=function(){st(I,0)};function ie(q,et){x=st(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(q){switch(U){case 1:case 2:case 3:var et=3;break;default:et=U}var ot=U;U=et;try{return q()}finally{U=ot}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ot=U;U=q;try{return et()}finally{U=ot}},r.unstable_scheduleCallback=function(q,et,ot){var Bt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Bt+ot:Bt):ot=Bt,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,q={id:A++,callback:et,priorityLevel:q,startTime:ot,expirationTime:C,sortIndex:-1},ot>Bt?(q.sortIndex=ot,e(_,q),i(v)===null&&q===i(_)&&(it?(lt(x),x=-1):it=!0,ie(_t,ot-Bt))):(q.sortIndex=C,e(v,q),J||Y||(J=!0,Vt||(Vt=!0,M()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var et=U;return function(){var ot=U;U=et;try{return q.apply(this,arguments)}finally{U=ot}}}}(of)),of}var Vp;function $0(){return Vp||(Vp=1,uf.exports=Z0()),uf.exports}var cf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function J0(){if(Np)return je;Np=1;var r=qf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:A}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},je.flushSync=function(v){var _=m.T,A=s.p;try{if(m.T=null,s.p=2,v)return v()}finally{m.T=_,s.p=A,s.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,N=p(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:U,fetchPriority:Y}):A==="script"&&s.d.X(v,{crossOrigin:N,integrity:U,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,N=p(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},je.requestFormReset=function(v){s.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},je.useFormStatus=function(){return m.H.useHostTransitionStatus()},je.version="19.1.0",je}var Ip;function W0(){if(Ip)return cf.exports;Ip=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cf.exports=J0(),cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function tE(){if(Op)return Cl;Op=1;var r=$0(),e=qf(),i=W0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Lt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case K:return"Profiler";case it:return"StrictMode";case _t:return"Suspense";case Vt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case Lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Ve(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ve(t(n))}catch{}}return null}var ie=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function Z(t){return{current:t}}function nt(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function W(t,n){C++,Bt[C]=t.current,t.current=n}var ct=Z(null),Rt=Z(null),vt=Z(null),Se=Z(null);function Zt(t,n){switch(W(vt,n),W(Rt,t),W(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Wg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Wg(n),t=tp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),W(ct,t)}function Nn(){nt(ct),nt(Rt),nt(vt)}function Ni(t){t.memoizedState!==null&&W(Se,t);var n=ct.current,a=tp(n,t.type);n!==a&&(W(Rt,t),W(ct,a))}function Wn(t){Rt.current===t&&(nt(ct),nt(Rt)),Se.current===t&&(nt(Se),Tl._currentValue=ot)}var _a=Object.prototype.hasOwnProperty,va=r.unstable_scheduleCallback,Ea=r.unstable_cancelCallback,_s=r.unstable_shouldYield,Fl=r.unstable_requestPaint,cn=r.unstable_now,ac=r.unstable_getCurrentPriorityLevel,vs=r.unstable_ImmediatePriority,lr=r.unstable_UserBlockingPriority,Ta=r.unstable_NormalPriority,rc=r.unstable_LowPriority,ur=r.unstable_IdlePriority,Es=r.log,Xl=r.unstable_setDisableYieldValue,ae=null,qt=null;function tn(t){if(typeof Es=="function"&&Xl(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ae,t)}catch{}}var Be=Math.clz32?Math.clz32:Aa,Kl=Math.log,sc=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(Kl(t)/sc|0)|0}var Sa=256,ba=4194304;function Sn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Sn(l):(y&=E,y!==0?c=Sn(y):a||(a=E&~t,a!==0&&(c=Sn(a))))):(E=l&~f,E!==0?c=Sn(E):y!==0?c=Sn(y):a||(a=l&~t,a!==0&&(c=Sn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ra(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ts(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function As(){var t=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),t}function Ss(){var t=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),t}function ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ei(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bs(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-Be(a),F=1<<H;E[H]=0,b[H]=-1;var P=B[H];if(P!==null)for(B[H]=null,H=0;H<P.length;H++){var j=P[H];j!==null&&(j.lane&=-536870913)}a&=~F}l!==0&&In(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function In(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Rs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Be(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ii(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:vp(t.type))}function Zl(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,he="__reactProps$"+Jt,hn="__reactContainer$"+Jt,ws="__reactEvents$"+Jt,lc="__reactListeners$"+Jt,Mi="__reactHandles$"+Jt,$l="__reactResources$"+Jt,wa="__reactMarker$"+Jt;function Ui(t){delete t[pe],delete t[he],delete t[ws],delete t[lc],delete t[Mi]}function ni(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ap(t);t!==null;){if(a=t[pe])return a;t=ap(t)}return n}t=a,a=t.parentNode}return null}function On(t){if(t=t[pe]||t[hn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qe(t){var n=t[$l];return n||(n=t[$l]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[wa]=!0}var Cs=new Set,hr={};function bn(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(hr[t]=n,t=0;t<n.length;t++)Cs.add(n[t])}var Jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Ca={};function tu(t){return _a.call(Ca,t)?!0:_a.call(Wl,t)?!1:Jl.test(t)?Ca[t]=!0:(Wl[t]=!0,!1)}function Li(t,n,a){if(tu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Un(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Da,eu;function ai(t){if(Da===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Da=n&&n[1]||"",eu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+eu}var fr=!1;function dr(t,n){if(!t||fr)return"";fr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var P=j}Reflect.construct(t,[],F)}else{try{F.call()}catch(j){P=j}t.call(F.prototype)}}else{try{throw Error()}catch(j){P=j}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(j){if(j&&P&&typeof j.stack=="string")return[j.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{fr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ai(a):""}function Ds(t){switch(t.tag){case 26:case 27:case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return dr(t.type,!1);case 11:return dr(t.type.render,!1);case 1:return dr(t.type,!0);case 31:return ai("Activity");default:return""}}function mr(t){try{var n="";do n+=Ds(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uc(t){var n=xs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function gr(t){t._valueTracker||(t._valueTracker=uc(t))}function Vs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oc=/[\n"\\]/g;function fe(t){return t.replace(oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ye(n)):a!=null?zi(t,y,Ye(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Va(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,a){n==="number"&&xa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ri(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ye(a):""}function Na(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ye(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function fn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ia.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ns(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&nu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&nu(t,f,n[f])}function Is(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pr(t){return hc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var si=null;function dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var li=null,ui=null;function Os(t){var n=On(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Vs(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ri(t,!!a.multiple,n,!1)}}}var Ln=!1;function iu(t,n,a){if(Ln)return t(n,a);Ln=!0;try{var l=t(n);return l}finally{if(Ln=!1,(li!==null||ui!==null)&&(Zu(),li&&(n=li,t=ui,ui=li=null,Os(n),t)))for(n=0;n<t.length;n++)Os(t[n])}}function Oa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Rn)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{mn=!1}var zn=null,Bi=null,oi=null;function Ms(){if(oi)return oi;var t,n=Bi,a=n.length,l,c="value"in zn?zn.value:zn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return oi=c.slice(t,1<l?1-l:void 0)}function Bn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Pn(){return!0}function Us(){return!1}function be(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pn:Us,this.isPropagationStopped=Us,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pn)},persist:function(){},isPersistent:Pn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=be(jt),Ua=A({},jt,{view:0,detail:0}),au=be(Ua),_r,vr,jn,La=A({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(_r=t.screenX-jn.screenX,vr=t.screenY-jn.screenY):vr=_r=0,jn=t),_r)},movementY:function(t){return"movementY"in t?t.movementY:vr}}),gn=be(La),ru=A({},La,{dataTransfer:0}),fc=be(ru),za=A({},Ua,{relatedTarget:0}),Er=be(za),Ls=A({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Tr=be(Ls),su=A({},jt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ar=be(su),dc=A({},jt,{data:0}),zs=be(dc),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=uu[t])?!!n[t]:!1}function Pa(){return Bs}var ou=A({},Ua,{key:function(t){if(t.key){var n=Ba[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Bn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?Bn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sr=be(ou),cu=A({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ps=be(cu),ci=A({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),hu=be(ci),fu=A({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=be(fu),mu=A({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),br=be(mu),Fe=A({},jt,{newState:0,oldState:0}),gu=be(Fe),pu=[9,13,27,32],kn=Rn&&"CompositionEvent"in window,u=null;Rn&&"documentMode"in document&&(u=document.documentMode);var d=Rn&&"TextEvent"in window&&!u,g=Rn&&(!kn||u&&8<u&&11>=u),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return pu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ye(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function It(t,n){if(Nt)return t==="compositionend"||!kn&&k(t,n)?(t=Ms(),oi=Bi=zn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Re[t.type]:n==="textarea"}function hi(t,n,a,l){li?ui?ui.push(l):ui=[l]:li=l,n=no(n,"onChange"),0<n.length&&(a=new yr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ie=null,qn=null;function js(t){Xg(t,0)}function yu(t){var n=Mn(t);if(Vs(n))return t}function gd(t,n){if(t==="change")return n}var pd=!1;if(Rn){var mc;if(Rn){var gc="oninput"in document;if(!gc){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),gc=typeof yd.oninput=="function"}mc=gc}else mc=!1;pd=mc&&(!document.documentMode||9<document.documentMode)}function _d(){Ie&&(Ie.detachEvent("onpropertychange",vd),qn=Ie=null)}function vd(t){if(t.propertyName==="value"&&yu(qn)){var n=[];hi(n,qn,t,dn(t)),iu(js,n)}}function Sv(t,n,a){t==="focusin"?(_d(),Ie=n,qn=a,Ie.attachEvent("onpropertychange",vd)):t==="focusout"&&_d()}function bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(qn)}function Rv(t,n){if(t==="click")return yu(n)}function wv(t,n){if(t==="input"||t==="change")return yu(n)}function Cv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:Cv;function ks(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_a.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function Ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Td(t,n){var a=Ed(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ed(a)}}function Ad(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ad(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xa(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=xa(t.document)}return n}function pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Dv=Rn&&"documentMode"in document&&11>=document.documentMode,Rr=null,yc=null,qs=null,_c=!1;function bd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_c||Rr==null||Rr!==xa(l)||(l=Rr,"selectionStart"in l&&pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qs&&ks(qs,l)||(qs=l,l=no(yc,"onSelect"),0<l.length&&(n=new yr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Rr)))}function ja(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var wr={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},vc={},Rd={};Rn&&(Rd=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ka(t){if(vc[t])return vc[t];if(!wr[t])return t;var n=wr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rd)return vc[t]=n[a];return t}var wd=ka("animationend"),Cd=ka("animationiteration"),Dd=ka("animationstart"),xv=ka("transitionrun"),Vv=ka("transitionstart"),Nv=ka("transitioncancel"),xd=ka("transitionend"),Vd=new Map,Ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ec.push("scrollEnd");function wn(t,n){Vd.set(t,n),bn(n,[t])}var Nd=new WeakMap;function pn(t,n){if(typeof t=="object"&&t!==null){var a=Nd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:mr(n)},Nd.set(t,n),n)}return{value:t,source:n,stack:mr(n)}}var yn=[],Cr=0,Tc=0;function _u(){for(var t=Cr,n=Tc=Cr=0;n<t;){var a=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var f=yn[n];if(yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Id(a,c,f)}}function vu(t,n,a,l){yn[Cr++]=t,yn[Cr++]=n,yn[Cr++]=a,yn[Cr++]=l,Tc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ac(t,n,a,l){return vu(t,n,a,l),Eu(t)}function Dr(t,n){return vu(t,null,null,n),Eu(t)}function Id(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Eu(t){if(50<dl)throw dl=0,Dh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var xr={};function Iv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,a,l){return new Iv(t,n,a,l)}function Sc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,n){var a=t.alternate;return a===null?(a=an(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Od(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Tu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Sc(t)&&(y=1);else if(typeof t=="string")y=M0(t,a,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=an(31,a,n,c),t.elementType=w,t.lanes=f,t;case J:return qa(a.children,c,f,n);case it:y=8,c|=24;break;case K:return t=an(12,a,n,c|2),t.elementType=K,t.lanes=f,t;case _t:return t=an(13,a,n,c),t.elementType=_t,t.lanes=f,t;case Vt:return t=an(19,a,n,c),t.elementType=Vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:case dt:y=10;break t;case lt:y=9;break t;case Lt:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=an(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function qa(t,n,a,l){return t=an(7,t,l,n),t.lanes=a,t}function bc(t,n,a){return t=an(6,t,null,n),t.lanes=a,t}function Rc(t,n,a){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vr=[],Nr=0,Au=null,Su=0,_n=[],vn=0,Ha=null,di=1,mi="";function Ga(t,n){Vr[Nr++]=Su,Vr[Nr++]=Au,Au=t,Su=n}function Md(t,n,a){_n[vn++]=di,_n[vn++]=mi,_n[vn++]=Ha,Ha=t;var l=di;t=mi;var c=32-Be(l)-1;l&=~(1<<c),a+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,di=1<<32-Be(n)+c|a<<c|l,mi=f+t}else di=1<<f|a<<c|l,mi=t}function wc(t){t.return!==null&&(Ga(t,1),Md(t,1,0))}function Cc(t){for(;t===Au;)Au=Vr[--Nr],Vr[Nr]=null,Su=Vr[--Nr],Vr[Nr]=null;for(;t===Ha;)Ha=_n[--vn],_n[vn]=null,mi=_n[--vn],_n[vn]=null,di=_n[--vn],_n[vn]=null}var Xe=null,re=null,Pt=!1,Qa=null,Hn=!1,Dc=Error(s(519));function Ya(t){var n=Error(s(418,""));throw Qs(pn(n,t)),Dc}function Ud(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[he]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Dt(gl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Va(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gr(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Na(n,l.value,l.defaultValue,l.children),gr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Jg(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=io),n=!0):n=!1,n||Ya(t)}function Ld(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xe=Xe.return}}function Hs(t){if(t!==Xe)return!1;if(!Pt)return Ld(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gh(t.type,t.memoizedProps)),a=!a),a&&re&&Ya(t),Ld(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=Dn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ta(t.type)?(t=Xh,Xh=null,re=t):re=n):re=Xe?Dn(t.stateNode.nextSibling):null;return!0}function Gs(){re=Xe=null,Pt=!1}function zd(){var t=Qa;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Qa=null),t}function Qs(t){Qa===null?Qa=[t]:Qa.push(t)}var xc=Z(null),Fa=null,gi=null;function Pi(t,n,a){W(xc,n._currentValue),n._currentValue=a}function pi(t){t._currentValue=xc.current,nt(xc)}function Vc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Nc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Vc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Vc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ys(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Se.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}c=c.return}t!==null&&Nc(n,t,a,l),n.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xa(t){Fa=t,gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return Bd(Fa,t)}function Ru(t,n){return Fa===null&&Xa(t),Bd(t,n)}function Bd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},gi===null){if(t===null)throw Error(s(308));gi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else gi=gi.next=n;return a}var Ov=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Mv=r.unstable_scheduleCallback,Uv=r.unstable_NormalPriority,ve={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ic(){return{controller:new Ov,data:new Map,refCount:0}}function Fs(t){t.refCount--,t.refCount===0&&Mv(Uv,function(){t.controller.abort()})}var Xs=null,Oc=0,Ir=0,Or=null;function Lv(t,n){if(Xs===null){var a=Xs=[];Oc=0,Ir=Uh(),Or={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Oc++,n.then(Pd,Pd),n}function Pd(){if(--Oc===0&&Xs!==null){Or!==null&&(Or.status="fulfilled");var t=Xs;Xs=null,Ir=0,Or=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zv(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var jd=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Lv(t,n),jd!==null&&jd(t,n)};var Ka=Z(null);function Mc(){var t=Ka.current;return t!==null?t:$t.pooledCache}function wu(t,n){n===null?W(Ka,Ka.current):W(Ka,n.pool)}function kd(){var t=Mc();return t===null?null:{parent:ve._currentValue,pool:t}}var Ks=Error(s(460)),qd=Error(s(474)),Cu=Error(s(542)),Uc={then:function(){}};function Hd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function Gd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Du,Du),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Yd(t),t;default:if(typeof n.status=="string")n.then(Du,Du);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Yd(t),t}throw Zs=n,Ks}}var Zs=null;function Qd(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function Yd(t){if(t===Ks||t===Cu)throw Error(s(483))}var ji=!1;function Lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Eu(t),Id(t,null,a),n}return vu(t,l,n,a),Eu(t)}function $s(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rs(t,a)}}function Bc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Pc=!1;function Js(){if(Pc){var t=Or;if(t!==null)throw t}}function Ws(t,n,a,l){Pc=!1;var c=t.updateQueue;ji=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?f=B:y.next=B,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=B=b=null,E=f;do{var P=E.lane&-536870913,j=P!==E.lane;if(j?(Ot&P)===P:(l&P)===P){P!==0&&P===Ir&&(Pc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,mt=E;P=n;var Xt=a;switch(mt.tag){case 1:if(pt=mt.payload,typeof pt=="function"){F=pt.call(Xt,F,P);break t}F=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=mt.payload,P=typeof pt=="function"?pt.call(Xt,F,P):pt,P==null)break t;F=A({},F,P);break t;case 2:ji=!0}}P=E.callback,P!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[P]:j.push(P))}else j={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=j,b=F):H=H.next=j,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Zi|=y,t.lanes=y,t.memoizedState=F}}function Fd(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Xd(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fd(a[t],n)}var Mr=Z(null),xu=Z(0);function Kd(t,n){t=Si,W(xu,t),W(Mr,n),Si=t|n.baseLanes}function jc(){W(xu,Si),W(Mr,Mr.current)}function kc(){Si=xu.current,nt(Mr),nt(xu)}var Hi=0,St=null,Yt=null,de=null,Vu=!1,Ur=!1,Za=!1,Nu=0,tl=0,Lr=null,Bv=0;function ue(){throw Error(s(321))}function qc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!nn(t[a],n[a]))return!1;return!0}function Hc(t,n,a,l,c,f){return Hi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Im:Om,Za=!1,f=a(l,c),Za=!1,Ur&&(f=$d(n,a,l,c)),Zd(t),f}function Zd(t){q.H=zu;var n=Yt!==null&&Yt.next!==null;if(Hi=0,de=Yt=St=null,Vu=!1,tl=0,Lr=null,n)throw Error(s(300));t===null||we||(t=t.dependencies,t!==null&&bu(t)&&(we=!0))}function $d(t,n,a,l){St=t;var c=0;do{if(Ur&&(Lr=null),tl=0,Ur=!1,25<=c)throw Error(s(301));if(c+=1,de=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Qv,f=n(a,l)}while(Ur);return f}function Pv(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function Gc(){var t=Nu!==0;return Nu=0,t}function Qc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Yc(t){if(Vu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Vu=!1}Hi=0,de=Yt=St=null,Ur=!1,tl=Nu=0,Lr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?St.memoizedState=de=t:de=de.next=t,de}function me(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=de===null?St.memoizedState:de.next;if(n!==null)de=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},de===null?St.memoizedState=de=t:de=de.next=t}return de}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=tl;return tl+=1,Lr===null&&(Lr=[]),t=Gd(Lr,t,n),n=St,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Im:Om),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===dt)return Pe(t)}throw Error(s(438,String(t)))}function Xc(t){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fc(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function yi(t,n){return typeof n=="function"?n(t):n}function Ou(t){var n=me();return Kc(n,Yt,t)}function Kc(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Ot&F)===F:(Hi&F)===F){var P=B.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Ir&&(H=!0);else if((Hi&P)===P){B=B.next,P===Ir&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,St.lanes|=P,Zi|=P;F=B.action,Za&&a(f,F),f=B.hasEagerState?B.eagerState:a(f,F)}else P={lane:F,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,St.lanes|=F,Zi|=F;B=B.next}while(B!==null&&B!==n);if(b===null?y=f:b.next=E,!nn(f,t.memoizedState)&&(we=!0,H&&(a=Or,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zc(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);nn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Jd(t,n,a){var l=St,c=me(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!nn((Yt||c).memoizedState,a);y&&(c.memoizedState=a,we=!0),c=c.queue;var E=em.bind(null,l,c,t);if(nl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,zr(9,Mu(),tm.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));f||(Hi&124)!==0||Wd(l,n,a)}return a}function Wd(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Fc(),St.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function tm(t,n,a,l){n.value=a,n.getSnapshot=l,nm(n)&&im(t)}function em(t,n,a){return a(function(){nm(n)&&im(t)})}function nm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!nn(t,a)}catch{return!0}}function im(t){var n=Dr(t,2);n!==null&&on(n,t,2)}function $c(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),Za){tn(!0);try{a()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},n}function am(t,n,a,l){return t.baseState=a,Kc(t,Yt,typeof l=="function"?l:yi)}function jv(t,n,a,l,c){if(Lu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,rm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function rm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=a(c,l),b=q.S;b!==null&&b(y,E),sm(t,n,E)}catch(B){Jc(t,n,B)}finally{q.T=f}}else try{f=a(c,l),sm(t,n,f)}catch(B){Jc(t,n,B)}}function sm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){lm(t,n,l)},function(l){return Jc(t,n,l)}):lm(t,n,a)}function lm(t,n,a){n.status="fulfilled",n.value=a,um(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,rm(t,a)))}function Jc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,um(n),n=n.next;while(n!==l)}t.action=null}function um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function om(t,n){return n}function cm(t,n){if(Pt){var a=$t.formState;if(a!==null){t:{var l=St;if(Pt){if(re){e:{for(var c=re,f=Hn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=Dn(c.nextSibling),l=c.data==="F!";break t}}Ya(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:n},a.queue=l,a=xm.bind(null,St,l),l.dispatch=a,l=$c(!1),f=ih.bind(null,St,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=jv.bind(null,St,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function hm(t){var n=me();return fm(n,Yt,t)}function fm(t,n,a){if(n=Kc(t,n,om)[0],t=Ou(yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=el(n)}catch(y){throw y===Ks?Cu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(St.flags|=2048,zr(9,Mu(),kv.bind(null,c,a),null)),[l,f,t]}function kv(t,n){t.action=n}function dm(t){var n=me(),a=Yt;if(a!==null)return fm(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function zr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Fc(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Mu(){return{destroy:void 0,resource:void 0}}function mm(){return me().memoizedState}function Uu(t,n,a,l){var c=Ze();l=l===void 0?null:l,St.flags|=t,c.memoizedState=zr(1|n,Mu(),a,l)}function nl(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&qc(l,Yt.memoizedState.deps)?c.memoizedState=zr(n,f,a,l):(St.flags|=t,c.memoizedState=zr(1|n,f,a,l))}function gm(t,n){Uu(8390656,8,t,n)}function pm(t,n){nl(2048,8,t,n)}function ym(t,n){return nl(4,2,t,n)}function _m(t,n){return nl(4,4,t,n)}function vm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Em(t,n,a){a=a!=null?a.concat([t]):null,nl(4,4,vm.bind(null,n,t),a)}function Wc(){}function Tm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&qc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Am(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&qc(n,l[1]))return l[0];if(l=t(),Za){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l}function th(t,n,a){return a===void 0||(Hi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Rg(),St.lanes|=t,Zi|=t,a)}function Sm(t,n,a,l){return nn(a,n)?a:Mr.current!==null?(t=th(t,a,l),nn(t,n)||(we=!0),t):(Hi&42)===0?(we=!0,t.memoizedState=a):(t=Rg(),St.lanes|=t,Zi|=t,n)}function bm(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,ih(t,!1,n,a);try{var b=c(),B=q.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=zv(b,l);il(t,n,H,un(t))}else il(t,n,l,un(t))}catch(F){il(t,n,{then:function(){},status:"rejected",reason:F},un())}finally{et.p=f,q.T=y}}function qv(){}function eh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Rm(t).queue;bm(t,c,n,ot,a===null?qv:function(){return wm(t),a(l)})}function Rm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wm(t){var n=Rm(t).next.queue;il(t,n,{},un())}function nh(){return Pe(Tl)}function Cm(){return me().memoizedState}function Dm(){return me().memoizedState}function Hv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=un();t=ki(a);var l=qi(n,t,a);l!==null&&(on(l,n,a),$s(l,n,a)),n={cache:Ic()},t.payload=n;return}n=n.return}}function Gv(t,n,a){var l=un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(t)?Vm(n,a):(a=Ac(t,n,a,l),a!==null&&(on(a,t,l),Nm(a,n,l)))}function xm(t,n,a){var l=un();il(t,n,a,l)}function il(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(t))Vm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return vu(t,n,c,0),$t===null&&_u(),!1}catch{}finally{}if(a=Ac(t,n,c,l),a!==null)return on(a,t,l),Nm(a,n,l),!0}return!1}function ih(t,n,a,l){if(l={lane:2,revertLane:Uh(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(t)){if(n)throw Error(s(479))}else n=Ac(t,a,l,2),n!==null&&on(n,t,2)}function Lu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Vm(t,n){Ur=Vu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Nm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Rs(t,a)}}var zu={readContext:Pe,use:Iu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Im={readContext:Pe,use:Iu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:Pe,useEffect:gm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Uu(4194308,4,vm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Uu(4194308,4,t,n)},useInsertionEffect:function(t,n){Uu(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(Za){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(Za){tn(!0);try{a(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Gv.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=$c(t);var n=t.queue,a=xm.bind(null,St,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Wc,useDeferredValue:function(t,n){var a=Ze();return th(a,t,n)},useTransition:function(){var t=$c(!1);return t=bm.bind(null,St,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=St,c=Ze();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Ot&124)!==0||Wd(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,gm(em.bind(null,l,f,t),[t]),l.flags|=2048,zr(9,Mu(),tm.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Pt){var a=mi,l=di;a=(l&~(1<<32-Be(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Nu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Bv++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:nh,useFormState:cm,useActionState:cm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ih.bind(null,St,!0,a),a.dispatch=n,[t,n]},useMemoCache:Xc,useCacheRefresh:function(){return Ze().memoizedState=Hv.bind(null,St)}},Om={readContext:Pe,use:Iu,useCallback:Tm,useContext:Pe,useEffect:pm,useImperativeHandle:Em,useInsertionEffect:ym,useLayoutEffect:_m,useMemo:Am,useReducer:Ou,useRef:mm,useState:function(){return Ou(yi)},useDebugValue:Wc,useDeferredValue:function(t,n){var a=me();return Sm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Ou(yi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:Jd,useId:Cm,useHostTransitionStatus:nh,useFormState:hm,useActionState:hm,useOptimistic:function(t,n){var a=me();return am(a,Yt,t,n)},useMemoCache:Xc,useCacheRefresh:Dm},Qv={readContext:Pe,use:Iu,useCallback:Tm,useContext:Pe,useEffect:pm,useImperativeHandle:Em,useInsertionEffect:ym,useLayoutEffect:_m,useMemo:Am,useReducer:Zc,useRef:mm,useState:function(){return Zc(yi)},useDebugValue:Wc,useDeferredValue:function(t,n){var a=me();return Yt===null?th(a,t,n):Sm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Zc(yi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:Jd,useId:Cm,useHostTransitionStatus:nh,useFormState:dm,useActionState:dm,useOptimistic:function(t,n){var a=me();return Yt!==null?am(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xc,useCacheRefresh:Dm},Br=null,al=0;function Bu(t){var n=al;return al+=1,Br===null&&(Br=[]),Gd(Br,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Pu(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Mm(t){var n=t._init;return n(t._payload)}function Um(t){function n(O,D){if(t){var z=O.deletions;z===null?(O.deletions=[D],O.flags|=16):z.push(D)}}function a(O,D){if(!t)return null;for(;D!==null;)n(O,D),D=D.sibling;return null}function l(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function c(O,D){return O=fi(O,D),O.index=0,O.sibling=null,O}function f(O,D,z){return O.index=z,t?(z=O.alternate,z!==null?(z=z.index,z<D?(O.flags|=67108866,D):z):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function y(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function E(O,D,z,Q){return D===null||D.tag!==6?(D=bc(z,O.mode,Q),D.return=O,D):(D=c(D,z),D.return=O,D)}function b(O,D,z,Q){var rt=z.type;return rt===J?H(O,D,z.props.children,Q,z.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Mm(rt)===D.type)?(D=c(D,z.props),rl(D,z),D.return=O,D):(D=Tu(z.type,z.key,z.props,null,O.mode,Q),rl(D,z),D.return=O,D)}function B(O,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Rc(z,O.mode,Q),D.return=O,D):(D=c(D,z.children||[]),D.return=O,D)}function H(O,D,z,Q,rt){return D===null||D.tag!==7?(D=qa(z,O.mode,Q,rt),D.return=O,D):(D=c(D,z),D.return=O,D)}function F(O,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=bc(""+D,O.mode,z),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return z=Tu(D.type,D.key,D.props,null,O.mode,z),rl(z,D),z.return=O,z;case Y:return D=Rc(D,O.mode,z),D.return=O,D;case S:var Q=D._init;return D=Q(D._payload),F(O,D,z)}if(ie(D)||M(D))return D=qa(D,O.mode,z,null),D.return=O,D;if(typeof D.then=="function")return F(O,Bu(D),z);if(D.$$typeof===dt)return F(O,Ru(O,D),z);Pu(O,D)}return null}function P(O,D,z,Q){var rt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(O,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===rt?b(O,D,z,Q):null;case Y:return z.key===rt?B(O,D,z,Q):null;case S:return rt=z._init,z=rt(z._payload),P(O,D,z,Q)}if(ie(z)||M(z))return rt!==null?null:H(O,D,z,Q,null);if(typeof z.then=="function")return P(O,D,Bu(z),Q);if(z.$$typeof===dt)return P(O,D,Ru(O,z),Q);Pu(O,z)}return null}function j(O,D,z,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return O=O.get(z)||null,E(D,O,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return O=O.get(Q.key===null?z:Q.key)||null,b(D,O,Q,rt);case Y:return O=O.get(Q.key===null?z:Q.key)||null,B(D,O,Q,rt);case S:var wt=Q._init;return Q=wt(Q._payload),j(O,D,z,Q,rt)}if(ie(Q)||M(Q))return O=O.get(z)||null,H(D,O,Q,rt,null);if(typeof Q.then=="function")return j(O,D,z,Bu(Q),rt);if(Q.$$typeof===dt)return j(O,D,z,Ru(D,Q),rt);Pu(D,Q)}return null}function pt(O,D,z,Q){for(var rt=null,wt=null,ut=D,gt=D=0,De=null;ut!==null&&gt<z.length;gt++){ut.index>gt?(De=ut,ut=null):De=ut.sibling;var zt=P(O,ut,z[gt],Q);if(zt===null){ut===null&&(ut=De);break}t&&ut&&zt.alternate===null&&n(O,ut),D=f(zt,D,gt),wt===null?rt=zt:wt.sibling=zt,wt=zt,ut=De}if(gt===z.length)return a(O,ut),Pt&&Ga(O,gt),rt;if(ut===null){for(;gt<z.length;gt++)ut=F(O,z[gt],Q),ut!==null&&(D=f(ut,D,gt),wt===null?rt=ut:wt.sibling=ut,wt=ut);return Pt&&Ga(O,gt),rt}for(ut=l(ut);gt<z.length;gt++)De=j(ut,O,gt,z[gt],Q),De!==null&&(t&&De.alternate!==null&&ut.delete(De.key===null?gt:De.key),D=f(De,D,gt),wt===null?rt=De:wt.sibling=De,wt=De);return t&&ut.forEach(function(ra){return n(O,ra)}),Pt&&Ga(O,gt),rt}function mt(O,D,z,Q){if(z==null)throw Error(s(151));for(var rt=null,wt=null,ut=D,gt=D=0,De=null,zt=z.next();ut!==null&&!zt.done;gt++,zt=z.next()){ut.index>gt?(De=ut,ut=null):De=ut.sibling;var ra=P(O,ut,zt.value,Q);if(ra===null){ut===null&&(ut=De);break}t&&ut&&ra.alternate===null&&n(O,ut),D=f(ra,D,gt),wt===null?rt=ra:wt.sibling=ra,wt=ra,ut=De}if(zt.done)return a(O,ut),Pt&&Ga(O,gt),rt;if(ut===null){for(;!zt.done;gt++,zt=z.next())zt=F(O,zt.value,Q),zt!==null&&(D=f(zt,D,gt),wt===null?rt=zt:wt.sibling=zt,wt=zt);return Pt&&Ga(O,gt),rt}for(ut=l(ut);!zt.done;gt++,zt=z.next())zt=j(ut,O,gt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&ut.delete(zt.key===null?gt:zt.key),D=f(zt,D,gt),wt===null?rt=zt:wt.sibling=zt,wt=zt);return t&&ut.forEach(function(Y0){return n(O,Y0)}),Pt&&Ga(O,gt),rt}function Xt(O,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:t:{for(var rt=z.key;D!==null;){if(D.key===rt){if(rt=z.type,rt===J){if(D.tag===7){a(O,D.sibling),Q=c(D,z.props.children),Q.return=O,O=Q;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&Mm(rt)===D.type){a(O,D.sibling),Q=c(D,z.props),rl(Q,z),Q.return=O,O=Q;break t}a(O,D);break}else n(O,D);D=D.sibling}z.type===J?(Q=qa(z.props.children,O.mode,Q,z.key),Q.return=O,O=Q):(Q=Tu(z.type,z.key,z.props,null,O.mode,Q),rl(Q,z),Q.return=O,O=Q)}return y(O);case Y:t:{for(rt=z.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(O,D.sibling),Q=c(D,z.children||[]),Q.return=O,O=Q;break t}else{a(O,D);break}else n(O,D);D=D.sibling}Q=Rc(z,O.mode,Q),Q.return=O,O=Q}return y(O);case S:return rt=z._init,z=rt(z._payload),Xt(O,D,z,Q)}if(ie(z))return pt(O,D,z,Q);if(M(z)){if(rt=M(z),typeof rt!="function")throw Error(s(150));return z=rt.call(z),mt(O,D,z,Q)}if(typeof z.then=="function")return Xt(O,D,Bu(z),Q);if(z.$$typeof===dt)return Xt(O,D,Ru(O,z),Q);Pu(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(O,D.sibling),Q=c(D,z),Q.return=O,O=Q):(a(O,D),Q=bc(z,O.mode,Q),Q.return=O,O=Q),y(O)):a(O,D)}return function(O,D,z,Q){try{al=0;var rt=Xt(O,D,z,Q);return Br=null,rt}catch(ut){if(ut===Ks||ut===Cu)throw ut;var wt=an(29,ut,null,O.mode);return wt.lanes=Q,wt.return=O,wt}finally{}}}var Pr=Um(!0),Lm=Um(!1),En=Z(null),Gn=null;function Gi(t){var n=t.alternate;W(Ee,Ee.current&1),W(En,t),Gn===null&&(n===null||Mr.current!==null||n.memoizedState!==null)&&(Gn=t)}function zm(t){if(t.tag===22){if(W(Ee,Ee.current),W(En,t),Gn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Gn=t)}}else Qi()}function Qi(){W(Ee,Ee.current),W(En,En.current)}function _i(t){nt(En),Gn===t&&(Gn=null),nt(Ee)}var Ee=Z(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ah(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=un(),c=ki(l);c.payload=n,a!=null&&(c.callback=a),n=qi(t,c,l),n!==null&&(on(n,t,l),$s(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=un(),c=ki(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=qi(t,c,l),n!==null&&(on(n,t,l),$s(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=un(),l=ki(a);l.tag=2,n!=null&&(l.callback=n),n=qi(t,l,a),n!==null&&(on(n,t,a),$s(n,t,a))}};function Bm(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!ks(a,l)||!ks(c,f):!0}function Pm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&rh.enqueueReplaceState(n,n.state,null)}function $a(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jm(t){ku(t)}function km(t){console.error(t)}function qm(t){ku(t)}function qu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Hm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,n,a){return a=ki(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(t,n)},a}function Gm(t){return t=ki(t),t.tag=3,t}function Qm(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Hm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Hm(n,a,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Yv(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,c,!0),a=En.current,a!==null){switch(a.tag){case 13:return Gn===null?Vh():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Uc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ih(t,l,c)),!1;case 22:return a.flags|=65536,l===Uc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ih(t,l,c)),!1}throw Error(s(435,a.tag))}return Ih(t,l,c),Vh(),!1}if(Pt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Dc&&(t=Error(s(422),{cause:l}),Qs(pn(t,a)))):(l!==Dc&&(n=Error(s(423),{cause:l}),Qs(pn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=pn(l,a),c=sh(t.stateNode,l,c),Bc(t,c),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=pn(f,a),fl===null?fl=[f]:fl.push(f),se!==4&&(se=2),n===null)return!0;l=pn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=sh(a.stateNode,l,t),Bc(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Gm(c),Qm(c,t,a,l),Bc(a,c),!1}a=a.return}while(a!==null);return!1}var Ym=Error(s(461)),we=!1;function Oe(t,n,a,l){n.child=t===null?Lm(n,null,a,l):Pr(n,t.child,a,l)}function Fm(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Xa(n),l=Hc(t,n,a,y,f,c),E=Gc(),t!==null&&!we?(Qc(t,n,c),vi(t,n,c)):(Pt&&E&&wc(n),n.flags|=1,Oe(t,n,l,c),n.child)}function Xm(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Sc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Km(t,n,f,l,c)):(t=Tu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:ks,a(y,l)&&t.ref===n.ref)return vi(t,n,c)}return n.flags|=1,t=fi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Km(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ks(f,l)&&t.ref===n.ref)if(we=!1,n.pendingProps=l=f,mh(t,c))(t.flags&131072)!==0&&(we=!0);else return n.lanes=t.lanes,vi(t,n,c)}return lh(t,n,a,l,c)}function Zm(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return $m(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wu(n,f!==null?f.cachePool:null),f!==null?Kd(n,f):jc(),zm(n);else return n.lanes=n.childLanes=536870912,$m(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(wu(n,f.cachePool),Kd(n,f),Qi(),n.memoizedState=null):(t!==null&&wu(n,null),jc(),Qi());return Oe(t,n,c,a),n.child}function $m(t,n,a,l){var c=Mc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&wu(n,null),jc(),zm(n),t!==null&&Ys(t,n,l,!0),null}function Hu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function lh(t,n,a,l,c){return Xa(n),a=Hc(t,n,a,l,void 0,c),l=Gc(),t!==null&&!we?(Qc(t,n,c),vi(t,n,c)):(Pt&&l&&wc(n),n.flags|=1,Oe(t,n,a,c),n.child)}function Jm(t,n,a,l,c,f){return Xa(n),n.updateQueue=null,a=$d(n,l,a,c),Zd(t),l=Gc(),t!==null&&!we?(Qc(t,n,f),vi(t,n,f)):(Pt&&l&&wc(n),n.flags|=1,Oe(t,n,a,f),n.child)}function Wm(t,n,a,l,c){if(Xa(n),n.stateNode===null){var f=xr,y=a.contextType;typeof y=="object"&&y!==null&&(f=Pe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Lc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Pe(y):xr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ah(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&rh.enqueueReplaceState(f,f.state,null),Ws(n,l,f,c),Js(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=$a(a,E);f.props=b;var B=f.context,H=a.contextType;y=xr,typeof H=="object"&&H!==null&&(y=Pe(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&Pm(n,f,l,y),ji=!1;var P=n.memoizedState;f.state=P,Ws(n,l,f,c),Js(),B=n.memoizedState,E||P!==B||ji?(typeof F=="function"&&(ah(n,a,F,l),B=n.memoizedState),(b=ji||Bm(n,a,b,l,P,B,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,zc(t,n),y=n.memoizedProps,H=$a(a,y),f.props=H,F=n.pendingProps,P=f.context,B=a.contextType,b=xr,typeof B=="object"&&B!==null&&(b=Pe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==b)&&Pm(n,f,l,b),ji=!1,P=n.memoizedState,f.state=P,Ws(n,l,f,c),Js();var j=n.memoizedState;y!==F||P!==j||ji||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof E=="function"&&(ah(n,a,E,l),j=n.memoizedState),(H=ji||Bm(n,a,H,l,P,j,b)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Pr(n,t.child,null,c),n.child=Pr(n,null,a,c)):Oe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=vi(t,n,c),t}function tg(t,n,a,l){return Gs(),n.flags|=256,Oe(t,n,a,l),n.child}var uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oh(t){return{baseLanes:t,cachePool:kd()}}function ch(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Tn),t}function eg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Gi(n):Qi(),Pt){var E=re,b;if(b=E){t:{for(b=E,E=Hn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Dn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ha!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,re=null,b=!0):b=!1}b||Ya(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Fh(E)?n.lanes=32:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(Qi(),c=n.mode,E=Gu({mode:"hidden",children:E},c),l=qa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=oh(a),c.childLanes=ch(t,y,a),n.memoizedState=uh,l):(Gi(n),hh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Gi(n),n.flags&=-257,n=fh(t,n,a)):n.memoizedState!==null?(Qi(),n.child=t.child,n.flags|=128,n=null):(Qi(),c=l.fallback,E=n.mode,l=Gu({mode:"visible",children:l.children},E),c=qa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Pr(n,t.child,null,a),l=n.child,l.memoizedState=oh(a),l.childLanes=ch(t,y,a),n.memoizedState=uh,n=c);else if(Gi(n),Fh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,Qs({value:l,source:null,stack:null}),n=fh(t,n,a)}else if(we||Ys(t,n,a,!1),y=(a&t.childLanes)!==0,we||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:Ii(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Dr(t,l),on(y,t,l),Ym;E.data==="$?"||Vh(),n=fh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,re=Dn(E.nextSibling),Xe=n,Pt=!0,Qa=null,Hn=!1,t!==null&&(_n[vn++]=di,_n[vn++]=mi,_n[vn++]=Ha,di=t.id,mi=t.overflow,Ha=n),n=hh(n,l.children),n.flags|=4096);return n}return c?(Qi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=fi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=fi(B,c):(c=qa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=oh(a):(b=E.cachePool,b!==null?(B=ve._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=kd(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=ch(t,y,a),n.memoizedState=uh,l):(Gi(n),a=t.child,t=a.sibling,a=fi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function hh(t,n){return n=Gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Gu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fh(t,n,a){return Pr(n,t.child,null,a),t=hh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ng(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Vc(t.return,n,a)}function dh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function ig(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Oe(t,n,l.children,a),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ng(t,a,n);else if(t.tag===19)ng(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ju(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),dh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ju(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}dh(n,!0,a,null,f);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Zi|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=fi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=fi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function Fv(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Pi(n,ve,t.memoizedState.cache),Gs();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Pi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?eg(t,n,a):(Gi(n),t=vi(t,n,a),t!==null?t.sibling:null);Gi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return ig(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,Zm(t,n,a);case 24:Pi(n,ve,t.memoizedState.cache)}return vi(t,n,a)}function ag(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)we=!0;else{if(!mh(t,a)&&(n.flags&128)===0)return we=!1,Fv(t,n,a);we=(t.flags&131072)!==0}else we=!1,Pt&&(n.flags&1048576)!==0&&Md(n,Su,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Sc(l)?(t=$a(l,t),n.tag=1,n=Wm(null,n,l,t,a)):(n.tag=0,n=lh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Lt){n.tag=11,n=Fm(null,n,l,t,a);break t}else if(c===x){n.tag=14,n=Xm(null,n,l,t,a);break t}}throw n=Ve(l)||l,Error(s(306,n,""))}}return n;case 0:return lh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=$a(l,n.pendingProps),Wm(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,zc(t,n),Ws(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Pi(n,ve,l),l!==f.cache&&Nc(n,[ve],a,!0),Js(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=tg(t,n,l,a);break t}else if(l!==c){c=pn(Error(s(424)),n),Qs(c),n=tg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=Dn(t.firstChild),Xe=n,Pt=!0,Qa=null,Hn=!0,a=Lm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gs(),l===c){n=vi(t,n,a);break t}Oe(t,n,l,a)}n=n.child}return n;case 26:return Hu(t,n),t===null?(a=up(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=ao(vt.current).createElement(a),l[pe]=n,l[he]=t,Ue(l,a,t),le(l),n.stateNode=l):n.memoizedState=up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Pt&&(l=n.stateNode=rp(n.type,n.pendingProps,vt.current),Xe=n,Hn=!0,c=re,ta(n.type)?(Xh=c,re=Dn(l.firstChild)):re=c),Oe(t,n,n.pendingProps.children,a),Hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=re)&&(l=T0(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,Xe=n,re=Dn(l.firstChild),Hn=!1,c=!0):c=!1),c||Ya(n)),Ni(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Gh(c,f)?l=null:y!==null&&Gh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Hc(t,n,Pv,null,null,a),Tl._currentValue=c),Hu(t,n),Oe(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=re)&&(a=A0(a,n.pendingProps,Hn),a!==null?(n.stateNode=a,Xe=n,re=null,t=!0):t=!1),t||Ya(n)),null;case 13:return eg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Pr(n,null,l,a):Oe(t,n,l,a),n.child;case 11:return Fm(t,n,n.type,n.pendingProps,a);case 7:return Oe(t,n,n.pendingProps,a),n.child;case 8:return Oe(t,n,n.pendingProps.children,a),n.child;case 12:return Oe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Pi(n,n.type,l.value),Oe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Xa(n),c=Pe(c),l=l(c),n.flags|=1,Oe(t,n,l,a),n.child;case 14:return Xm(t,n,n.type,n.pendingProps,a);case 15:return Km(t,n,n.type,n.pendingProps,a);case 19:return ig(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Gu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=fi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Zm(t,n,a);case 24:return Xa(n),l=Pe(ve),t===null?(c=Mc(),c===null&&(c=$t,f=Ic(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Lc(n),Pi(n,ve,c)):((t.lanes&a)!==0&&(zc(t,n),Ws(n,null,null,a),Js()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Pi(n,ve,l)):(l=f.cache,Pi(n,ve,l),l!==c.cache&&Nc(n,[ve],a,!0))),Oe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ei(t){t.flags|=4}function rg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!dp(n)){if(n=En.current,n!==null&&((Ot&4194048)===Ot?Gn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Gn))throw Zs=Uc,qd;t.flags|=8192}}function Qu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ss():536870912,t.lanes|=n,Hr|=n)}function sl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Xv(t,n,a){var l=n.pendingProps;switch(Cc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),pi(ve),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Hs(n)?Ei(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zd())),ee(n),null;case 26:return a=n.memoizedState,t===null?(Ei(n),a!==null?(ee(n),rg(n,a)):(ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ei(n),ee(n),rg(n,a)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ei(n),ee(n),n.flags&=-16777217),null;case 27:Wn(n),a=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ei(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ct.current,Hs(n)?Ud(n):(t=rp(c,l,a),n.stateNode=t,Ei(n))}return ee(n),null;case 5:if(Wn(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ei(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ct.current,Hs(n))Ud(n);else{switch(c=ao(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[pe]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ue(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ei(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ei(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,Hs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jg(t.nodeValue,a)),t||Ya(n)}else t=ao(t).createTextNode(l),t[pe]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Qu(n,n.updateQueue),ee(n),null;case 4:return Nn(),t===null&&Ph(n.stateNode.containerInfo),ee(n),null;case 10:return pi(n.type),ee(n),null;case 19:if(nt(Ee),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)sl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ju(t),f!==null){for(n.flags|=128,sl(c,!1),t=f.updateQueue,n.updateQueue=t,Qu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Od(a,t),a=a.sibling;return W(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&cn()>Xu&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304)}else{if(!l)if(t=ju(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Qu(n,t),sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*cn()-c.renderingStartTime>Xu&&a!==536870912&&(n.flags|=128,l=!0,sl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=cn(),n.sibling=null,t=Ee.current,W(Ee,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return _i(n),kc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&Qu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(Ka),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),pi(ve),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Kv(t,n){switch(Cc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return pi(ve),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Wn(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Gs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ee),null;case 4:return Nn(),null;case 10:return pi(n.type),null;case 22:case 23:return _i(n),kc(),t!==null&&nt(Ka),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return pi(ve),null;case 25:return null;default:return null}}function sg(t,n){switch(Cc(n),n.tag){case 3:pi(ve),Nn();break;case 26:case 27:case 5:Wn(n);break;case 4:Nn();break;case 13:_i(n);break;case 19:nt(Ee);break;case 10:pi(n.type);break;case 22:case 23:_i(n),kc(),t!==null&&nt(Ka);break;case 24:pi(ve)}}function ll(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function Yi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,B=E;try{B()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function lg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Xd(n,a)}catch(l){Kt(t,t.return,l)}}}function ug(t,n,a){a.props=$a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function Qn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function og(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function gh(t,n,a){try{var l=t.stateNode;p0(l,t.type,a,n),l[he]=n}catch(c){Kt(t,t.return,c)}}function cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function ph(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=io));else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(yh(t,n,a),t=t.sibling;t!==null;)yh(t,n,a),t=t.sibling}function Yu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,n,a),t=t.sibling;t!==null;)Yu(t,n,a),t=t.sibling}function hg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ue(n,l,a),n[pe]=t,n[he]=a}catch(f){Kt(t,t.return,f)}}var Ti=!1,oe=!1,_h=!1,fg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Zv(t,n){if(t=t.containerInfo,qh=co,t=Sd(t),pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,B=0,H=0,F=t,P=null;e:for(;;){for(var j;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(j=F.firstChild)!==null;)P=F,F=j;for(;;){if(F===t)break e;if(P===a&&++B===c&&(E=y),P===f&&++H===l&&(b=y),(j=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=j}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hh={focusedElem:t,selectionRange:a},co=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pt=$a(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Kt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Yh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function dg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(t,a),l&4&&ll(5,a);break;case 1:if(Fi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var c=$a(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}l&64&&lg(a),l&512&&ul(a,a.return);break;case 3:if(Fi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Xd(t,n)}catch(y){Kt(a,a.return,y)}}break;case 27:n===null&&l&4&&hg(a);case 26:case 5:Fi(t,a),n===null&&l&4&&og(a),l&512&&ul(a,a.return);break;case 12:Fi(t,a);break;case 13:Fi(t,a),l&4&&pg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=r0.bind(null,a),S0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ti,!l){n=n!==null&&n.memoizedState!==null||oe,c=Ti;var f=oe;Ti=l,(oe=n)&&!f?Xi(t,a,(a.subtreeFlags&8772)!==0):Fi(t,a),Ti=c,oe=f}break;case 30:break;default:Fi(t,a)}}function mg(t){var n=t.alternate;n!==null&&(t.alternate=null,mg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ui(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,$e=!1;function Ai(t,n,a){for(a=a.child;a!==null;)gg(t,n,a),a=a.sibling}function gg(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:oe||Qn(a,n),Ai(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||Qn(a,n);var l=Wt,c=$e;ta(a.type)&&(Wt=a.stateNode,$e=!1),Ai(t,n,a),yl(a.stateNode),Wt=l,$e=c;break;case 5:oe||Qn(a,n);case 6:if(l=Wt,c=$e,Wt=null,Ai(t,n,a),Wt=l,$e=c,Wt!==null)if($e)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{Wt.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:Wt!==null&&($e?(t=Wt,ip(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rl(t)):ip(Wt,a.stateNode));break;case 4:l=Wt,c=$e,Wt=a.stateNode.containerInfo,$e=!0,Ai(t,n,a),Wt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,a,n),oe||Yi(4,a,n),Ai(t,n,a);break;case 1:oe||(Qn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ug(a,n,l)),Ai(t,n,a);break;case 21:Ai(t,n,a);break;case 22:oe=(l=oe)||a.memoizedState!==null,Ai(t,n,a),oe=l;break;default:Ai(t,n,a)}}function pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(a){Kt(n,n.return,a)}}function $v(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fg),n;default:throw Error(s(435,t.tag))}}function vh(t,n){var a=$v(t);n.forEach(function(l){var c=s0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ta(E.type)){Wt=E.stateNode,$e=!1;break t}break;case 5:Wt=E.stateNode,$e=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));gg(f,y,c),Wt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)yg(n,t),n=n.sibling}var Cn=null;function yg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:rn(n,t),sn(t),l&4&&(Yi(3,t,t.return),ll(3,t),Yi(5,t,t.return));break;case 1:rn(n,t),sn(t),l&512&&(oe||a===null||Qn(a,a.return)),l&64&&Ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Cn;if(rn(n,t),sn(t),l&512&&(oe||a===null||Qn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[wa]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ue(f,l,a),f[pe]=t,le(f),l=f;break t;case"link":var y=hp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;case"meta":if(y=hp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Ue(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=t,le(f),l=f}t.stateNode=l}else fp(c,t.type,t.stateNode);else t.stateNode=cp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?fp(c,t.type,t.stateNode):cp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gh(t,t.memoizedProps,a.memoizedProps)}break;case 27:rn(n,t),sn(t),l&512&&(oe||a===null||Qn(a,a.return)),a!==null&&l&4&&gh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(rn(n,t),sn(t),l&512&&(oe||a===null||Qn(a,a.return)),t.flags&32){c=t.stateNode;try{fn(c,"")}catch(j){Kt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,gh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(_h=!0);break;case 6:if(rn(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(j){Kt(t,t.return,j)}}break;case 3:if(lo=null,c=Cn,Cn=ro(n.containerInfo),rn(n,t),Cn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(n.containerInfo)}catch(j){Kt(t,t.return,j)}_h&&(_h=!1,_g(t));break;case 4:l=Cn,Cn=ro(t.stateNode.containerInfo),rn(n,t),sn(t),Cn=l;break;case 12:rn(n,t),sn(t);break;case 13:rn(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rh=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,B=Ti,H=oe;if(Ti=B||c,oe=H||b,rn(n,t),oe=H,Ti=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||Ti||oe||Ja(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,P=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(j){Kt(b,b.return,j)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(j){Kt(b,b.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vh(t,a))));break;case 19:rn(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vh(t,l)));break;case 30:break;case 21:break;default:rn(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(cg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=ph(t);Yu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(fn(y,""),a.flags&=-33);var E=ph(t);Yu(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,B=ph(t);yh(t,B,b);break;default:throw Error(s(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _g(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_g(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dg(t,n.alternate,n),n=n.sibling}function Ja(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),Ja(n);break;case 1:Qn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ug(n,n.return,a),Ja(n);break;case 27:yl(n.stateNode);case 26:case 5:Qn(n,n.return),Ja(n);break;case 22:n.memoizedState===null&&Ja(n);break;case 30:Ja(n);break;default:Ja(n)}t=t.sibling}}function Xi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(c,f,a),ll(4,f);break;case 1:if(Xi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Fd(b[c],E)}catch(B){Kt(l,l.return,B)}}a&&y&64&&lg(f),ul(f,f.return);break;case 27:hg(f);case 26:case 5:Xi(c,f,a),a&&l===null&&y&4&&og(f),ul(f,f.return);break;case 12:Xi(c,f,a);break;case 13:Xi(c,f,a),a&&y&4&&pg(c,f);break;case 22:f.memoizedState===null&&Xi(c,f,a),ul(f,f.return);break;case 30:break;default:Xi(c,f,a)}n=n.sibling}}function Eh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fs(a))}function Th(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fs(t))}function Yn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vg(t,n,a,l),n=n.sibling}function vg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,a,l),c&2048&&ll(9,n);break;case 1:Yn(t,n,a,l);break;case 3:Yn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fs(t)));break;case 12:if(c&2048){Yn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Yn(t,n,a,l);break;case 13:Yn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,a,l):ol(t,n):f._visibility&2?Yn(t,n,a,l):(f._visibility|=2,jr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Eh(y,n);break;case 24:Yn(t,n,a,l),c&2048&&Th(n.alternate,n);break;default:Yn(t,n,a,l)}}function jr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:jr(f,y,E,b,c),ll(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?jr(f,y,E,b,c):ol(f,y):(H._visibility|=2,jr(f,y,E,b,c)),c&&B&2048&&Eh(y.alternate,y);break;case 24:jr(f,y,E,b,c),c&&B&2048&&Th(y.alternate,y);break;default:jr(f,y,E,b,c)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:ol(a,l),c&2048&&Eh(l.alternate,l);break;case 24:ol(a,l),c&2048&&Th(l.alternate,l);break;default:ol(a,l)}n=n.sibling}}var cl=8192;function kr(t){if(t.subtreeFlags&cl)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 26:kr(t),t.flags&cl&&t.memoizedState!==null&&L0(Cn,t.memoizedState,t.memoizedProps);break;case 5:kr(t);break;case 3:case 4:var n=Cn;Cn=ro(t.stateNode.containerInfo),kr(t),Cn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=cl,cl=16777216,kr(t),cl=n):kr(t));break;default:kr(t)}}function Tg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Sg(l,t)}Tg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ag(t),t=t.sibling}function Ag(t){switch(t.tag){case 0:case 11:case 15:hl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:hl(t);break;case 12:hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Fu(t)):hl(t);break;default:hl(t)}}function Fu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ce=l,Sg(l,t)}Tg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),Fu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(n));break;default:Fu(n)}t=t.sibling}}function Sg(t,n){for(;Ce!==null;){var a=Ce;switch(a.tag){case 0:case 11:case 15:Yi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ce=l;else t:for(a=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(mg(l),l===a){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var Jv={getCacheForType:function(t){var n=Pe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},Wv=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Ct=null,Ot=0,Gt=0,ln=null,Ki=!1,qr=!1,Ah=!1,Si=0,se=0,Zi=0,Wa=0,Sh=0,Tn=0,Hr=0,fl=null,Je=null,bh=!1,Rh=0,Xu=1/0,Ku=null,$i=null,Me=0,Ji=null,Gr=null,Qr=0,wh=0,Ch=null,bg=null,dl=0,Dh=null;function un(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(q.T!==null){var t=Ir;return t!==0?t:Uh()}return Oi()}function Rg(){Tn===0&&(Tn=(Ot&536870912)===0||Pt?As():536870912);var t=En.current;return t!==null&&(t.flags|=32),Tn}function on(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Yr(t,0),Wi(t,Ot,Tn,!1)),ei(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(Wa|=a),se===4&&Wi(t,Ot,Tn,!1)),Fn(t))}function wg(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ra(t,n),c=l?n0(t,n):Nh(t,n,!0),f=l;do{if(c===0){qr&&!l&&Wi(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!t0(a)){c=Nh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=fl;var b=E.current.memoizedState.isDehydrated;if(b&&(Yr(E,y).flags|=256),y=Nh(E,y,!1),y!==2){if(Ah&&!b){E.errorRecoveryDisabledLanes|=f,Wa|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Yr(t,0),Wi(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wi(l,n,Tn,!Ki);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Rh+300-cn(),10<c)){if(Wi(l,n,Tn,!Ki),or(l,0,!0)!==0)break t;l.timeoutHandle=ep(Cg.bind(null,l,a,Je,Ku,bh,n,Tn,Wa,Hr,Ki,f,2,-0,0),c);break t}Cg(l,a,Je,Ku,bh,n,Tn,Wa,Hr,Ki,f,0,-0,0)}}break}while(!0);Fn(t)}function Cg(t,n,a,l,c,f,y,E,b,B,H,F,P,j){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:U0},Eg(n),F=z0(),F!==null)){t.cancelPendingCommit=F(Mg.bind(null,t,n,f,a,l,c,y,E,b,H,1,P,j)),Wi(t,f,y,!B);return}Mg(t,n,f,a,l,c,y,E,b)}function t0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wi(t,n,a,l){n&=~Sh,n&=~Wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&In(t,a,n)}function Zu(){return(Ht&6)===0?(ml(0),!1):!0}function xh(){if(Ct!==null){if(Gt===0)var t=Ct.return;else t=Ct,gi=Fa=null,Yc(t),Br=null,al=0,t=Ct;for(;t!==null;)sg(t.alternate,t),t=t.return;Ct=null}}function Yr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,_0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xh(),$t=t,Ct=a=fi(t.current,null),Ot=n,Gt=0,ln=null,Ki=!1,qr=Ra(t,n),Ah=!1,Hr=Tn=Sh=Wa=Zi=se=0,Je=fl=null,bh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return Si=n,_u(),a}function Dg(t,n){St=null,q.H=zu,n===Ks||n===Cu?(n=Qd(),Gt=3):n===qd?(n=Qd(),Gt=4):Gt=n===Ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Ct===null&&(se=1,qu(t,pn(n,t.current)))}function xg(){var t=q.H;return q.H=zu,t===null?zu:t}function Vg(){var t=q.A;return q.A=Jv,t}function Vh(){se=4,Ki||(Ot&4194048)!==Ot&&En.current!==null||(qr=!0),(Zi&134217727)===0&&(Wa&134217727)===0||$t===null||Wi($t,Ot,Tn,!1)}function Nh(t,n,a){var l=Ht;Ht|=2;var c=xg(),f=Vg();($t!==t||Ot!==n)&&(Ku=null,Yr(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=ln;switch(Gt){case 8:xh(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var B=Gt;if(Gt=0,ln=null,Fr(t,E,b,B),a&&qr){y=0;break t}break;default:B=Gt,Gt=0,ln=null,Fr(t,E,b,B)}}e0(),y=se;break}catch(H){Dg(t,H)}while(!0);return n&&t.shellSuspendCounter++,gi=Fa=null,Ht=l,q.H=c,q.A=f,Ct===null&&($t=null,Ot=0,_u()),y}function e0(){for(;Ct!==null;)Ng(Ct)}function n0(t,n){var a=Ht;Ht|=2;var l=xg(),c=Vg();$t!==t||Ot!==n?(Ku=null,Xu=cn()+500,Yr(t,n)):qr=Ra(t,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=ln;e:switch(Gt){case 1:Gt=0,ln=null,Fr(t,n,f,1);break;case 2:case 9:if(Hd(f)){Gt=0,ln=null,Ig(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Fn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Hd(f)?(Gt=0,ln=null,Ig(n)):(Gt=0,ln=null,Fr(t,n,f,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(!y||dp(y)){Gt=0,ln=null;var b=E.sibling;if(b!==null)Ct=b;else{var B=E.return;B!==null?(Ct=B,$u(B)):Ct=null}break e}}Gt=0,ln=null,Fr(t,n,f,5);break;case 6:Gt=0,ln=null,Fr(t,n,f,6);break;case 8:xh(),se=6;break t;default:throw Error(s(462))}}i0();break}catch(H){Dg(t,H)}while(!0);return gi=Fa=null,q.H=l,q.A=c,Ht=a,Ct!==null?0:($t=null,Ot=0,_u(),se)}function i0(){for(;Ct!==null&&!_s();)Ng(Ct)}function Ng(t){var n=ag(t.alternate,t,Si);t.memoizedProps=t.pendingProps,n===null?$u(t):Ct=n}function Ig(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Jm(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Jm(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Yc(n);default:sg(a,n),n=Ct=Od(n,Si),n=ag(a,n,Si)}t.memoizedProps=t.pendingProps,n===null?$u(t):Ct=n}function Fr(t,n,a,l){gi=Fa=null,Yc(n),Br=null,al=0;var c=n.return;try{if(Yv(t,c,n,a,Ot)){se=1,qu(t,pn(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;se=1,qu(t,pn(a,t.current)),Ct=null;return}n.flags&32768?(Pt||l===1?t=!0:qr||(Ot&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),Og(n,t)):$u(n)}function $u(t){var n=t;do{if((n.flags&32768)!==0){Og(n,Ki);return}t=n.return;var a=Xv(n.alternate,n,Si);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);se===0&&(se=5)}function Og(t,n){do{var a=Kv(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);se=6,Ct=null}function Mg(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do Ju();while(Me!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Tc,bs(t,a,f,y,E,b),t===$t&&(Ct=$t=null,Ot=0),Gr=n,Ji=t,Qr=a,wh=f,Ch=c,bg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,l0(Ta,function(){return Pg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{Zv(t,n,a)}finally{Ht=y,et.p=c,q.T=l}}Me=1,Ug(),Lg(),zg()}}function Ug(){if(Me===1){Me=0;var t=Ji,n=Gr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{yg(n,t);var f=Hh,y=Sd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ad(E.ownerDocument.documentElement,E)){if(b!==null&&pc(E)){var B=b.start,H=b.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,P=F&&F.defaultView||window;if(P.getSelection){var j=P.getSelection(),pt=E.textContent.length,mt=Math.min(b.start,pt),Xt=b.end===void 0?mt:Math.min(b.end,pt);!j.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var O=Td(E,mt),D=Td(E,Xt);if(O&&D&&(j.rangeCount!==1||j.anchorNode!==O.node||j.anchorOffset!==O.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var z=F.createRange();z.setStart(O.node,O.offset),j.removeAllRanges(),mt>Xt?(j.addRange(z),j.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),j.addRange(z))}}}}for(F=[],j=E;j=j.parentNode;)j.nodeType===1&&F.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}co=!!qh,Hh=qh=null}finally{Ht=c,et.p=l,q.T=a}}t.current=n,Me=2}}function Lg(){if(Me===2){Me=0;var t=Ji,n=Gr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{dg(t,n.alternate,n)}finally{Ht=c,et.p=l,q.T=a}}Me=3}}function zg(){if(Me===4||Me===3){Me=0,Fl();var t=Ji,n=Gr,a=Qr,l=bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Gr=Ji=null,Bg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),cr(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=et.p,et.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,et.p=c}}(Qr&3)!==0&&Ju(),Fn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Dh?dl++:(dl=0,Dh=t):dl=0,ml(0)}}function Bg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fs(n)))}function Ju(t){return Ug(),Lg(),zg(),Pg()}function Pg(){if(Me!==5)return!1;var t=Ji,n=wh;wh=0;var a=cr(Qr),l=q.T,c=et.p;try{et.p=32>a?32:a,q.T=null,a=Ch,Ch=null;var f=Ji,y=Qr;if(Me=0,Gr=Ji=null,Qr=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Ag(f.current),vg(f,f.current,y,a),Ht=E,ml(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,q.T=l,Bg(t,n)}}function jg(t,n,a){n=pn(a,n),n=sh(t.stateNode,n,2),t=qi(t,n,2),t!==null&&(ei(t,2),Fn(t))}function Kt(t,n,a){if(t.tag===3)jg(t,t,a);else for(;n!==null;){if(n.tag===3){jg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=pn(a,t),a=Gm(2),l=qi(n,a,2),l!==null&&(Qm(a,l,n,t),ei(l,2),Fn(l));break}}n=n.return}}function Ih(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Wv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ah=!0,c.add(a),t=a0.bind(null,t,n,a),n.then(t,t))}function a0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ot&a)===a&&(se===4||se===3&&(Ot&62914560)===Ot&&300>cn()-Rh?(Ht&2)===0&&Yr(t,0):Sh|=a,Hr===Ot&&(Hr=0)),Fn(t)}function kg(t,n){n===0&&(n=Ss()),t=Dr(t,n),t!==null&&(ei(t,n),Fn(t))}function r0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),kg(t,a)}function s0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),kg(t,a)}function l0(t,n){return va(t,n)}var Wu=null,Xr=null,Oh=!1,to=!1,Mh=!1,tr=0;function Fn(t){t!==Xr&&t.next===null&&(Xr===null?Wu=Xr=t:Xr=Xr.next=t),to=!0,Oh||(Oh=!0,o0())}function ml(t,n){if(!Mh&&to){Mh=!0;do for(var a=!1,l=Wu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Qg(l,f))}else f=Ot,f=or(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ra(l,f)||(a=!0,Qg(l,f));l=l.next}while(a);Mh=!1}}function u0(){qg()}function qg(){to=Oh=!1;var t=0;tr!==0&&(y0()&&(t=tr),tr=0);for(var n=cn(),a=null,l=Wu;l!==null;){var c=l.next,f=Hg(l,n);f===0?(l.next=null,a===null?Wu=c:a.next=c,c===null&&(Xr=a)):(a=l,(t!==0||(f&3)!==0)&&(to=!0)),l=c}ml(t)}function Hg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Ts(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Ot,a=or(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ra(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ea(l),cr(a)){case 2:case 8:a=lr;break;case 32:a=Ta;break;case 268435456:a=ur;break;default:a=Ta}return l=Gg.bind(null,t),a=va(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function Gg(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ju()&&t.callbackNode!==a)return null;var l=Ot;return l=or(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wg(t,l,n),Hg(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Gg.bind(null,t):null)}function Qg(t,n){if(Ju())return null;wg(t,n,!0)}function o0(){v0(function(){(Ht&6)!==0?va(vs,u0):qg()})}function Uh(){return tr===0&&(tr=As()),tr}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pr(""+t)}function Fg(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function c0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Yg((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Yg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new yr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(tr!==0){var b=y?Fg(c,y):new FormData(c);eh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Fg(c,y):new FormData(c),eh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Lh=0;Lh<Ec.length;Lh++){var zh=Ec[Lh],h0=zh.toLowerCase(),f0=zh[0].toUpperCase()+zh.slice(1);wn(h0,"on"+f0)}wn(wd,"onAnimationEnd"),wn(Cd,"onAnimationIteration"),wn(Dd,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(xv,"onTransitionRun"),wn(Vv,"onTransitionStart"),wn(Nv,"onTransitionCancel"),wn(xd,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function Xg(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){ku(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){ku(H)}c.currentTarget=null,f=b}}}}function Dt(t,n){var a=n[ws];a===void 0&&(a=n[ws]=new Set);var l=t+"__bubble";a.has(l)||(Kg(n,t,2,!1),a.add(l))}function Bh(t,n,a){var l=0;n&&(l|=4),Kg(a,t,l,n)}var eo="_reactListening"+Math.random().toString(36).slice(2);function Ph(t){if(!t[eo]){t[eo]=!0,Cs.forEach(function(a){a!=="selectionchange"&&(d0.has(a)||Bh(a,!1,t),Bh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[eo]||(n[eo]=!0,Bh("selectionchange",!1,n))}}function Kg(t,n,a,l){switch(vp(n)){case 2:var c=j0;break;case 8:c=k0;break;default:c=Wh}a=c.bind(null,n,a,t),c=void 0,!mn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function jh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ni(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}iu(function(){var B=f,H=dn(a),F=[];t:{var P=Vd.get(t);if(P!==void 0){var j=yr,pt=t;switch(t){case"keypress":if(Bn(a)===0)break t;case"keydown":case"keyup":j=Sr;break;case"focusin":pt="focus",j=Er;break;case"focusout":pt="blur",j=Er;break;case"beforeblur":case"afterblur":j=Er;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=hu;break;case wd:case Cd:case Dd:j=Tr;break;case xd:j=du;break;case"scroll":case"scrollend":j=au;break;case"wheel":j=br;break;case"copy":case"cut":case"paste":j=Ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ps;break;case"toggle":case"beforetoggle":j=gu}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),O=mt?P!==null?P+"Capture":null:P;mt=[];for(var D=B,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||O===null||(Q=Oa(D,O),Q!=null&&mt.push(pl(D,Q,z))),Xt)break;D=D.return}0<mt.length&&(P=new j(P,pt,null,a,H),F.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",P&&a!==si&&(pt=a.relatedTarget||a.fromElement)&&(ni(pt)||pt[hn]))break t;if((j||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,j?(pt=a.relatedTarget||a.toElement,j=B,pt=pt?ni(pt):null,pt!==null&&(Xt=h(pt),mt=pt.tag,pt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(pt=null)):(j=null,pt=B),j!==pt)){if(mt=gn,Q="onMouseLeave",O="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Ps,Q="onPointerLeave",O="onPointerEnter",D="pointer"),Xt=j==null?P:Mn(j),z=pt==null?P:Mn(pt),P=new mt(Q,D+"leave",j,a,H),P.target=Xt,P.relatedTarget=z,Q=null,ni(H)===B&&(mt=new mt(O,D+"enter",pt,a,H),mt.target=z,mt.relatedTarget=Xt,Q=mt),Xt=Q,j&&pt)e:{for(mt=j,O=pt,D=0,z=mt;z;z=Kr(z))D++;for(z=0,Q=O;Q;Q=Kr(Q))z++;for(;0<D-z;)mt=Kr(mt),D--;for(;0<z-D;)O=Kr(O),z--;for(;D--;){if(mt===O||O!==null&&mt===O.alternate)break e;mt=Kr(mt),O=Kr(O)}mt=null}else mt=null;j!==null&&Zg(F,P,j,mt,!1),pt!==null&&Xt!==null&&Zg(F,Xt,pt,mt,!0)}}t:{if(P=B?Mn(B):window,j=P.nodeName&&P.nodeName.toLowerCase(),j==="select"||j==="input"&&P.type==="file")var rt=gd;else if(_e(P))if(pd)rt=wv;else{rt=bv;var wt=Sv}else j=P.nodeName,!j||j.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Is(B.elementType)&&(rt=gd):rt=Rv;if(rt&&(rt=rt(t,B))){hi(F,rt,a,H);break t}wt&&wt(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&zi(P,"number",P.value)}switch(wt=B?Mn(B):window,t){case"focusin":(_e(wt)||wt.contentEditable==="true")&&(Rr=wt,yc=B,qs=null);break;case"focusout":qs=yc=Rr=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,bd(F,a,H);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":bd(F,a,H)}var ut;if(kn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Nt?k(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(g&&a.locale!=="ko"&&(Nt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Nt&&(ut=Ms()):(zn=H,Bi="value"in zn?zn.value:zn.textContent,Nt=!0)),wt=no(B,gt),0<wt.length&&(gt=new zs(gt,t,null,a,H),F.push({event:gt,listeners:wt}),ut?gt.data=ut:(ut=tt(a),ut!==null&&(gt.data=ut)))),(ut=d?ye(t,a):It(t,a))&&(gt=no(B,"onBeforeInput"),0<gt.length&&(wt=new zs("onBeforeInput","beforeinput",null,a,H),F.push({event:wt,listeners:gt}),wt.data=ut)),c0(F,t,B,a,H)}Xg(F,n)})}function pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function no(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Oa(t,a),c!=null&&l.unshift(pl(t,c,f)),c=Oa(t,n),c!=null&&l.push(pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zg(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Oa(a,f),B!=null&&y.unshift(pl(a,B,b))):c||(B=Oa(a,f),B!=null&&y.push(pl(a,B,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var m0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function $g(t){return(typeof t=="string"?t:""+t).replace(m0,`
`).replace(g0,"")}function Jg(t,n){return n=$g(n),$g(t)===n}function io(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(t,""+l);break;case"className":Un(t,"class",l);break;case"tabIndex":Un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,a,l);break;case"style":Ns(t,l,f);break;case"data":if(n!=="object"){Un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=io);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cc.get(a)||a,Li(t,a,l))}}function kh(t,n,a,l,c,f){switch(a){case"style":Ns(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=io);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[he]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Li(t,a,l)}}}function Ue(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,f,y,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Ft(t,n,l,H,a,null)}}Va(t,f,E,b,B,y,c,!1),gr(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?ri(t,!!l,n,!1):a!=null&&ri(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ft(t,n,y,E,a,null)}Na(t,l,c,f),gr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<gl.length;l++)Dt(gl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,B,l,a,null)}return;default:if(Is(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&kh(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function p0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,B=null,H=null;for(j in a){var F=a[j];if(a.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(j)||Ft(t,n,j,null,l,F)}}for(var P in l){var j=l[P];if(F=a[P],l.hasOwnProperty(P)&&(j!=null||F!=null))switch(P){case"type":f=j;break;case"name":c=j;break;case"checked":B=j;break;case"defaultChecked":H=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==F&&Ft(t,n,P,j,l,F)}}en(t,y,E,b,B,H,f,c);return;case"select":j=y=E=P=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,a=y,l=j,P!=null?ri(t,!!a,P,!1):!!l!=!!a&&(n!=null?ri(t,!!a,n,!0):ri(t,!!a,a?[]:"",!1));return;case"textarea":j=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,P,j);return;case"option":for(var pt in a)if(P=a[pt],a.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Ft(t,n,pt,null,l,P)}for(b in l)if(P=l[b],j=a[b],l.hasOwnProperty(b)&&P!==j&&(P!=null||j!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)P=a[mt],a.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt)&&Ft(t,n,mt,null,l,P);for(B in l)if(P=l[B],j=a[B],l.hasOwnProperty(B)&&P!==j&&(P!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Ft(t,n,B,P,l,j)}return;default:if(Is(n)){for(var Xt in a)P=a[Xt],a.hasOwnProperty(Xt)&&P!==void 0&&!l.hasOwnProperty(Xt)&&kh(t,n,Xt,void 0,l,P);for(H in l)P=l[H],j=a[H],!l.hasOwnProperty(H)||P===j||P===void 0&&j===void 0||kh(t,n,H,P,l,j);return}}for(var O in a)P=a[O],a.hasOwnProperty(O)&&P!=null&&!l.hasOwnProperty(O)&&Ft(t,n,O,null,l,P);for(F in l)P=l[F],j=a[F],!l.hasOwnProperty(F)||P===j||P==null&&j==null||Ft(t,n,F,P,l,j)}var qh=null,Hh=null;function ao(t){return t.nodeType===9?t:t.ownerDocument}function Wg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qh=null;function y0(){var t=window.event;return t&&t.type==="popstate"?t===Qh?!1:(Qh=t,!0):(Qh=null,!1)}var ep=typeof setTimeout=="function"?setTimeout:void 0,_0=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,v0=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(t){return np.resolve(null).then(t).catch(E0)}:ep;function E0(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function ip(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&yl(y.documentElement),a&2&&yl(y.body),a&4)for(a=y.head,yl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[wa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Rl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Rl(n)}function Yh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yh(a),Ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function T0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function A0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function Fh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function S0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Xh=null;function ap(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function rp(t,n,a){switch(n=ao(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ui(t)}var An=new Map,sp=new Set;function ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bi=et.d;et.d={f:b0,r:R0,D:w0,C:C0,L:D0,m:x0,X:N0,S:V0,M:I0};function b0(){var t=bi.f(),n=Zu();return t||n}function R0(t){var n=On(t);n!==null&&n.tag===5&&n.type==="form"?wm(n):bi.r(t)}var Zr=typeof document>"u"?null:document;function lp(t,n,a){var l=Zr;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),sp.has(c)||(sp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ue(n,"link",t),le(n),l.head.appendChild(n)))}}function w0(t){bi.D(t),lp("dns-prefetch",t,null)}function C0(t,n){bi.C(t,n),lp("preconnect",t,n)}function D0(t,n,a){bi.L(t,n,a);var l=Zr;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+fe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+fe(a.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=$r(t);break;case"script":f=Jr(t)}An.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),An.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(_l(f))||n==="script"&&l.querySelector(vl(f))||(n=l.createElement("link"),Ue(n,"link",t),le(n),l.head.appendChild(n)))}}function x0(t,n){bi.m(t,n);var a=Zr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Jr(t)}if(!An.has(f)&&(t=A({rel:"modulepreload",href:t},n),An.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(f)))return}l=a.createElement("link"),Ue(l,"link",t),le(l),a.head.appendChild(l)}}}function V0(t,n,a){bi.S(t,n,a);var l=Zr;if(l&&t){var c=Qe(l).hoistableStyles,f=$r(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(_l(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=An.get(f))&&Kh(t,a);var b=y=l.createElement("link");le(b),Ue(b,"link",t),b._p=new Promise(function(B,H){b.onload=B,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,so(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function N0(t,n){bi.X(t,n);var a=Zr;if(a&&t){var l=Qe(a).hoistableScripts,c=Jr(t),f=l.get(c);f||(f=a.querySelector(vl(c)),f||(t=A({src:t,async:!0},n),(n=An.get(c))&&Zh(t,n),f=a.createElement("script"),le(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function I0(t,n){bi.M(t,n);var a=Zr;if(a&&t){var l=Qe(a).hoistableScripts,c=Jr(t),f=l.get(c);f||(f=a.querySelector(vl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=An.get(c))&&Zh(t,n),f=a.createElement("script"),le(f),Ue(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function up(t,n,a,l){var c=(c=vt.current)?ro(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=$r(a.href),a=Qe(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$r(a.href);var f=Qe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(_l(t)))&&!f._p&&(y.instance=f,y.state.loading=5),An.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},An.set(t,a),f||O0(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Jr(a),a=Qe(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $r(t){return'href="'+fe(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function op(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function O0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ue(n,"link",a),le(n),t.head.appendChild(n))}function Jr(t){return'[src="'+fe(t)+'"]'}function vl(t){return"script[async]"+t}function cp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),Ue(l,"style",c),so(l,a.precedence,t),n.instance=l;case"stylesheet":c=$r(a.href);var f=t.querySelector(_l(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=op(a),(c=An.get(c))&&Kh(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ue(f,"link",l),n.state.loading|=4,so(f,a.precedence,t),n.instance=f;case"script":return f=Jr(a.src),(c=t.querySelector(vl(f)))?(n.instance=c,le(c),c):(l=a,(c=An.get(f))&&(l=A({},a),Zh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),Ue(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,so(l,a.precedence,t));return n.instance}function so(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Zh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lo=null;function hp(t,n,a){if(lo===null){var l=new Map,c=lo=new Map;c.set(a,l)}else c=lo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[wa]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function fp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function M0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var El=null;function U0(){}function L0(t,n,a){if(El===null)throw Error(s(475));var l=El;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=$r(a.href),f=t.querySelector(_l(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=uo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,a=op(a),(c=An.get(c))&&Kh(a,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Ue(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=uo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function z0(){if(El===null)throw Error(s(475));var t=El;return t.stylesheets&&t.count===0&&$h(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&$h(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function uo(){if(this.count--,this.count===0){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oo=null;function $h(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oo=new Map,n.forEach(B0,t),oo=null,uo.call(t))}function B0(t,n){if(!(n.state.loading&4)){var a=oo.get(t);if(a)var l=a.get(null);else{a=new Map,oo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=uo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function P0(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function mp(t,n,a,l,c,f,y,E,b,B,H,F){return t=new P0(t,n,a,y,E,b,B,F),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=Ic(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Lc(f),t}function gp(t){return t?(t=xr,t):xr}function pp(t,n,a,l,c,f){c=gp(c),l.context===null?l.context=c:l.pendingContext=c,l=ki(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=qi(t,l,n),a!==null&&(on(a,t,n),$s(a,t,n))}function yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jh(t,n){yp(t,n),(t=t.alternate)&&yp(t,n)}function _p(t){if(t.tag===13){var n=Dr(t,67108864);n!==null&&on(n,t,67108864),Jh(t,67108864)}}var co=!0;function j0(t,n,a,l){var c=q.T;q.T=null;var f=et.p;try{et.p=2,Wh(t,n,a,l)}finally{et.p=f,q.T=c}}function k0(t,n,a,l){var c=q.T;q.T=null;var f=et.p;try{et.p=8,Wh(t,n,a,l)}finally{et.p=f,q.T=c}}function Wh(t,n,a,l){if(co){var c=tf(l);if(c===null)jh(t,n,l,ho,a),Ep(t,l);else if(H0(c,t,n,a,l))l.stopPropagation();else if(Ep(t,l),n&4&&-1<q0.indexOf(t)){for(;c!==null;){var f=On(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Sn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Be(y);E.entanglements[1]|=b,y&=~b}Fn(f),(Ht&6)===0&&(Xu=cn()+500,ml(0))}}break;case 13:E=Dr(f,2),E!==null&&on(E,f,2),Zu(),Jh(f,2)}if(f=tf(l),f===null&&jh(t,n,l,ho,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else jh(t,n,l,null,a)}}function tf(t){return t=dn(t),ef(t)}var ho=null;function ef(t){if(ho=null,t=ni(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=m(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ho=t,null}function vp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ac()){case vs:return 2;case lr:return 8;case Ta:case rc:return 32;case ur:return 268435456;default:return 32}default:return 32}}var nf=!1,ea=null,na=null,ia=null,Al=new Map,Sl=new Map,aa=[],q0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(t,n){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function bl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=On(n),n!==null&&_p(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function H0(t,n,a,l,c){switch(n){case"focusin":return ea=bl(ea,t,n,a,l,c),!0;case"dragenter":return na=bl(na,t,n,a,l,c),!0;case"mouseover":return ia=bl(ia,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Al.set(f,bl(Al.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Sl.set(f,bl(Sl.get(f)||null,t,n,a,l,c)),!0}return!1}function Tp(t){var n=ni(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=m(a),n!==null){t.blockedOn=n,Zl(t.priority,function(){if(a.tag===13){var l=un();l=Ii(l);var c=Dr(a,l);c!==null&&on(c,a,l),Jh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);si=l,a.target.dispatchEvent(l),si=null}else return n=On(a),n!==null&&_p(n),t.blockedOn=a,!1;n.shift()}return!0}function Ap(t,n,a){fo(t)&&a.delete(n)}function G0(){nf=!1,ea!==null&&fo(ea)&&(ea=null),na!==null&&fo(na)&&(na=null),ia!==null&&fo(ia)&&(ia=null),Al.forEach(Ap),Sl.forEach(Ap)}function mo(t,n){t.blockedOn===n&&(t.blockedOn=null,nf||(nf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,G0)))}var go=null;function Sp(t){go!==t&&(go=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){go===t&&(go=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(ef(l||a)===null)continue;break}var f=On(a);f!==null&&(t.splice(n,3),n-=3,eh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Rl(t){function n(b){return mo(b,t)}ea!==null&&mo(ea,t),na!==null&&mo(na,t),ia!==null&&mo(ia,t),Al.forEach(n),Sl.forEach(n);for(var a=0;a<aa.length;a++){var l=aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<aa.length&&(a=aa[0],a.blockedOn===null);)Tp(a),a.blockedOn===null&&aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[he]||null;if(typeof f=="function")y||Sp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(ef(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Sp(a)}}}function af(t){this._internalRoot=t}po.prototype.render=af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=un();pp(a,l,t,n,null,null)},po.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;pp(t.current,2,null,t,null,null),Zu(),n[hn]=null}};function po(t){this._internalRoot=t}po.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<aa.length&&n!==0&&n<aa[a].priority;a++);aa.splice(a,0,t),a===0&&Tp(t)}};var bp=e.version;if(bp!=="19.1.0")throw Error(s(527,bp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Q0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{ae=yo.inject(Q0),qt=yo}catch{}}return Cl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=jm,f=km,y=qm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=mp(t,1,!1,null,null,a,l,c,f,y,E,null),t[hn]=n.current,Ph(t),new af(n)},Cl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=jm,y=km,E=qm,b=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=mp(t,1,!0,n,a??null,l,c,f,y,E,b,B),n.context=gp(null),a=n.current,l=un(),l=Ii(l),c=ki(l),c.callback=null,qi(a,c,l),a=l,n.current.lanes=a,ei(n,a),Fn(n),t[hn]=n.current,Ph(t),new po(n)},Cl.version="19.1.0",Cl}var Mp;function eE(){if(Mp)return lf.exports;Mp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lf.exports=tE(),lf.exports}var nE=eE();const iE=()=>{};var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},aE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],m=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(m&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],m=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|m&63)}}return e.join("")},Yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],m=o+1<r.length,p=m?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,N=(h&3)<<4|p>>4;let U=(p&15)<<2|_>>6,Y=_&63;v||(Y=64,m||(U=64)),s.push(i[A],i[N],i[U],i[Y])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Qy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):aE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const N=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||N==null)throw new rE;const U=h<<2|p>>4;if(s.push(U),_!==64){const Y=p<<4&240|_>>2;if(s.push(Y),N!==64){const J=_<<6&192|N;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sE=function(r){const e=Qy(r);return Yy.encodeByteArray(e,!0)},Vo=function(r){return sE(r).replace(/\./g,"")},lE=function(r){try{return Yy.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=()=>uE().__FIREBASE_DEFAULTS__,cE=()=>{if(typeof process>"u"||typeof Up>"u")return;const r=Up.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lE(r[1]);return e&&JSON.parse(e)},Hf=()=>{try{return iE()||oE()||cE()||hE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fE=r=>{var e,i;return(i=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},dE=r=>{const e=fE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Fy=()=>{var r;return(r=Hf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(r){return r.endsWith(".cloudworkstations.dev")}async function gE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vo(JSON.stringify(i)),Vo(JSON.stringify(m)),""].join(".")}const Nl={};function yE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function _E(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Lp=!1;function vE(r,e){if(typeof window>"u"||typeof document>"u"||!Gf(window.location.host)||Nl[r]===e||Nl[r]||Lp)return;Nl[r]=e;function i(U){return`__firebase__banner__${U}`}const s="__firebase__banner",h=yE().prod.length>0;function m(){const U=document.getElementById(s);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,Y){U.setAttribute("width","24"),U.setAttribute("id",Y),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{Lp=!0,m()},U}function A(U,Y){U.setAttribute("id",Y),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function N(){const U=_E(s),Y=i("text"),J=document.getElementById(Y)||document.createElement("span"),it=i("learnmore"),K=document.getElementById(it)||document.createElement("a"),st=i("preprendIcon"),lt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const dt=U.element;p(dt),A(K,it);const Lt=_();v(lt,st),dt.append(lt,J,K,Lt),document.body.appendChild(dt)}h?(J.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TE(){var r;const e=(r=Hf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AE(){return!TE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SE(){try{return typeof indexedDB=="object"}catch{return!1}}function bE(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="FirebaseError";class hs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=RE,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xy.prototype.create)}}class Xy{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],m=h?wE(h,s):"Error",p=`${this.serviceName}: ${m} (${o}).`;return new hs(o,p,s)}}function wE(r,e){return r.replace(CE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const CE=/\{\$([^}]+)}/g;function No(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],m=e[o];if(zp(h)&&zp(m)){if(!No(h,m))return!1}else if(h!==m)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function zp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(r){return r&&r._delegate?r._delegate:r}class Ll{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new mE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VE(e))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=er){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=er){return this.instances.has(e)}getOptions(e=er){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&m.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const m=this.instances.get(o);return m&&e(m,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=er){return this.component?this.component.multipleInstances?e:er:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xE(r){return r===er?void 0:r}function VE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new DE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const IE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},OE=Ut.INFO,ME={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},UE=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ME[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=OE,this._logHandler=UE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const LE=(r,e)=>e.some(i=>r instanceof i);let Bp,Pp;function zE(){return Bp||(Bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BE(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $y=new WeakMap,vf=new WeakMap,Jy=new WeakMap,hf=new WeakMap,Qf=new WeakMap;function PE(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{i(la(r.result)),o()},m=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&$y.set(i,r)}).catch(()=>{}),Qf.set(e,r),e}function jE(r){if(vf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{i(),o()},m=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});vf.set(r,e)}let Ef={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return vf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Jy.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return la(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kE(r){Ef=r(Ef)}function qE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ff(this),e,...i);return Jy.set(s,e.sort?e.sort():[e]),la(s)}:BE().includes(r)?function(...e){return r.apply(ff(this),e),la($y.get(this))}:function(...e){return la(r.apply(ff(this),e))}}function HE(r){return typeof r=="function"?qE(r):(r instanceof IDBTransaction&&jE(r),LE(r,zE())?new Proxy(r,Ef):r)}function la(r){if(r instanceof IDBRequest)return PE(r);if(hf.has(r))return hf.get(r);const e=HE(r);return e!==r&&(hf.set(r,e),Qf.set(e,r)),e}const ff=r=>Qf.get(r);function GE(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const m=indexedDB.open(r,e),p=la(m);return s&&m.addEventListener("upgradeneeded",v=>{s(la(m.result),v.oldVersion,v.newVersion,la(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const QE=["get","getKey","getAll","getAllKeys","count"],YE=["put","add","delete","clear"],df=new Map;function jp(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=YE.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QE.includes(i)))return;const h=async function(m,...p){const v=this.transaction(m,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return df.set(e,h),h}kE(r=>({...r,get:(e,i,s)=>jp(e,i)||r.get(e,i,s),has:(e,i)=>!!jp(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XE(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function XE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tf="@firebase/app",kp="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Zy("@firebase/app"),KE="@firebase/app-compat",ZE="@firebase/analytics-compat",$E="@firebase/analytics",JE="@firebase/app-check-compat",WE="@firebase/app-check",tT="@firebase/auth",eT="@firebase/auth-compat",nT="@firebase/database",iT="@firebase/data-connect",aT="@firebase/database-compat",rT="@firebase/functions",sT="@firebase/functions-compat",lT="@firebase/installations",uT="@firebase/installations-compat",oT="@firebase/messaging",cT="@firebase/messaging-compat",hT="@firebase/performance",fT="@firebase/performance-compat",dT="@firebase/remote-config",mT="@firebase/remote-config-compat",gT="@firebase/storage",pT="@firebase/storage-compat",yT="@firebase/firestore",_T="@firebase/ai",vT="@firebase/firestore-compat",ET="firebase",TT="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",AT={[Tf]:"fire-core",[KE]:"fire-core-compat",[$E]:"fire-analytics",[ZE]:"fire-analytics-compat",[WE]:"fire-app-check",[JE]:"fire-app-check-compat",[tT]:"fire-auth",[eT]:"fire-auth-compat",[nT]:"fire-rtdb",[iT]:"fire-data-connect",[aT]:"fire-rtdb-compat",[rT]:"fire-fn",[sT]:"fire-fn-compat",[lT]:"fire-iid",[uT]:"fire-iid-compat",[oT]:"fire-fcm",[cT]:"fire-fcm-compat",[hT]:"fire-perf",[fT]:"fire-perf-compat",[dT]:"fire-rc",[mT]:"fire-rc-compat",[gT]:"fire-gcs",[pT]:"fire-gcs-compat",[yT]:"fire-fst",[vT]:"fire-fst-compat",[_T]:"fire-vertex","fire-js":"fire-js",[ET]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new Map,ST=new Map,Sf=new Map;function qp(r,e){try{r.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Oo(r){const e=r.name;if(Sf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;Sf.set(e,r);for(const i of Io.values())qp(i,r);for(const i of ST.values())qp(i,r);return!0}function bT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function RT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new Xy("app","Firebase",wT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ll("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=TT;function Wy(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Af,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(i||(i=Fy()),!i)throw ua.create("no-options");const h=Io.get(o);if(h){if(No(i,h.options)&&No(s,h.config))return h;throw ua.create("duplicate-app",{appName:o})}const m=new NE(o);for(const v of Sf.values())m.addComponent(v);const p=new CT(i,s,m);return Io.set(o,p),p}function xT(r=Af){const e=Io.get(r);if(!e&&r===Af&&Fy())return Wy();if(!e)throw ua.create("no-app",{appName:r});return e}function is(r,e,i){var s;let o=(s=AT[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),m=e.match(/\s|\//);if(h||m){const p=[`Unable to register library "${o}" with version "${e}":`];h&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&m&&p.push("and"),m&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(p.join(" "));return}Oo(new Ll(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firebase-heartbeat-database",NT=1,zl="firebase-heartbeat-store";let mf=null;function t_(){return mf||(mf=GE(VT,NT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ua.create("idb-open",{originalErrorMessage:r.message})})),mf}async function IT(r){try{const i=(await t_()).transaction(zl),s=await i.objectStore(zl).get(e_(r));return await i.done,s}catch(e){if(e instanceof hs)Di.warn(e.message);else{const i=ua.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function Hp(r,e){try{const s=(await t_()).transaction(zl,"readwrite");await s.objectStore(zl).put(e,e_(r)),await s.done}catch(i){if(i instanceof hs)Di.warn(i.message);else{const s=ua.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(s.message)}}}function e_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=1024,MT=30;class UT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Gp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>MT){const m=BT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gp(),{heartbeatsToSend:s,unsentEntries:o}=LT(this._heartbeatsCache.heartbeats),h=Vo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function LT(r,e=OT){const i=[];let s=r.slice();for(const o of r){const h=i.find(m=>m.agent===o.agent);if(h){if(h.dates.push(o.date),Qp(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Qp(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SE()?bE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Qp(r){return Vo(JSON.stringify({version:2,heartbeats:r})).length}function BT(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(r){Oo(new Ll("platform-logger",e=>new FE(e),"PRIVATE")),Oo(new Ll("heartbeat",e=>new UT(e),"PRIVATE")),is(Tf,kp,r),is(Tf,kp,"esm2017"),is("fire-js","")}PT("");var Yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,n_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function w(){}w.prototype=S.prototype,x.D=S.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(V,I,M){for(var R=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)R[Ve-2]=arguments[Ve];return S.prototype[I].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)V[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;16>I;++I)V[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=x.g[0],w=x.g[1],I=x.g[2];var M=x.g[3],R=S+(M^w&(I^M))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=M+(I^S&(w^I))+V[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=I+(w^M&(S^w))+V[2]+606105819&4294967295,I=M+(R<<17&4294967295|R>>>15),R=w+(S^I&(M^S))+V[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(M^w&(I^M))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(I^S&(w^I))+V[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=I+(w^M&(S^w))+V[6]+2821735955&4294967295,I=M+(R<<17&4294967295|R>>>15),R=w+(S^I&(M^S))+V[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(M^w&(I^M))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(I^S&(w^I))+V[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=I+(w^M&(S^w))+V[10]+4294925233&4294967295,I=M+(R<<17&4294967295|R>>>15),R=w+(S^I&(M^S))+V[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(M^w&(I^M))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=M+(I^S&(w^I))+V[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=I+(w^M&(S^w))+V[14]+2792965006&4294967295,I=M+(R<<17&4294967295|R>>>15),R=w+(S^I&(M^S))+V[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^M&(w^I))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^I&(S^w))+V[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(M^S))+V[11]+643717713&4294967295,I=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(I^M))+V[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^M&(w^I))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^I&(S^w))+V[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(M^S))+V[15]+3634488961&4294967295,I=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(I^M))+V[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^M&(w^I))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^I&(S^w))+V[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(M^S))+V[3]+4107603335&4294967295,I=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(I^M))+V[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^M&(w^I))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=M+(w^I&(S^w))+V[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(M^S))+V[7]+1735328473&4294967295,I=M+(R<<14&4294967295|R>>>18),R=w+(M^S&(I^M))+V[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^M)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^I)+V[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=I+(M^S^w)+V[11]+1839030562&4294967295,I=M+(R<<16&4294967295|R>>>16),R=w+(I^M^S)+V[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^M)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^I)+V[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=I+(M^S^w)+V[7]+4139469664&4294967295,I=M+(R<<16&4294967295|R>>>16),R=w+(I^M^S)+V[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^M)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^I)+V[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=I+(M^S^w)+V[3]+3572445317&4294967295,I=M+(R<<16&4294967295|R>>>16),R=w+(I^M^S)+V[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^M)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=M+(S^w^I)+V[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=I+(M^S^w)+V[15]+530742520&4294967295,I=M+(R<<16&4294967295|R>>>16),R=w+(I^M^S)+V[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~M))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~I))+V[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=I+(S^(M|~w))+V[14]+2878612391&4294967295,I=M+(R<<15&4294967295|R>>>17),R=w+(M^(I|~S))+V[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~M))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~I))+V[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=I+(S^(M|~w))+V[10]+4293915773&4294967295,I=M+(R<<15&4294967295|R>>>17),R=w+(M^(I|~S))+V[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~M))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~I))+V[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=I+(S^(M|~w))+V[6]+2734768916&4294967295,I=M+(R<<15&4294967295|R>>>17),R=w+(M^(I|~S))+V[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~M))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=M+(w^(S|~I))+V[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=I+(S^(M|~w))+V[2]+718787259&4294967295,I=M+(R<<15&4294967295|R>>>17),R=w+(M^(I|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+M&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var w=S-this.blockSize,V=this.B,I=this.h,M=0;M<S;){if(I==0)for(;M<=w;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(V[I++]=x.charCodeAt(M++),I==this.blockSize){o(this,V),I=0;break}}else for(;M<S;)if(V[I++]=x[M++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var w=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=w&255,w/=256;for(this.u(x),x=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)x[w++]=this.g[S]>>>V&255;return x};function h(x,S){var w=p;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=S(x)}function m(x,S){this.h=S;for(var w=[],V=!0,I=x.length-1;0<=I;I--){var M=x[I]|0;V&&M==S||(w[I]=M,V=!1)}this.g=w}var p={};function v(x){return-128<=x&&128>x?h(x,function(S){return new m([S|0],0>S?-1:0)}):new m([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return N;if(0>x)return K(_(-x));for(var S=[],w=1,V=0;x>=w;V++)S[V]=x/w|0,w*=4294967296;return new m(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return K(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),V=N,I=0;I<x.length;I+=8){var M=Math.min(8,x.length-I),R=parseInt(x.substring(I,I+M),S);8>M?(M=_(Math.pow(S,M)),V=V.j(M).add(_(R))):(V=V.j(w),V=V.add(_(R)))}return V}var N=v(0),U=v(1),Y=v(16777216);r=m.prototype,r.m=function(){if(it(this))return-K(this).m();for(var x=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);x+=(0<=V?V:4294967296+V)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(J(this))return"0";if(it(this))return"-"+K(this).toString(x);for(var S=_(Math.pow(x,6)),w=this,V="";;){var I=Lt(w,S).g;w=st(w,I.j(S));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=I,J(w))return M+V;for(;6>M.length;)M="0"+M;V=M+V}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function J(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function it(x){return x.h==-1}r.l=function(x){return x=st(this,x),it(x)?-1:J(x)?0:1};function K(x){for(var S=x.g.length,w=[],V=0;V<S;V++)w[V]=~x.g[V];return new m(w,~x.h).add(U)}r.abs=function(){return it(this)?K(this):this},r.add=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],V=0,I=0;I<=S;I++){var M=V+(this.i(I)&65535)+(x.i(I)&65535),R=(M>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);V=R>>>16,M&=65535,R&=65535,w[I]=R<<16|M}return new m(w,w[w.length-1]&-2147483648?-1:0)};function st(x,S){return x.add(K(S))}r.j=function(x){if(J(this)||J(x))return N;if(it(this))return it(x)?K(this).j(K(x)):K(K(this).j(x));if(it(x))return K(this.j(K(x)));if(0>this.l(Y)&&0>x.l(Y))return _(this.m()*x.m());for(var S=this.g.length+x.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<x.g.length;I++){var M=this.i(V)>>>16,R=this.i(V)&65535,Ve=x.i(I)>>>16,ie=x.i(I)&65535;w[2*V+2*I]+=R*ie,lt(w,2*V+2*I),w[2*V+2*I+1]+=M*ie,lt(w,2*V+2*I+1),w[2*V+2*I+1]+=R*Ve,lt(w,2*V+2*I+1),w[2*V+2*I+2]+=M*Ve,lt(w,2*V+2*I+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new m(w,0)};function lt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function dt(x,S){this.g=x,this.h=S}function Lt(x,S){if(J(S))throw Error("division by zero");if(J(x))return new dt(N,N);if(it(x))return S=Lt(K(x),S),new dt(K(S.g),K(S.h));if(it(S))return S=Lt(x,K(S)),new dt(K(S.g),S.h);if(30<x.g.length){if(it(x)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,V=S;0>=V.l(x);)w=_t(w),V=_t(V);var I=Vt(w,1),M=Vt(V,1);for(V=Vt(V,2),w=Vt(w,2);!J(V);){var R=M.add(V);0>=R.l(x)&&(I=I.add(w),M=R),V=Vt(V,1),w=Vt(w,1)}return S=st(x,I.j(S)),new dt(I,S)}for(I=N;0<=x.l(S);){for(w=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),M=_(w),R=M.j(S);it(R)||0<R.l(x);)w-=V,M=_(w),R=M.j(S);J(M)&&(M=U),I=I.add(M),x=st(x,R)}return new dt(I,x)}r.A=function(x){return Lt(this,x).h},r.and=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&x.i(V);return new m(w,this.h&x.h)},r.or=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|x.i(V);return new m(w,this.h|x.h)},r.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^x.i(V);return new m(w,this.h^x.h)};function _t(x){for(var S=x.g.length+1,w=[],V=0;V<S;V++)w[V]=x.i(V)<<1|x.i(V-1)>>>31;return new m(w,x.h)}function Vt(x,S){var w=S>>5;S%=32;for(var V=x.g.length-w,I=[],M=0;M<V;M++)I[M]=0<S?x.i(M+w)>>>S|x.i(M+w+1)<<32-S:x.i(M+w);return new m(I,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,n_=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,oa=m}).apply(typeof Yp<"u"?Yp:typeof self<"u"?self:typeof window<"u"?window:{});var _o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i_,Dl,a_,bo,bf,r_,s_,l_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _o=="object"&&_o];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=i(this);function o(u,d){if(d)t:{var g=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in g))break t;g=g[L]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function h(u,d){u instanceof String&&(u+="");var g=0,T=!1,L={next:function(){if(!T&&g<u.length){var k=g++;return{value:d(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},p=this||self;function v(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function A(u,d,g){return u.call.apply(u.bind,arguments)}function N(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(d,L)}}return function(){return u.apply(d,arguments)}}function U(u,d,g){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,U.apply(null,arguments)}function Y(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,L,k){for(var tt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)tt[Nt-2]=arguments[Nt];return d.prototype[L].apply(T,tt)}}function it(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function K(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=u.length||0,k=T.length||0;u.length=L+k;for(let tt=0;tt<k;tt++)u[L+tt]=T[tt]}else u.push(T)}}class st{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function lt(u){return/^[\s\xa0]*$/.test(u)}function dt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function Lt(u){return Lt[" "](u),u}Lt[" "]=function(){};var _t=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Vt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function x(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function S(u){const d={};for(const g in u)d[g]=u[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)u[g]=T[g];for(let k=0;k<w.length;k++)g=w[k],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function I(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function M(u){p.setTimeout(()=>{throw u},0)}function R(){var u=Bt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Ve{constructor(){this.h=this.g=null}add(d,g){const T=ie.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new st(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,Bt=new Ve,C=()=>{const u=p.Promise.resolve(void 0);et=()=>{u.then(Z)}};var Z=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(g){M(g)}var d=ie;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}ot=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,d),p.removeEventListener("test",g,d)}catch{}return u}();function Rt(u,d){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(_t){t:{try{Lt(d.nodeName);var L=!0;break t}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}J(Rt,W);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Nn(u,d,g,T,L){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ni(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Wn(u){this.src=u,this.g={},this.h=0}Wn.prototype.add=function(u,d,g,T,L){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var tt=va(u,d,T,L);return-1<tt?(d=u[tt],g||(d.fa=!1)):(d=new Nn(d,this.src,k,!!T,L),d.fa=g,u.push(d)),d};function _a(u,d){var g=d.type;if(g in u.g){var T=u.g[g],L=Array.prototype.indexOf.call(T,d,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Ni(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function va(u,d,g,T){for(var L=0;L<u.length;++L){var k=u[L];if(!k.da&&k.listener==d&&k.capture==!!g&&k.ha==T)return L}return-1}var Ea="closure_lm_"+(1e6*Math.random()|0),_s={};function Fl(u,d,g,T,L){if(Array.isArray(d)){for(var k=0;k<d.length;k++)Fl(u,d[k],g,T,L);return null}return g=Xl(g),u&&u[Se]?u.K(d,g,_(T)?!!T.capture:!1,L):cn(u,d,g,!1,T,L)}function cn(u,d,g,T,L,k){if(!d)throw Error("Invalid event type");var tt=_(L)?!!L.capture:!!L,Nt=ur(u);if(Nt||(u[Ea]=Nt=new Wn(u)),g=Nt.add(d,g,T,tt,k),g.proxy)return g;if(T=ac(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)ct||(L=tt),L===void 0&&(L=!1),u.addEventListener(d.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ta(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ac(){function u(g){return d.call(u.src,u.listener,g)}const d=rc;return u}function vs(u,d,g,T,L){if(Array.isArray(d))for(var k=0;k<d.length;k++)vs(u,d[k],g,T,L);else T=_(T)?!!T.capture:!!T,g=Xl(g),u&&u[Se]?(u=u.i,d=String(d).toString(),d in u.g&&(k=u.g[d],g=va(k,g,T,L),-1<g&&(Ni(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete u.g[d],u.h--)))):u&&(u=ur(u))&&(d=u.g[d.toString()],u=-1,d&&(u=va(d,g,T,L)),(g=-1<u?d[u]:null)&&lr(g))}function lr(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Se])_a(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(Ta(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=ur(d))?(_a(g,u),g.h==0&&(g.src=null,d[Ea]=null)):Ni(u)}}}function Ta(u){return u in _s?_s[u]:_s[u]="on"+u}function rc(u,d){if(u.da)u=!0;else{d=new Rt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&lr(u),u=g.call(T,d)}return u}function ur(u){return u=u[Ea],u instanceof Wn?u:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(d){return u.handleEvent(d)}),u[Es])}function ae(){nt.call(this),this.i=new Wn(this),this.M=this,this.F=null}J(ae,nt),ae.prototype[Se]=!0,ae.prototype.removeEventListener=function(u,d,g,T){vs(this,u,d,g,T)};function qt(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new W(d,u);else if(d instanceof W)d.target=d.target||u;else{var L=d;d=new W(T,u),V(d,L)}if(L=!0,g)for(var k=g.length-1;0<=k;k--){var tt=d.g=g[k];L=tn(tt,T,!0,d)&&L}if(tt=d.g=u,L=tn(tt,T,!0,d)&&L,L=tn(tt,T,!1,d)&&L,g)for(k=0;k<g.length;k++)tt=d.g=g[k],L=tn(tt,T,!1,d)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)Ni(g[T]);delete u.g[d],u.h--}}this.F=null},ae.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},ae.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function tn(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,k=0;k<d.length;++k){var tt=d[k];if(tt&&!tt.da&&tt.capture==g){var Nt=tt.listener,ye=tt.ha||tt.src;tt.fa&&_a(u.i,tt),L=Nt.call(ye,T)!==!1&&L}}return L&&!T.defaultPrevented}function Be(u,d,g){if(typeof u=="function")g&&(u=U(u,g));else if(u&&typeof u.handleEvent=="function")u=U(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:p.setTimeout(u,d||0)}function Kl(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,Kl(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class sc extends nt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Kl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(u){nt.call(this),this.h=u,this.g={}}J(Aa,nt);var Sa=[];function ba(u){Vt(u.g,function(d,g){this.g.hasOwnProperty(g)&&lr(d)},u),u.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),ba(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=p.JSON.stringify,or=p.JSON.parse,Ra=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Ts(){}Ts.prototype.h=null;function As(u){return u.h||(u.h=u.i())}function Ss(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){W.call(this,"d")}J(ei,W);function bs(){W.call(this,"c")}J(bs,W);var In={},Rs=null;function Ii(){return Rs=Rs||new ae}In.La="serverreachability";function cr(u){W.call(this,In.La,u)}J(cr,W);function Oi(u){const d=Ii();qt(d,new cr(d))}In.STAT_EVENT="statevent";function Zl(u,d){W.call(this,In.STAT_EVENT,u),this.stat=d}J(Zl,W);function Jt(u){const d=Ii();qt(d,new Zl(d,u))}In.Ma="timingevent";function pe(u,d){W.call(this,In.Ma,u),this.size=d}J(pe,W);function he(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},d)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function ws(u,d,g,T,L,k){u.info(function(){if(u.g)if(k)for(var tt="",Nt=k.split("&"),ye=0;ye<Nt.length;ye++){var It=Nt[ye].split("=");if(1<It.length){var Re=It[0];It=It[1];var _e=Re.split("_");tt=2<=_e.length&&_e[1]=="type"?tt+(Re+"="+It+"&"):tt+(Re+"=redacted&")}}else tt=null;else tt=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+d+`
`+g+`
`+tt})}function lc(u,d,g,T,L,k,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+d+`
`+g+`
`+k+" "+tt})}function Mi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+wa(u,g)+(T?" "+T:"")})}function $l(u,d){u.info(function(){return"TIMEOUT: "+d})}hn.prototype.info=function(){};function wa(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Sn(g)}catch{return d}}var Ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Mn(){}J(Mn,Ts),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},On=new Mn;function Qe(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Cs={},hr={};function bn(u,d,g){u.L=1,u.v=Na(en(d)),u.m=g,u.P=!0,ii(u,null)}function ii(u,d){u.F=Date.now(),Ca(u),u.A=en(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Os(g.i,"t",T),u.C=0,g=u.j.J,u.h=new le,u.g=du(u.j,g?d:null,!u.m),0<u.O&&(u.M=new sc(U(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sa[0]=L.toString()),L=Sa);for(var k=0;k<L.length;k++){var tt=Fl(g,L[k],T||d.handleEvent,!1,d.h||d);if(!tt)break;d.g[tt.key]=tt}d=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Oi(),ws(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const d=this.M;d&&gn(u)==3?d.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const _e=gn(this.g);var d=this.g.Ba();const hi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||ru(this.g)))){this.J||_e!=4||d==7||(d==8||0>=hi?Oi(3):Oi(2)),Li(this);var g=this.g.Z();this.X=g;e:if(Jl(this)){var T=ru(this.g);u="";var L=T.length,k=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),Un(this);var tt="";break e}this.h.i=new p.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(k&&d==L-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,lc(this.i,this.u,this.A,this.l,this.R,_e,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ye=this.g;if((Nt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Nt)){var It=Nt;break e}}It=null}if(g=It)Mi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,g);else{this.o=!1,this.s=3,Jt(12),Ne(this),Un(this);break t}}if(this.P){g=!0;let Ie;for(;!this.J&&this.C<tt.length;)if(Ie=Wl(this,tt),Ie==hr){_e==4&&(this.s=4,Jt(14),g=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Cs){this.s=4,Jt(15),Mi(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else Mi(this.i,this.l,Ie,null),Da(this,Ie);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||tt.length!=0||this.h.h||(this.s=1,Jt(16),g=!1),this.o=this.o&&g,!g)Mi(this.i,this.l,tt,"[Invalid Chunked Response]"),Ne(this),Un(this);else if(0<tt.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Pa(Re),Re.M=!0,Jt(11))}}else Mi(this.i,this.l,tt,null),Da(this,tt);_e==4&&Ne(this),this.o&&!this.J&&(_e==4?cu(this.j,this):(this.o=!1,Ca(this)))}else fc(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Ne(this),Un(this)}}}catch{}finally{}};function Jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wl(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?hr:(g=Number(d.substring(g,T)),isNaN(g)?Cs:(T+=1,T+g>d.length?hr:(d=d.slice(T,T+g),u.C=T+g,d)))}Qe.prototype.cancel=function(){this.J=!0,Ne(this)};function Ca(u){u.S=Date.now()+u.I,tu(u,u.I)}function tu(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(U(u.ba,u),d)}function Li(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($l(this.i,this.A),this.L!=2&&(Oi(),Jt(17)),Ne(this),this.s=2,Un(this)):tu(this,this.S-u)};function Un(u){u.j.G==0||u.J||cu(u.j,u)}function Ne(u){Li(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,ba(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Da(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Ds(g.h,u))){if(!u.K&&Ds(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Sr(g),Tr(g);else break t;Bs(g),Jt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(U(g.Za,g),6e3));if(1>=dr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ci(g,11)}else if((u.K||g.g==u)&&Sr(g),!lt(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let It=L[d];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Re=It[3];Re!=null&&(g.la=Re,g.j.info("VER="+g.la));const _e=It[4];_e!=null&&(g.Aa=_e,g.j.info("SVER="+g.Aa));const hi=It[5];hi!=null&&typeof hi=="number"&&0<hi&&(T=1.5*hi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ie=u.g;if(Ie){const qn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qn){var k=T.h;k.g||qn.indexOf("spdy")==-1&&qn.indexOf("quic")==-1&&qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(mr(k,k.h),k.h=null))}if(T.D){const js=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.ya=js,Qt(T.I,T.D,js))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=u;if(T.qa=fu(T,T.J?T.ia:null,T.W),tt.K){Ye(T.h,tt);var Nt=tt,ye=T.L;ye&&(Nt.I=ye),Nt.B&&(Li(Nt),Ca(Nt)),T.g=tt}else uu(T);0<g.i.length&&Ar(g)}else It[0]!="stop"&&It[0]!="close"||ci(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?ci(g,7):Ls(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Oi(4)}catch{}}var eu=class{constructor(u,d){this.g=u,this.map=d}};function ai(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function dr(u){return u.h?1:u.g?u.g.size:0}function Ds(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function mr(u,d){u.g?u.g.add(d):u.h=d}function Ye(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}ai.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return it(u.i)}function uc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function gr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function Vs(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=gr(u),T=uc(u),L=T.length,k=0;k<L;k++)d.call(void 0,T[k],g&&g[k],u)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oc(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),L=null;if(0<=T){var k=u[g].substring(0,T);L=u[g].substring(T+1)}else k=u[g];d(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fe){this.h=u.h,Va(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var d=u.i,g=new si;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),ri(this,g),this.m=u.m}else u&&(d=String(u).match(xa))?(this.h=!1,Va(this,d[1]||"",!0),this.o=fn(d[2]||""),this.g=fn(d[3]||"",!0),zi(this,d[4]),this.l=fn(d[5]||"",!0),ri(this,d[6]||"",!0),this.m=fn(d[7]||"")):(this.h=!1,this.i=new si(null,this.h))}fe.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ia(d,Ns,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ia(d,Ns,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ia(g,g.charAt(0)=="/"?cc:Is,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ia(g,pr)),u.join("")};function en(u){return new fe(u)}function Va(u,d,g){u.j=g?fn(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function ri(u,d,g){d instanceof si?(u.i=d,iu(u.i,u.h)):(g||(d=Ia(d,hc)),u.i=new si(d,u.h))}function Qt(u,d,g){u.i.set(d,g)}function Na(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function fn(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ia(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,nu),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ns=/[#\/\?@]/g,Is=/[#\?:]/g,cc=/[#\?]/g,hc=/[#\?@]/g,pr=/#/g;function si(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&oc(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}r=si.prototype,r.add=function(u,d){dn(this),this.i=null,u=Ln(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function li(u,d){dn(u),d=Ln(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function ui(u,d){return dn(u),d=Ln(u,d),u.g.has(d)}r.forEach=function(u,d){dn(this),this.g.forEach(function(g,T){g.forEach(function(L){u.call(d,L,T,this)},this)},this)},r.na=function(){dn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const L=u[T];for(let k=0;k<L.length;k++)g.push(d[T])}return g},r.V=function(u){dn(this);let d=[];if(typeof u=="string")ui(this,u)&&(d=d.concat(this.g.get(Ln(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},r.set=function(u,d){return dn(this),this.i=null,u=Ln(this,u),ui(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},r.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Os(u,d,g){li(u,d),0<g.length&&(u.i=null,u.g.set(Ln(u,d),it(g)),u.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const k=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=k;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),u.push(L)}}return this.i=u.join("&")};function Ln(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function iu(u,d){d&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(li(this,T),Os(this,L,g))},u)),u.j=d}function Oa(u,d){const g=new hn;if(p.Image){const T=new Image;T.onload=Y(mn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=Y(mn,g,"TestLoadImage: error",!1,d,T),T.onabort=Y(mn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=Y(mn,g,"TestLoadImage: timeout",!1,d,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Rn(u,d){const g=new hn,T=new AbortController,L=setTimeout(()=>{T.abort(),mn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?mn(g,"TestPingServer: ok",!0,d):mn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),mn(g,"TestPingServer: error",!1,d)})}function mn(u,d,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function Ma(){this.g=new Ra}function zn(u,d,g){const T=g||"";try{Vs(u,function(L,k){let tt=L;_(L)&&(tt=Sn(L)),d.push(T+k+"="+encodeURIComponent(tt))})}catch(L){throw d.push(T+"type="+encodeURIComponent("_badmap")),L}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Bi,Ts),Bi.prototype.g=function(){return new oi(this.l,this.j)},Bi.prototype.i=function(u){return function(){return u}}({});function oi(u,d){ae.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(oi,ae),r=oi.prototype,r.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Pn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||p).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ms(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ms(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Bn(this):Pn(this),this.readyState==3&&Ms(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},r.Qa=function(u){this.g&&(this.response=u,Bn(this))},r.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pn(u)}r.setRequestHeader=function(u,d){this.u.append(u,d)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function Pn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Us(u){let d="";return Vt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function be(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Us(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qt(u,d,g))}function jt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(jt,ae);var yr=/^https?$/i,Ua=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?As(this.o):As(On),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(k){au(this,k);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())g.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ua,d,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,tt]of g)this.g.setRequestHeader(k,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){au(this,k)}};function au(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,_r(u),jn(u)}function _r(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?vr(this):this.bb())},r.bb=function(){vr(this)};function vr(u){if(u.h&&typeof m<"u"&&(!u.v[1]||gn(u)!=4||u.Z()!=2)){if(u.u&&gn(u)==4)Be(u.Ea,0,u);else if(qt(u,"readystatechange"),gn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=tt===0){var L=String(u.D).match(xa)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!yr.test(L?L.toLowerCase():"")}g=T}if(g)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var k=2<gn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",_r(u)}}finally{jn(u)}}}}function jn(u,d){if(u.g){La(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||qt(u,"ready");try{g.onreadystatechange=T}catch{}}}function La(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function gn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),or(d)}};function ru(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fc(u){const d={};u=(u.g&&2<=gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var g=I(u[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=d[L]||[];d[L]=k,k.push(g)}x(d,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Er(u){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,u),this.cb=za("retryDelaySeedMs",1e4,u),this.Wa=za("forwardChannelMaxRetries",2,u),this.wa=za("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(u&&u.concurrentRequestLimit),this.Da=new Ma,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Er.prototype,r.la=8,r.G=1,r.connect=function(u,d,g,T){Jt(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=fu(this,null,this.W),Ar(this)};function Ls(u){if(su(u),u.G==3){var d=u.U++,g=en(u.I);if(Qt(g,"SID",u.K),Qt(g,"RID",d),Qt(g,"TYPE","terminate"),Ba(u,g),d=new Qe(u,u.j,d),d.L=2,d.v=Na(en(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=d.v,g=!0),g||(d.g=du(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ca(d)}hu(u)}function Tr(u){u.g&&(Pa(u),u.g.cancel(),u.g=null)}function su(u){Tr(u),u.u&&(p.clearTimeout(u.u),u.u=null),Sr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ar(u){if(!fr(u.h)&&!u.s){u.s=!0;var d=u.Ga;et||C(),ot||(et(),ot=!0),Bt.add(d,u),u.B=0}}function dc(u,d){return dr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(U(u.Ga,u,d),Ps(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qe(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=lu(this,L,d),g=en(this.I),Qt(g,"RID",u),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),Ba(this,g),k&&(this.O?d="headers="+encodeURIComponent(String(Us(k)))+"&"+d:this.m&&be(g,this.m,k)),mr(this.h,L),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",d),Qt(g,"SID","null"),L.T=!0,bn(L,g,null)):bn(L,g,d),this.G=2}}else this.G==3&&(u?zs(this,u):this.i.length==0||fr(this.h)||zs(this))};function zs(u,d){var g;d?g=d.l:g=u.U++;const T=en(u.I);Qt(T,"SID",u.K),Qt(T,"RID",g),Qt(T,"AID",u.T),Ba(u,T),u.m&&u.o&&be(T,u.m,u.o),g=new Qe(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=lu(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),mr(u.h,g),bn(g,T,d)}function Ba(u,d){u.H&&Vt(u.H,function(g,T){Qt(d,T,g)}),u.l&&Vs({},function(g,T){Qt(d,T,g)})}function lu(u,d,g){g=Math.min(u.i.length,g);var T=u.l?U(u.l.Na,u.l,u):null;t:{var L=u.i;let k=-1;for(;;){const tt=["count="+g];k==-1?0<g?(k=L[0].g,tt.push("ofs="+k)):k=0:tt.push("ofs="+k);let Nt=!0;for(let ye=0;ye<g;ye++){let It=L[ye].g;const Re=L[ye].map;if(It-=k,0>It)k=Math.max(0,L[ye].g-100),Nt=!1;else try{zn(Re,tt,"req"+It+"_")}catch{T&&T(Re)}}if(Nt){T=tt.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function uu(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;et||C(),ot||(et(),ot=!0),Bt.add(d,u),u.v=0}}function Bs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(U(u.Fa,u),Ps(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(U(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Tr(this),ou(this))};function Pa(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function ou(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=en(u.qa);Qt(d,"RID","rpc"),Qt(d,"SID",u.K),Qt(d,"AID",u.T),Qt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(d,"TO",u.ja),Qt(d,"TYPE","xmlhttp"),Ba(u,d),u.m&&u.o&&be(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Na(en(d)),g.m=null,g.P=!0,ii(g,u)}r.Za=function(){this.C!=null&&(this.C=null,Tr(this),Bs(this),Jt(19))};function Sr(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function cu(u,d){var g=null;if(u.g==d){Sr(u),Pa(u),u.g=null;var T=2}else if(Ds(u.h,d))g=d.D,Ye(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=u.B;T=Ii(),qt(T,new pe(T,g)),Ar(u)}else uu(u);else if(L=d.s,L==3||L==0&&0<d.X||!(T==1&&dc(u,d)||T==2&&Bs(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),L){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function Ps(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function ci(u,d){if(u.j.info("Error code "+d),d==2){var g=U(u.fb,u),T=u.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Va(T,"https"),Na(T),L?Oa(T.toString(),g):Rn(T.toString(),g)}else Jt(2);u.G=0,u.l&&u.l.sa(d),hu(u),su(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function hu(u){if(u.G=0,u.ka=[],u.l){const d=xs(u.h);(d.length!=0||u.i.length!=0)&&(K(u.ka,d),K(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function fu(u,d,g){var T=g instanceof fe?en(g):new fe(g);if(T.g!="")d&&(T.g=d+"."+T.g),zi(T,T.s);else{var L=p.location;T=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var k=new fe(null);T&&Va(k,T),d&&(k.g=d),L&&zi(k,L),g&&(k.l=g),T=k}return g=u.D,d=u.ya,g&&d&&Qt(T,g,d),Qt(T,"VER",u.la),Ba(u,T),T}function du(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new jt(new Bi({eb:g})):new jt(u.pa),d.Ha(u.J),d}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function br(){}br.prototype.g=function(u,d){return new Fe(u,d)};function Fe(u,d){ae.call(this),this.g=new Er(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!lt(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!lt(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new kn(this)}J(Fe,ae),Fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fe.prototype.close=function(){Ls(this.g)},Fe.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Sn(u),u=g);d.i.push(new eu(d.Ya++,u)),d.G==3&&Ar(d)},Fe.prototype.N=function(){this.g.l=null,delete this.j,Ls(this.g),delete this.g,Fe.aa.N.call(this)};function gu(u){ei.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}J(gu,ei);function pu(){bs.call(this),this.status=1}J(pu,bs);function kn(u){this.g=u}J(kn,mu),kn.prototype.ua=function(){qt(this.g,"a")},kn.prototype.ta=function(u){qt(this.g,new gu(u))},kn.prototype.sa=function(u){qt(this.g,new pu)},kn.prototype.ra=function(){qt(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,Fe.prototype.send=Fe.prototype.o,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,l_=function(){return new br},s_=function(){return Ii()},r_=In,bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,bo=Ui,ni.COMPLETE="complete",a_=ni,Ss.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Dl=Ss,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,i_=jt}).apply(typeof _o<"u"?_o:typeof self<"u"?self:typeof window<"u"?window:{});const Fp="@firebase/firestore",Xp="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fs="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Zy("@firebase/firestore");function Wr(){return ir.logLevel}function at(r,...e){if(ir.logLevel<=Ut.DEBUG){const i=e.map(Yf);ir.debug(`Firestore (${fs}): ${r}`,...i)}}function xi(r,...e){if(ir.logLevel<=Ut.ERROR){const i=e.map(Yf);ir.error(`Firestore (${fs}): ${r}`,...i)}}function rs(r,...e){if(ir.logLevel<=Ut.WARN){const i=e.map(Yf);ir.warn(`Firestore (${fs}): ${r}`,...i)}}function Yf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,u_(r,s,i)}function u_(r,e,i){let s=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw xi(s),new Error(s)}function kt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||u_(e,o,s)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(qe.UNAUTHENTICATED))}shutdown(){}}class kT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class qT{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ca,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},p=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ca)}},0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt(typeof s.accessToken=="string",31837,{l:s}),new o_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new qe(e)}}class HT{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GT{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new HT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Kp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YT(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function bt(r,e){return r<e?-1:r>e?1:0}function Rf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return bt(s,o);{const h=c_(),m=FT(h.encode(Zp(r,i)),h.encode(Zp(e,i)));return m!==0?m:bt(s,o)}}i+=s>65535?2:1}return bt(r.length,e.length)}function Zp(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function FT(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return bt(r[i],e[i]);return bt(r.length,e.length)}function ss(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-62135596800,Jp=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Jp);return new Ke(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<$p)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jp}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$p;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Ke(0,0))}static max(){return new Et(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="__name__";class Xn{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&yt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Xn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const s=Xn.isNumericId(e),o=Xn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Xn.extractNumericId(e).compare(Xn.extractNumericId(i)):Rf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class te extends Xn{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const XT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Xn{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return XT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wp}static keyField(){return new Ge([Wp])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ht($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let m=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ht($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ht($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(m=!m,o++):p!=="."||m?(s+=p,o++):(h(),o++)}if(h(),m)throw new ht($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(te.fromString(e))}static fromName(e){return new ft(te.fromString(e).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=-1;function KT(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Ke(i+1,0):new Ke(i,s));return new fa(o,ft.empty(),e)}function ZT(r){return new fa(r.readTime,r.key,Bl)}class fa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new fa(Et.min(),ft.empty(),Bl)}static max(){return new fa(Et.max(),ft.empty(),Bl)}}function $T(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:bt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ds(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==JT)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let o=0,h=0,m=!1;e.forEach(p=>{++o,p.next(()=>{++h,m&&h===o&&i()},v=>s(v))}),m=!0,h===o&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new X((s,o)=>{const h=e.length,m=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{m[_]=A,++p,p===h&&s(m)},A=>o(A))}})}static doWhile(e,i){return new X((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function t1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ms(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Go.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=-1;function Qo(r){return r==null}function wf(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="";function e1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=ty(e)),e=n1(r.get(i),e);return ty(e)}function n1(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case f_:i+="";break;default:i+=h}}return i}function ty(r){return r+f_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function gs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function i1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Le.RED,this.left=o??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Le(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ny(this.data.getIterator())}getIteratorFrom(e){return new ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ae(this.comparator);return i.data=e,i}}class ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Ri([])}unionWith(e){let i=new Ae(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ri(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new d_("Invalid base64 string: "+h):h}}(e);return new ze(i)}static fromUint8Array(e){const i=function(o){let h="";for(let m=0;m<o.length;++m)h+=String.fromCharCode(o[m]);return h}(e);return new ze(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const a1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(r){if(kt(!!r,39018),typeof r=="string"){let e=0;const i=a1.exec(r);if(kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ma(r){return typeof r=="string"?ze.fromBase64String(r):ze.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="server_timestamp",g_="__type__",p_="__previous_value__",y_="__local_write_time__";function Xf(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[g_])===null||i===void 0?void 0:i.stringValue)===m_}function Yo(r){const e=r.mapValue.fields[p_];return Xf(e)?Yo(e):e}function Pl(r){const e=da(r.mapValue.fields[y_].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,i,s,o,h,m,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Mo="(default)";class jl{constructor(e,i){this.projectId=e,this.database=i||Mo}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Mo}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="__type__",l1="__max__",Eo={mapValue:{}},u1="__vector__",Cf="value";function ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Xf(r)?4:c1(r)?9007199254740991:o1(r)?10:11:yt(28295,{value:r})}function $n(r,e){if(r===e)return!0;const i=ga(r);if(i!==ga(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pl(r).isEqual(Pl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const m=da(o.timestampValue),p=da(h.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return ma(o.bytesValue).isEqual(ma(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return ce(o.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return ce(o.integerValue)===ce(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const m=ce(o.doubleValue),p=ce(h.doubleValue);return m===p?wf(m)===wf(p):isNaN(m)&&isNaN(p)}return!1}(r,e);case 9:return ss(r.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(o,h){const m=o.mapValue.fields||{},p=h.mapValue.fields||{};if(ey(m)!==ey(p))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(p[v]===void 0||!$n(m[v],p[v])))return!1;return!0}(r,e);default:return yt(52216,{left:r})}}function kl(r,e){return(r.values||[]).find(i=>$n(i,e))!==void 0}function ls(r,e){if(r===e)return 0;const i=ga(r),s=ga(e);if(i!==s)return bt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,e.booleanValue);case 2:return function(h,m){const p=ce(h.integerValue||h.doubleValue),v=ce(m.integerValue||m.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(r,e);case 3:return iy(r.timestampValue,e.timestampValue);case 4:return iy(Pl(r),Pl(e));case 5:return Rf(r.stringValue,e.stringValue);case 6:return function(h,m){const p=ma(h),v=ma(m);return p.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,m){const p=h.split("/"),v=m.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=bt(p[_],v[_]);if(A!==0)return A}return bt(p.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,m){const p=bt(ce(h.latitude),ce(m.latitude));return p!==0?p:bt(ce(h.longitude),ce(m.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return ay(r.arrayValue,e.arrayValue);case 10:return function(h,m){var p,v,_,A;const N=h.fields||{},U=m.fields||{},Y=(p=N[Cf])===null||p===void 0?void 0:p.arrayValue,J=(v=U[Cf])===null||v===void 0?void 0:v.arrayValue,it=bt(((_=Y==null?void 0:Y.values)===null||_===void 0?void 0:_.length)||0,((A=J==null?void 0:J.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:ay(Y,J)}(r.mapValue,e.mapValue);case 11:return function(h,m){if(h===Eo.mapValue&&m===Eo.mapValue)return 0;if(h===Eo.mapValue)return 1;if(m===Eo.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let N=0;N<v.length&&N<A.length;++N){const U=Rf(v[N],A[N]);if(U!==0)return U;const Y=ls(p[v[N]],_[A[N]]);if(Y!==0)return Y}return bt(v.length,A.length)}(r.mapValue,e.mapValue);default:throw yt(23264,{Pe:i})}}function iy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return bt(r,e);const i=da(r),s=da(e),o=bt(i.seconds,s.seconds);return o!==0?o:bt(i.nanos,s.nanos)}function ay(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=ls(i[o],s[o]);if(h)return h}return bt(i.length,s.length)}function us(r){return Df(r)}function Df(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=da(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return ma(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ft.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Df(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const m of s)h?h=!1:o+=",",o+=`${m}:${Df(i.fields[m])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function Ro(r){switch(ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yo(r);return e?16+Ro(e):16;case 5:return 2*r.stringValue.length;case 6:return ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Ro(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return gs(s.fields,(h,m)=>{o+=h.length+Ro(m)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function xf(r){return!!r&&"integerValue"in r}function Kf(r){return!!r&&"arrayValue"in r}function ry(r){return!!r&&"nullValue"in r}function sy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wo(r){return!!r&&"mapValue"in r}function o1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[s1])===null||i===void 0?void 0:i.stringValue)===u1}function Il(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Il(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Il(r.arrayValue.values[i]);return e}return Object.assign({},r)}function c1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===l1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!wo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach((m,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}m?s[p.lastSegment()]=Il(m):o.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());wo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];wo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){gs(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Vn(Il(this.value))}}function __(r){const e=[];return gs(r.fields,(i,s)=>{const o=new Ge([i]);if(wo(s)){const h=__(s.mapValue).fields;if(h.length===0)e.push(o);else for(const m of h)e.push(o.child(m))}else e.push(o)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,i,s,o,h,m,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=m,this.documentState=p}static newInvalidDocument(e){return new He(e,0,Et.min(),Et.min(),Et.min(),Vn.empty(),0)}static newFoundDocument(e,i,s,o){return new He(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new He(e,2,i,Et.min(),Et.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new He(e,3,i,Et.min(),Et.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof He&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new He(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,i){this.position=e,this.inclusive=i}}function ly(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],m=r.position[o];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(m.referenceValue),i.key):s=ls(m,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function uy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!$n(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function h1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{}class Te extends v_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new d1(e,i,s):i==="array-contains"?new p1(e,s):i==="in"?new y1(e,s):i==="not-in"?new _1(e,s):i==="array-contains-any"?new v1(e,s):new Te(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new m1(e,s):new g1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ls(i,this.value)):i!==null&&ga(this.value)===ga(i)&&this.matchesComparison(ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends v_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Jn(e,i)}matches(e){return E_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function E_(r){return r.op==="and"}function T_(r){return f1(r)&&E_(r)}function f1(r){for(const e of r.filters)if(e instanceof Jn)return!1;return!0}function Vf(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+us(r.value);if(T_(r))return r.filters.map(e=>Vf(e)).join(",");{const e=r.filters.map(i=>Vf(i)).join(",");return`${r.op}(${e})`}}function A_(r,e){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&$n(s.value,o.value)}(r,e):r instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,m,p)=>h&&A_(m,o.filters[p]),!0):!1}(r,e):void yt(19439)}function S_(r){return r instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${us(i.value)}`}(r):r instanceof Jn?function(i){return i.op.toString()+" {"+i.getFilters().map(S_).join(" ,")+"}"}(r):"Filter"}class d1 extends Te{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class m1 extends Te{constructor(e,i){super(e,"in",i),this.keys=b_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class g1 extends Te{constructor(e,i){super(e,"not-in",i),this.keys=b_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function b_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ft.fromName(s.referenceValue))}class p1 extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Kf(i)&&kl(i.arrayValue,this.value)}}class y1 extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&kl(this.value.arrayValue,i)}}class _1 extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!kl(this.value.arrayValue,i)}}class v1 extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Kf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>kl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,i=null,s=[],o=[],h=null,m=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=m,this.endAt=p,this.Ie=null}}function oy(r,e=null,i=[],s=[],o=null,h=null,m=null){return new E1(r,e,i,s,o,h,m)}function Zf(r){const e=Tt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Vf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Qo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>us(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>us(s)).join(",")),e.Ie=i}return e.Ie}function $f(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!h1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!A_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uy(r.startAt,e.startAt)&&uy(r.endAt,e.endAt)}function Nf(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,i=null,s=[],o=[],h=null,m="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=m,this.startAt=p,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function T1(r,e,i,s,o,h,m,p){return new Fo(r,e,i,s,o,h,m,p)}function R_(r){return new Fo(r)}function cy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function A1(r){return r.collectionGroup!==null}function Ol(r){const e=Tt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new Ae(Ge.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Lo(h,s))}),i.has(Ge.keyField().canonicalString())||e.Ee.push(new Lo(Ge.keyField(),s))}return e.Ee}function Kn(r){const e=Tt(r);return e.de||(e.de=S1(e,Ol(r))),e.de}function S1(r,e){if(r.limitType==="F")return oy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Lo(o.field,h)});const i=r.endAt?new Uo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uo(r.startAt.position,r.startAt.inclusive):null;return oy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function If(r,e,i){return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Xo(r,e){return $f(Kn(r),Kn(e))&&r.limitType===e.limitType}function w_(r){return`${Zf(Kn(r))}|lt:${r.limitType}`}function ts(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>S_(o)).join(", ")}]`),Qo(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>us(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>us(o)).join(",")),`Target(${s})`}(Kn(r))}; limitType=${r.limitType})`}function Ko(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Ol(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(m,p,v){const _=ly(m,p,v);return m.inclusive?_<=0:_<0}(s.startAt,Ol(s),o)||s.endAt&&!function(m,p,v){const _=ly(m,p,v);return m.inclusive?_>=0:_>0}(s.endAt,Ol(s),o))}(r,e)}function b1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function C_(r){return(e,i)=>{let s=!1;for(const o of Ol(r)){const h=R1(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function R1(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):function(h,m,p){const v=m.data.field(h),_=p.data.field(h);return v!==null&&_!==null?ls(v,_):yt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new ne(ft.comparator);function Vi(){return w1}const D_=new ne(ft.comparator);function xl(...r){let e=D_;for(const i of r)e=e.insert(i.key,i);return e}function x_(r){let e=D_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function nr(){return Ml()}function V_(){return Ml()}function Ml(){return new rr(r=>r.toString(),(r,e)=>r.isEqual(e))}const C1=new ne(ft.comparator),D1=new Ae(ft.comparator);function xt(...r){let e=D1;for(const i of r)e=e.add(i);return e}const x1=new Ae(bt);function V1(){return x1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function I1(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this._=void 0}}function O1(r,e,i){return r instanceof zo?function(o,h){const m={fields:{[g_]:{stringValue:m_},[y_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Xf(h)&&(h=Yo(h)),h&&(m.fields[p_]=h),{mapValue:m}}(i,e):r instanceof ql?I_(r,e):r instanceof Hl?O_(r,e):function(o,h){const m=N_(o,h),p=hy(m)+hy(o.Re);return xf(m)&&xf(o.Re)?I1(p):N1(o.serializer,p)}(r,e)}function M1(r,e,i){return r instanceof ql?I_(r,e):r instanceof Hl?O_(r,e):i}function N_(r,e){return r instanceof Bo?function(s){return xf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class zo extends Zo{}class ql extends Zo{constructor(e){super(),this.elements=e}}function I_(r,e){const i=M_(e);for(const s of r.elements)i.some(o=>$n(o,s))||i.push(s);return{arrayValue:{values:i}}}class Hl extends Zo{constructor(e){super(),this.elements=e}}function O_(r,e){let i=M_(e);for(const s of r.elements)i=i.filter(o=>!$n(o,s));return{arrayValue:{values:i}}}class Bo extends Zo{constructor(e,i){super(),this.serializer=e,this.Re=i}}function hy(r){return ce(r.integerValue||r.doubleValue)}function M_(r){return Kf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function U1(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ql&&o instanceof ql||s instanceof Hl&&o instanceof Hl?ss(s.elements,o.elements,$n):s instanceof Bo&&o instanceof Bo?$n(s.Re,o.Re):s instanceof zo&&o instanceof zo}(r.transform,e.transform)}class L1{constructor(e,i){this.version=e,this.transformResults=i}}class wi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Co(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $o{}function U_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jf(r.key,wi.none()):new Jo(r.key,r.data,wi.none());{const i=r.data,s=Vn.empty();let o=new Ae(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?s.delete(h):s.set(h,m),o=o.add(h)}return new ps(r.key,s,new Ri(o.toArray()),wi.none())}}function z1(r,e,i){r instanceof Jo?function(o,h,m){const p=o.value.clone(),v=dy(o.fieldTransforms,h,m.transformResults);p.setAll(v),h.convertToFoundDocument(m.version,p).setHasCommittedMutations()}(r,e,i):r instanceof ps?function(o,h,m){if(!Co(o.precondition,h))return void h.convertToUnknownDocument(m.version);const p=dy(o.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(L_(o)),v.setAll(p),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(r,e,i):function(o,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,e,i)}function Ul(r,e,i,s){return r instanceof Jo?function(h,m,p,v){if(!Co(h.precondition,m))return p;const _=h.value.clone(),A=my(h.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof ps?function(h,m,p,v){if(!Co(h.precondition,m))return p;const _=my(h.fieldTransforms,v,m),A=m.data;return A.setAll(L_(h)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(r,e,i,s):function(h,m,p){return Co(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p}(r,e,i)}function B1(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=N_(s.transform,o||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,h))}return i||null}function fy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ss(s,o,(h,m)=>U1(h,m))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Jo extends $o{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends $o{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function L_(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function dy(r,e,i){const s=new Map;kt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const h=r[o],m=h.transform,p=e.data.field(h.field);s.set(h.field,M1(m,p,i[o]))}return s}function my(r,e,i){const s=new Map;for(const o of r){const h=o.transform,m=i.data.field(o.field);s.set(o.field,O1(h,m,e))}return s}class Jf extends $o{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P1 extends $o{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&z1(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ul(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ul(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=V_();return this.mutations.forEach(o=>{const h=e.get(o.key),m=h.overlayedDocument;let p=this.applyToLocalView(m,h.mutatedFields);p=i.has(o.key)?null:p;const v=U_(m,p);v!==null&&s.set(o.key,v),m.isValidDocument()||m.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(i,s)=>fy(i,s))&&ss(this.baseMutations,e.baseMutations,(i,s)=>fy(i,s))}}class Wf{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){kt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return C1}();const h=e.mutations;for(let m=0;m<h.length;m++)o=o.insert(h[m].key,s[m].version);return new Wf(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Mt;function H1(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function z_(r){if(r===void 0)return xi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ge.OK:return $.OK;case ge.CANCELLED:return $.CANCELLED;case ge.UNKNOWN:return $.UNKNOWN;case ge.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ge.INTERNAL:return $.INTERNAL;case ge.UNAVAILABLE:return $.UNAVAILABLE;case ge.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ge.NOT_FOUND:return $.NOT_FOUND;case ge.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ge.ABORTED:return $.ABORTED;case ge.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ge.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(Mt=ge||(ge={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new oa([4294967295,4294967295],0);function gy(r){const e=c_().encode(r),i=new n_;return i.update(e),new Uint8Array(i.digest())}function py(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new oa([i,s],0),new oa([o,h],0)]}class td{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Vl(`Invalid padding: ${i}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=oa.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(oa.fromNumber(s)));return o.compare(G1)===1&&(o=new oa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=gy(e),[s,o]=py(i);for(let h=0;h<this.hashCount;h++){const m=this.we(s,o,h);if(!this.be(m))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new td(h,o,i);return s.forEach(p=>m.insert(p)),m}insert(e){if(this.pe===0)return;const i=gy(e),[s,o]=py(i);for(let h=0;h<this.hashCount;h++){const m=this.we(s,o,h);this.Se(m)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Wo(Et.min(),o,new ne(bt),Vi(),xt())}}class Gl{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Gl(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class B_{constructor(e,i){this.targetId=e,this.Ce=i}}class P_{constructor(e,i,s=ze.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class yy{constructor(){this.Fe=0,this.Me=_y(),this.xe=ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xt(),i=xt(),s=xt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:h})}}),new Gl(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=_y()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Q1{constructor(e){this.ze=e,this.je=new Map,this.He=Vi(),this.Je=To(),this.Ye=To(),this.Ze=new ne(bt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(Nf(h))if(s===0){const m=new ft(h.path);this.tt(i,m,He.newNoDocument(m,Et.min()))}else kt(s===1,20013,{expectedCount:s});else{const m=this.ut(i);if(m!==s){const p=this.ct(e),v=p?this.lt(p,e,m):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let m,p;try{m=ma(s).toUint8Array()}catch(v){if(v instanceof d_)return rs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new td(m,o,h)}catch(v){return rs(v instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.pe===0?null:p}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const m=this.ze.Pt(),p=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,m)=>{const p=this._t(m);if(p){if(h.current&&Nf(p.target)){const v=new ft(p.target.path);this.Et(v).has(m)||this.dt(m,v)||this.tt(m,v,He.newNoDocument(v,e))}h.Le&&(i.set(m,h.qe()),h.Qe())}});let s=xt();this.Ye.forEach((h,m)=>{let p=!0;m.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(h))}),this.He.forEach((h,m)=>m.setReadTime(e));const o=new Wo(e,i,this.Ze,this.He,s);return this.He=Vi(),this.Je=To(),this.Ye=To(),this.Ze=new ne(bt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new yy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new Ae(bt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new Ae(bt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new yy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function To(){return new ne(ft.comparator)}function _y(){return new ne(ft.comparator)}const Y1={asc:"ASCENDING",desc:"DESCENDING"},F1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X1={and:"AND",or:"OR"};class K1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Of(r,e){return r.useProto3Json||Qo(e)?e:{value:e}}function j_(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $1(r,e){return j_(r,e.toTimestamp())}function Zn(r){return kt(!!r,49232),Et.fromTimestamp(function(i){const s=da(i);return new Ke(s.seconds,s.nanos)}(r))}function k_(r,e){return Mf(r,e).canonicalString()}function Mf(r,e){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function q_(r){const e=te.fromString(r);return kt(F_(e),10190,{key:e.toString()}),e}function Uf(r,e){return k_(r.databaseId,e.path)}function gf(r,e){const i=q_(e);if(i.get(1)!==r.databaseId.projectId)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(G_(i))}function H_(r,e){return k_(r.databaseId,e)}function J1(r){const e=q_(r);return e.length===4?te.emptyPath():G_(e)}function Lf(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G_(r){return kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vy(r,e,i){return{name:Uf(r,e),fields:i.value.mapValue.fields}}function W1(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),ze.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ze.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,p=m&&function(_){const A=_.code===void 0?$.UNKNOWN:z_(_.code);return new ht(A,_.message||"")}(m);i=new P_(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gf(r,s.document.name),h=Zn(s.document.updateTime),m=s.document.createTime?Zn(s.document.createTime):Et.min(),p=new Vn({mapValue:{fields:s.document.fields}}),v=He.newFoundDocument(o,h,m,p),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Do(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gf(r,s.document),h=s.readTime?Zn(s.readTime):Et.min(),m=He.newNoDocument(o,h),p=s.removedTargetIds||[];i=new Do([],p,m.key,m)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gf(r,s.document),h=s.removedTargetIds||[];i=new Do([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,m=new q1(o,h),p=s.targetId;i=new B_(p,m)}}return i}function tA(r,e){let i;if(e instanceof Jo)i={update:vy(r,e.key,e.value)};else if(e instanceof Jf)i={delete:Uf(r,e.key)};else if(e instanceof ps)i={update:vy(r,e.key,e.data),updateMask:oA(e.fieldMask)};else{if(!(e instanceof P1))return yt(16599,{ft:e.type});i={verify:Uf(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,m){const p=m.transform;if(p instanceof zo)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ql)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hl)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bo)return{fieldPath:m.field.canonicalString(),increment:p.Re};throw yt(20930,{transform:m.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:$1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(r,e.precondition)),i}function eA(r,e){return r&&r.length>0?(kt(e!==void 0,14353),r.map(i=>function(o,h){let m=o.updateTime?Zn(o.updateTime):Zn(h);return m.isEqual(Et.min())&&(m=Zn(h)),new L1(m,o.transformResults||[])}(i,e))):[]}function nA(r,e){return{documents:[H_(r,e.path)]}}function iA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=H_(r,o);const h=function(_){if(_.length!==0)return Y_(Jn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const m=function(_){if(_.length!==0)return _.map(A=>function(U){return{field:es(U.field),direction:sA(U.dir)}}(A))}(e.orderBy);m&&(i.structuredQuery.orderBy=m);const p=Of(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:o}}function aA(r){let e=J1(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){kt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const U=Q_(N);return U instanceof Jn&&T_(U)?U.getFilters():[U]}(i.where));let m=[];i.orderBy&&(m=function(N){return N.map(U=>function(J){return new Lo(ns(J.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(U))}(i.orderBy));let p=null;i.limit&&(p=function(N){let U;return U=typeof N=="object"?N.value:N,Qo(U)?null:U}(i.limit));let v=null;i.startAt&&(v=function(N){const U=!!N.before,Y=N.values||[];return new Uo(Y,U)}(i.startAt));let _=null;return i.endAt&&(_=function(N){const U=!N.before,Y=N.values||[];return new Uo(Y,U)}(i.endAt)),T1(e,o,m,h,p,"F",v,_)}function rA(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Q_(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ns(i.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ns(i.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ns(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=ns(i.unaryFilter.field);return Te.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Te.create(ns(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Jn.create(i.compositeFilter.filters.map(s=>Q_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(r):yt(30097,{filter:r})}function sA(r){return Y1[r]}function lA(r){return F1[r]}function uA(r){return X1[r]}function es(r){return{fieldPath:r.canonicalString()}}function ns(r){return Ge.fromServerFormat(r.fieldPath)}function Y_(r){return r instanceof Te?function(i){if(i.op==="=="){if(sy(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NAN"}};if(ry(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sy(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NOT_NAN"}};if(ry(i.value))return{unaryFilter:{field:es(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(i.field),op:lA(i.op),value:i.value}}}(r):r instanceof Jn?function(i){const s=i.getFilters().map(o=>Y_(o));return s.length===1?s[0]:{compositeFilter:{op:uA(i.op),filters:s}}}(r):yt(54877,{filter:r})}function oA(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function F_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,i,s,o,h=Et.min(),m=Et.min(),p=ze.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.wt=e}}function hA(r){const e=aA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?If(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.Cn=new dA}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(fa.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class dA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ae(te.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ae(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X_=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(X_,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new os(0)}static lr(){return new os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LruGarbageCollector",mA=1048576;function Ay([r,e],[i,s]){const o=bt(r,i);return o===0?bt(e,s):o}class gA{constructor(e){this.Er=e,this.buffer=new Ae(Ay),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ay(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){at(Ty,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ms(i)?at(Ty,"Ignoring IndexedDB error during garbage collection: ",i):await ds(i)}await this.mr(3e5)})}}class yA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Go.le);const s=new gA(i);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Ey)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ey):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,o,h,m,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,m=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(s=N,p=Date.now(),this.removeTargets(e,s,i))).next(N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(_=Date.now(),Wr()<=Ut.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${o} in `+(p-m)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function _A(r,e){return new yA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.changes=new rr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,He.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Ul(s.mutation,o,Ri.empty(),Ke.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=nr();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let m=xl();return h.forEach((p,v)=>{m=m.insert(p,v.overlayedDocument)}),m}))}getOverlayedDocuments(e,i){const s=nr();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((m,p)=>{i.set(m,p)})})}computeViews(e,i,s,o){let h=Vi();const m=Ml(),p=function(){return Ml()}();return i.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ps)?h=h.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),Ul(A.mutation,_,A.mutation.getFieldMask(),Ke.now())):m.set(_.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>m.set(_,A)),i.forEach((_,A)=>{var N;return p.set(_,new EA(A,(N=m.get(_))!==null&&N!==void 0?N:null))}),p))}recalculateAndSaveOverlays(e,i){const s=Ml();let o=new ne((m,p)=>m-p),h=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(m=>{for(const p of m)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Ri.empty();A=p.applyToLocalView(_,A),s.set(v,A);const N=(o.get(p.batchId)||xt()).add(v);o=o.insert(p.batchId,N)})}).next(()=>{const m=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,N=V_();A.forEach(U=>{if(!h.has(U)){const Y=U_(i.get(U),s.get(U));Y!==null&&N.set(U,Y),h=h.add(U)}}),m.push(this.documentOverlayCache.saveOverlays(e,_,N))}return X.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(m){return ft.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):A1(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const m=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):X.resolve(nr());let p=Bl,v=h;return m.next(_=>X.forEach(_,(A,N)=>(p<N.largestBatchId&&(p=N.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(U=>{v=v.insert(A,U)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,xt())).next(A=>({batchId:p,changes:x_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(s=>{let o=xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let m=xl();return this.indexManager.getCollectionParents(e,h).next(p=>X.forEach(p,v=>{const _=function(N,U){return new Fo(U,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(A=>{A.forEach((N,U)=>{m=m.insert(N,U)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(m=>{h.forEach((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,He.newInvalidDocument(A)))});let p=xl();return m.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Ul(A.mutation,_,Ri.empty(),Ke.now()),Ko(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return X.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Zn(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:hA(o.bundledQuery),readTime:Zn(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.overlays=new ne(ft.comparator),this.Qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=nr();return X.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=nr(),h=i.length+1,m=new ft(i.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ne((_,A)=>_-A);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=nr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=nr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=o)););return X.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const m=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new k1(i,s));let h=this.Qr.get(i);h===void 0&&(h=xt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.$r=new Ae(xe.Ur),this.Kr=new Ae(xe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new xe(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new xe(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new ft(new te([])),s=new xe(i,e),o=new xe(i,e+1),h=[];return this.Kr.forEachInRange([s,o],m=>{this.zr(m),h.push(m.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ft(new te([])),s=new xe(i,e),o=new xe(i,e+1);let h=xt();return this.Kr.forEachInRange([s,o],m=>{h=h.add(m.key)}),h}containsKey(e){const i=new xe(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ft.comparator(e.key,i.key)||bt(e.Zr,i.Zr)}static Wr(e,i){return bt(e.Zr,i.Zr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Ae(xe.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new j1(h,i,s,o);this.mutationQueue.push(m);for(const p of o)this.Xr=this.Xr.add(new xe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(m)}lookupMutationBatch(e,i){return X.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ti(s),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ff:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,o],m=>{const p=this.ei(m.Zr);h.push(p)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ae(bt);return i.forEach(o=>{const h=new xe(o,0),m=new xe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,m],p=>{s=s.add(p.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const m=new xe(new ft(h),0);let p=new Ae(bt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Zr)),!0)},m),X.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(i.mutations,o=>{const h=new xe(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new xe(i,0),o=this.Xr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.ii=e,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,m=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():He.newInvalidDocument(i))}getEntries(e,i){let s=Vi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():He.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Vi();const m=i.path,p=new ft(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||$T(ZT(A),s)<=0||(o.has(A.key)||Ko(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,o){yt(9500)}si(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new CA(this)}getSize(e){return X.resolve(this.size)}}class CA extends vA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.persistence=e,this.oi=new rr(i=>Zf(i),$f),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new ed,this.targetCount=0,this.ui=os.cr()}forEachTarget(e,i){return this.oi.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),X.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new os(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Tr(i),X.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.oi.forEach((m,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.oi.delete(m),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(m=>{h.push(o.markPotentiallyOrphaned(e,m))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,i){this.ci={},this.overlays={},this.li=new Go(0),this.hi=!1,this.hi=!0,this.Pi=new bA,this.referenceDelegate=e(this),this.Ti=new DA(this),this.indexManager=new fA,this.remoteDocumentCache=function(o){return new wA(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new cA(i),this.Ei=new AA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new SA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new RA(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new xA(this.li.next());return this.referenceDelegate.di(),s(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class xA extends WT{constructor(e){super(),this.currentSequenceNumber=e}}class nd{constructor(e){this.persistence=e,this.Vi=new ed,this.mi=null}static fi(e){return new nd(e)}get gi(){if(this.mi)return this.mi;throw yt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const o=ft.fromPath(s);return this.pi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return X.or([()=>X.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Po{constructor(e,i){this.persistence=e,this.yi=new rr(s=>e1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_A(this,i)}static fi(e,i){return new Po(e,i)}di(){}Ai(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}br(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return X.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(h=>h?X.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,m=>this.Dr(e,m,i).next(p=>{p||(s++,h.removeEntry(m,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ro(e.data.value)),i}Dr(e,i,s){return X.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ds=s,this.As=o}static Rs(e,i){let s=xt(),o=xt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new id(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AE()?8:t1(EE())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ws(e,i).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.bs(e,i,o,s).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new VA;return this.Ss(e,i,m).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,m,p.size)})}).next(()=>h.result)}Ds(e,i,s,o){return s.documentReadCount<this.gs?(Wr()<=Ut.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ts(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Wr()<=Ut.DEBUG&&at("QueryEngine","Query:",ts(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Wr()<=Ut.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ts(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(i))):X.resolve())}ws(e,i){if(cy(i))return X.resolve(null);let s=Kn(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=If(i,null,"F"),s=Kn(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const m=xt(...h);return this.ys.getDocuments(e,m).next(p=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,p);return this.Cs(i,_,m,v.readTime)?this.ws(e,If(i,null,"F")):this.Fs(e,_,i,v)}))})))}bs(e,i,s,o){return cy(i)||o.isEqual(Et.min())?X.resolve(null):this.ys.getDocuments(e,s).next(h=>{const m=this.vs(i,h);return this.Cs(i,m,s,o)?X.resolve(null):(Wr()<=Ut.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ts(i)),this.Fs(e,m,i,KT(o,Bl)).next(p=>p))})}vs(e,i){let s=new Ae(C_(e));return i.forEach((o,h)=>{Ko(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return Wr()<=Ut.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ts(i)),this.ys.getDocumentsMatchingQuery(e,i,fa.min(),s)}Fs(e,i,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="LocalStore",IA=3e8;class OA{constructor(e,i,s,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new ne(bt),this.Os=new rr(h=>Zf(h),$f),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function MA(r,e,i,s){return new OA(r,e,i,s)}async function Z_(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const m=[],p=[];let v=xt();for(const _ of o){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:m,addedBatchIds:p}))})})}function UA(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const N=_.batch,U=N.keys();let Y=X.resolve();return U.forEach(J=>{Y=Y.next(()=>A.getEntry(v,J)).next(it=>{const K=_.docVersions.get(J);kt(K!==null,48541),it.version.compareTo(K)<0&&(N.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))})}),Y.next(()=>p.mutationQueue.removeMutationBatch(v,N))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let v=xt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function $_(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function LA(r,e){const i=Tt(r),s=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const p=[];e.targetChanges.forEach((A,N)=>{const U=o.get(N);if(!U)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,N)));let Y=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?Y=Y.withResumeToken(ze.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,s)),o=o.insert(N,Y),function(it,K,st){return it.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=IA?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0}(U,Y,A)&&p.push(i.Ti.updateTargetData(h,Y))});let v=Vi(),_=xt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(zA(h,m,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(Et.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(N=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));p.push(A)}return X.waitFor(p).next(()=>m.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=o,h))}function zA(r,e,i){let s=xt(),o=xt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let m=Vi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Et.min())?(e.removeEntry(p,v.readTime),m=m.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),m=m.insert(p,v)):at(ad,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{qs:m,Qs:o}})}function BA(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ff),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function PA(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,e).next(h=>h?(o=h,X.resolve(o)):i.Ti.allocateTargetId(s).next(m=>(o=new sa(e,m,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function zf(r,e,i){const s=Tt(r),o=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,m=>s.persistence.referenceDelegate.removeTarget(m,o))}catch(m){if(!ms(m))throw m;at(ad,`Failed to update sequence numbers for target ${e}: ${m}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function Sy(r,e,i){const s=Tt(r);let o=Et.min(),h=xt();return s.persistence.runTransaction("Execute query","readwrite",m=>function(v,_,A){const N=Tt(v),U=N.Os.get(A);return U!==void 0?X.resolve(N.xs.get(U)):N.Ti.getTargetData(_,A)}(s,m,Kn(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(m,p.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(m,e,i?o:Et.min(),i?h:xt())).next(p=>(jA(s,b1(e),p),{documents:p,$s:h})))}function jA(r,e,i){let s=r.Ns.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class by{constructor(){this.activeTargetIds=V1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.xo=new by,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new by,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="ConnectivityMonitor";class wy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at(Ry,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){at(Ry,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao=null;function Bf(){return Ao===null?Ao=function(){return 268435456+Math.round(2147483648*Math.random())}():Ao++,"0x"+Ao.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="RestConnection",HA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GA{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Mo?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,i,s,o,h){const m=Bf(),p=this.jo(e,i.toUriEncodedString());at(pf,`Sending RPC '${e}' ${m}:`,p,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,o,h);const{host:_}=new URL(p),A=Gf(_);return this.Jo(e,p,v,s,A).then(N=>(at(pf,`Received RPC '${e}' ${m}: `,N),N),N=>{throw rs(pf,`RPC '${e}' ${m} failed with error: `,N,"url: ",p,"request:",s),N})}Yo(e,i,s,o,h,m){return this.zo(e,i,s,o,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const s=HA[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke="WebChannelConnection";class YA extends GA{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const m=Bf();return new Promise((p,v)=>{const _=new i_;_.setWithCredentials(!0),_.listenOnce(a_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case bo.NO_ERROR:const N=_.getResponseJson();at(ke,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(N)),p(N);break;case bo.TIMEOUT:at(ke,`RPC '${e}' ${m} timed out`),v(new ht($.DEADLINE_EXCEEDED,"Request time out"));break;case bo.HTTP_ERROR:const U=_.getStatus();if(at(ke,`RPC '${e}' ${m} failed with status:`,U,"response text:",_.getResponseText()),U>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const J=Y==null?void 0:Y.error;if(J&&J.status&&J.message){const it=function(st){const lt=st.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(lt)>=0?lt:$.UNKNOWN}(J.status);v(new ht(it,J.message))}else v(new ht($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ht($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{h_:e,streamId:m,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{at(ke,`RPC '${e}' ${m} completed.`)}});const A=JSON.stringify(o);at(ke,`RPC '${e}' ${m} sending request:`,o),_.send(i,"POST",A,s,15)})}I_(e,i,s){const o=Bf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=l_(),p=s_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");at(ke,`Creating RPC '${e}' stream ${o}: ${A}`,v);const N=m.createWebChannel(A,v);this.E_(N);let U=!1,Y=!1;const J=new QA({Zo:K=>{Y?at(ke,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(U||(at(ke,`Opening RPC '${e}' stream ${o} transport.`),N.open(),U=!0),at(ke,`RPC '${e}' stream ${o} sending:`,K),N.send(K))},Xo:()=>N.close()}),it=(K,st,lt)=>{K.listen(st,dt=>{try{lt(dt)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return it(N,Dl.EventType.OPEN,()=>{Y||(at(ke,`RPC '${e}' stream ${o} transport opened.`),J.__())}),it(N,Dl.EventType.CLOSE,()=>{Y||(Y=!0,at(ke,`RPC '${e}' stream ${o} transport closed`),J.u_(),this.d_(N))}),it(N,Dl.EventType.ERROR,K=>{Y||(Y=!0,rs(ke,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),J.u_(new ht($.UNAVAILABLE,"The operation could not be completed")))}),it(N,Dl.EventType.MESSAGE,K=>{var st;if(!Y){const lt=K.data[0];kt(!!lt,16349);const dt=lt,Lt=(dt==null?void 0:dt.error)||((st=dt[0])===null||st===void 0?void 0:st.error);if(Lt){at(ke,`RPC '${e}' stream ${o} received error:`,Lt);const _t=Lt.status;let Vt=function(w){const V=ge[w];if(V!==void 0)return z_(V)}(_t),x=Lt.message;Vt===void 0&&(Vt=$.INTERNAL,x="Unknown error status: "+_t+" with message "+Lt.message),Y=!0,J.u_(new ht(Vt,x)),N.close()}else at(ke,`RPC '${e}' stream ${o} received:`,lt),J.c_(lt)}}),it(p,r_.STAT_EVENT,K=>{K.stat===bf.PROXY?at(ke,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===bf.NOPROXY&&at(ke,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.a_()},0),J}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){return new K1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=s,this.R_=o,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="PersistentStream";class tv{constructor(e,i,s,o,h,m,p,v){this.xi=e,this.S_=s,this.D_=o,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new W_(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===i&&this.z_(s,o)},s=>{e(()=>{const o=new ht($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,i){const s=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return at(Cy,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(at(Cy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FA extends tv{constructor(e,i,s,o,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,m),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=W1(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Et.min():m.readTime?Zn(m.readTime):Et.min()}(e);return this.listener.Y_(i,s)}Z_(e){const i={};i.database=Lf(this.serializer),i.addTarget=function(h,m){let p;const v=m.target;if(p=Nf(v)?{documents:nA(h,v)}:{query:iA(h,v).gt},p.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){p.resumeToken=Z1(h,m.resumeToken);const _=Of(h,m.expectedCount);_!==null&&(p.expectedCount=_)}else if(m.snapshotVersion.compareTo(Et.min())>0){p.readTime=j_(h,m.snapshotVersion.toTimestamp());const _=Of(h,m.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const s=rA(this.serializer,e);s&&(i.labels=s),this.Q_(i)}X_(e){const i={};i.database=Lf(this.serializer),i.removeTarget=e,this.Q_(i)}}class XA extends tv{constructor(e,i,s,o,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,m),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=eA(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.ra(s,i)}ia(){const e={};e.database=Lf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>tA(this.serializer,s))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{}class ZA extends KA{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.zo(e,Mf(i,s),o,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ht($.UNKNOWN,h.toString())})}Yo(e,i,s,o,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,p])=>this.connection.Yo(e,Mf(i,s),o,m,p,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ht($.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class $A{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(xi(i),this.ua=!1):at("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="RemoteStore";class JA{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(m=>{s.enqueueAndForget(async()=>{sr(this)&&(at(ar,"Restarting streams for network reachability change."),await async function(v){const _=Tt(v);_.da.add(4),await Ql(_),_.Va.set("Unknown"),_.da.delete(4),await tc(_)}(this))})}),this.Va=new $A(s,o)}}async function tc(r){if(sr(r))for(const e of r.Aa)await e(!0)}async function Ql(r){for(const e of r.Aa)await e(!1)}function ev(r,e){const i=Tt(r);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),ud(i)?ld(i):ys(i).N_()&&sd(i,e))}function rd(r,e){const i=Tt(r),s=ys(i);i.Ea.delete(e),s.N_()&&nv(i,e),i.Ea.size===0&&(s.N_()?s.k_():sr(i)&&i.Va.set("Unknown"))}function sd(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ys(r).Z_(e)}function nv(r,e){r.ma.Ke(e),ys(r).X_(e)}function ld(r){r.ma=new Q1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),ys(r).start(),r.Va.ca()}function ud(r){return sr(r)&&!ys(r).O_()&&r.Ea.size>0}function sr(r){return Tt(r).da.size===0}function iv(r){r.ma=void 0}async function WA(r){r.Va.set("Online")}async function tS(r){r.Ea.forEach((e,i)=>{sd(r,e)})}async function eS(r,e){iv(r),ud(r)?(r.Va.Pa(e),ld(r)):r.Va.set("Unknown")}async function nS(r,e,i){if(r.Va.set("Online"),e instanceof P_&&e.state===2&&e.cause)try{await async function(o,h){const m=h.cause;for(const p of h.targetIds)o.Ea.has(p)&&(await o.remoteSyncer.rejectListen(p,m),o.Ea.delete(p),o.ma.removeTarget(p))}(r,e)}catch(s){at(ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jo(r,s)}else if(e instanceof Do?r.ma.Xe(e):e instanceof B_?r.ma.ot(e):r.ma.nt(e),!i.isEqual(Et.min()))try{const s=await $_(r.localStore);i.compareTo(s)>=0&&await function(h,m){const p=h.ma.It(m);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ea.get(_);A&&h.Ea.set(_,A.withResumeToken(v.resumeToken,m))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Ea.get(v);if(!A)return;h.Ea.set(v,A.withResumeToken(ze.EMPTY_BYTE_STRING,A.snapshotVersion)),nv(h,v);const N=new sa(A.target,v,_,A.sequenceNumber);sd(h,N)}),h.remoteSyncer.applyRemoteEvent(p)}(r,i)}catch(s){at(ar,"Failed to raise snapshot:",s),await jo(r,s)}}async function jo(r,e,i){if(!ms(e))throw e;r.da.add(1),await Ql(r),r.Va.set("Offline"),i||(i=()=>$_(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(ar,"Retrying IndexedDB access"),await i(),r.da.delete(1),await tc(r)})}function av(r,e){return e().catch(i=>jo(r,i,e))}async function ec(r){const e=Tt(r),i=pa(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ff;for(;iS(e);)try{const o=await BA(e.localStore,s);if(o===null){e.Ia.length===0&&i.k_();break}s=o.batchId,aS(e,o)}catch(o){await jo(e,o)}rv(e)&&sv(e)}function iS(r){return sr(r)&&r.Ia.length<10}function aS(r,e){r.Ia.push(e);const i=pa(r);i.N_()&&i.ea&&i.ta(e.mutations)}function rv(r){return sr(r)&&!pa(r).O_()&&r.Ia.length>0}function sv(r){pa(r).start()}async function rS(r){pa(r).ia()}async function sS(r){const e=pa(r);for(const i of r.Ia)e.ta(i.mutations)}async function lS(r,e,i){const s=r.Ia.shift(),o=Wf.from(s,e,i);await av(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ec(r)}async function uS(r,e){e&&pa(r).ea&&await async function(s,o){if(function(m){return H1(m)&&m!==$.ABORTED}(o.code)){const h=s.Ia.shift();pa(s).L_(),await av(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await ec(s)}}(r,e),rv(r)&&sv(r)}async function Dy(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),at(ar,"RemoteStore received new credentials");const s=sr(i);i.da.add(3),await Ql(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await tc(i)}async function oS(r,e){const i=Tt(r);e?(i.da.delete(2),await tc(i)):e||(i.da.add(2),await Ql(i),i.Va.set("Unknown"))}function ys(r){return r.fa||(r.fa=function(i,s,o){const h=Tt(i);return h.oa(),new FA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:WA.bind(null,r),n_:tS.bind(null,r),i_:eS.bind(null,r),Y_:nS.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),ud(r)?ld(r):r.Va.set("Unknown")):(await r.fa.stop(),iv(r))})),r.fa}function pa(r){return r.ga||(r.ga=function(i,s,o){const h=Tt(i);return h.oa(),new XA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:rS.bind(null,r),i_:uS.bind(null,r),na:sS.bind(null,r),ra:lS.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await ec(r)):(await r.ga.stop(),r.Ia.length>0&&(at(ar,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const m=Date.now()+s,p=new od(e,i,m,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cd(r,e){if(xi("AsyncQueue",`${e}: ${r}`),ms(r))return new ht($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{static emptySet(e){return new as(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=xl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof as)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new as;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.pa=new ne(ft.comparator)}track(e){const i=e.doc.key,s=this.pa.get(i);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(i,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(i):e.type===1&&s.type===2?this.pa=this.pa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,s)=>{e.push(s)}),e}}class cs{constructor(e,i,s,o,h,m,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const m=[];return i.forEach(p=>{m.push({type:0,doc:p})}),new cs(e,i,as.emptySet(i),m,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class hS{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Tt(i),h=o.queries;o.queries=Vy(),h.forEach((m,p)=>{for(const v of p.Sa)v.onError(s)})})(this,new ht($.ABORTED,"Firestore shutting down"))}}function Vy(){return new rr(r=>w_(r),Xo)}async function fS(r,e){const i=Tt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Da()&&e.va()&&(s=2):(h=new cS,s=e.va()?0:1);try{switch(s){case 0:h.ba=await i.onListen(o,!0);break;case 1:h.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(m){const p=cd(m,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&hd(i)}async function dS(r,e){const i=Tt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const m=h.Sa.indexOf(e);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?o=e.va()?0:1:!h.Da()&&e.va()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function mS(r,e){const i=Tt(r);let s=!1;for(const o of e){const h=o.query,m=i.queries.get(h);if(m){for(const p of m.Sa)p.Ma(o)&&(s=!0);m.ba=o}}s&&hd(i)}function gS(r,e,i){const s=Tt(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function hd(r){r.Ca.forEach(e=>{e.next()})}var Pf,Ny;(Ny=Pf||(Pf={})).xa="default",Ny.Cache="cache";class pS{constructor(e,i,s){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new cs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const s=i!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this.key=e}}class uv{constructor(e){this.key=e}}class yS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.Za=C_(e),this.Xa=new as(this.Za)}get eu(){return this.Ha}tu(e,i){const s=i?i.nu:new xy,o=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,m=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const U=o.get(A),Y=Ko(this.query,N)?N:null,J=!!U&&this.mutatedKeys.has(U.key),it=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let K=!1;U&&Y?U.data.isEqual(Y.data)?J!==it&&(s.track({type:3,doc:Y}),K=!0):this.ru(U,Y)||(s.track({type:2,doc:Y}),K=!0,(v&&this.Za(Y,v)>0||_&&this.Za(Y,_)<0)&&(p=!0)):!U&&Y?(s.track({type:0,doc:Y}),K=!0):U&&!Y&&(s.track({type:1,doc:U}),K=!0,(v||_)&&(p=!0)),K&&(Y?(m=m.add(Y),h=it?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Xa:m,nu:s,Cs:p,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const m=e.nu.wa();m.sort((A,N)=>function(Y,J){const it=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:K})}};return it(Y)-it(J)}(A.type,N.type)||this.Za(A.doc,N.doc)),this.iu(s),o=o!=null&&o;const p=i&&!o?this.su():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Ja;return this.Ja=v,m.length!==0||_?{snapshot:new cs(this.query,e.Xa,h,m,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:p}:{ou:p}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new xy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=xt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const i=[];return e.forEach(s=>{this.Ya.has(s)||i.push(new uv(s))}),this.Ya.forEach(s=>{e.has(s)||i.push(new lv(s))}),i}au(e){this.Ha=e.$s,this.Ya=xt();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return cs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const fd="SyncEngine";class _S{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class vS{constructor(e){this.key=e,this.cu=!1}}class ES{constructor(e,i,s,o,h,m){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new rr(p=>w_(p),Xo),this.Pu=new Map,this.Tu=new Set,this.Iu=new ne(ft.comparator),this.Eu=new Map,this.du=new ed,this.Au={},this.Ru=new Map,this.Vu=os.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function TS(r,e,i=!0){const s=mv(r);let o;const h=s.hu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.uu()):o=await ov(s,e,i,!0),o}async function AS(r,e){const i=mv(r);await ov(i,e,!0,!1)}async function ov(r,e,i,s){const o=await PA(r.localStore,Kn(e)),h=o.targetId,m=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await SS(r,e,h,m==="current",o.resumeToken)),r.isPrimaryClient&&i&&ev(r.remoteStore,o),p}async function SS(r,e,i,s,o){r.fu=(N,U,Y)=>async function(it,K,st,lt){let dt=K.view.tu(st);dt.Cs&&(dt=await Sy(it.localStore,K.query,!1).then(({documents:x})=>K.view.tu(x,dt)));const Lt=lt&&lt.targetChanges.get(K.targetId),_t=lt&&lt.targetMismatches.get(K.targetId)!=null,Vt=K.view.applyChanges(dt,it.isPrimaryClient,Lt,_t);return Oy(it,K.targetId,Vt.ou),Vt.snapshot}(r,N,U,Y);const h=await Sy(r.localStore,e,!0),m=new yS(e,h.$s),p=m.tu(h.documents),v=Gl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=m.applyChanges(p,r.isPrimaryClient,v);Oy(r,i,_.ou);const A=new _S(e,i,m);return r.hu.set(e,A),r.Pu.has(i)?r.Pu.get(i).push(e):r.Pu.set(i,[e]),_.snapshot}async function bS(r,e,i){const s=Tt(r),o=s.hu.get(e),h=s.Pu.get(o.targetId);if(h.length>1)return s.Pu.set(o.targetId,h.filter(m=>!Xo(m,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&rd(s.remoteStore,o.targetId),jf(s,o.targetId)}).catch(ds)):(jf(s,o.targetId),await zf(s.localStore,o.targetId,!0))}async function RS(r,e){const i=Tt(r),s=i.hu.get(e),o=i.Pu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),rd(i.remoteStore,s.targetId))}async function wS(r,e,i){const s=OS(r);try{const o=await function(m,p){const v=Tt(m),_=Ke.now(),A=p.reduce((Y,J)=>Y.add(J.key),xt());let N,U;return v.persistence.runTransaction("Locally write mutations","readwrite",Y=>{let J=Vi(),it=xt();return v.Bs.getEntries(Y,A).next(K=>{J=K,J.forEach((st,lt)=>{lt.isValidDocument()||(it=it.add(st))})}).next(()=>v.localDocuments.getOverlayedDocuments(Y,J)).next(K=>{N=K;const st=[];for(const lt of p){const dt=B1(lt,N.get(lt.key).overlayedDocument);dt!=null&&st.push(new ps(lt.key,dt,__(dt.value.mapValue),wi.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,st,p)}).next(K=>{U=K;const st=K.applyToLocalDocumentSet(N,it);return v.documentOverlayCache.saveOverlays(Y,K.batchId,st)})}).then(()=>({batchId:U.batchId,changes:x_(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(m,p,v){let _=m.Au[m.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(p,v),m.Au[m.currentUser.toKey()]=_}(s,o.batchId,i),await Yl(s,o.changes),await ec(s.remoteStore)}catch(o){const h=cd(o,"Failed to persist write");i.reject(h)}}async function cv(r,e){const i=Tt(r);try{const s=await LA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const m=i.Eu.get(h);m&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?m.cu=!0:o.modifiedDocuments.size>0?kt(m.cu,14607):o.removedDocuments.size>0&&(kt(m.cu,42227),m.cu=!1))}),await Yl(i,s,e)}catch(s){await ds(s)}}function Iy(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.hu.forEach((h,m)=>{const p=m.view.Fa(e);p.snapshot&&o.push(p.snapshot)}),function(m,p){const v=Tt(m);v.onlineState=p;let _=!1;v.queries.forEach((A,N)=>{for(const U of N.Sa)U.Fa(p)&&(_=!0)}),_&&hd(v)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CS(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let m=new ne(ft.comparator);m=m.insert(h,He.newNoDocument(h,Et.min()));const p=xt().add(h),v=new Wo(Et.min(),new Map,new ne(bt),m,p);await cv(s,v),s.Iu=s.Iu.remove(h),s.Eu.delete(e),dd(s)}else await zf(s.localStore,e,!1).then(()=>jf(s,e,i)).catch(ds)}async function DS(r,e){const i=Tt(r),s=e.batch.batchId;try{const o=await UA(i.localStore,e);fv(i,s,null),hv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(i,o)}catch(o){await ds(o)}}async function xS(r,e,i){const s=Tt(r);try{const o=await function(m,p){const v=Tt(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(N=>(kt(N!==null,37113),A=N.keys(),v.mutationQueue.removeMutationBatch(_,N))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);fv(s,e,i),hv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Yl(s,o)}catch(o){await ds(o)}}function hv(r,e){(r.Ru.get(e)||[]).forEach(i=>{i.resolve()}),r.Ru.delete(e)}function fv(r,e,i){const s=Tt(r);let o=s.Au[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function jf(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),i&&r.lu.gu(s,i);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||dv(r,s)})}function dv(r,e){r.Tu.delete(e.path.canonicalString());const i=r.Iu.get(e);i!==null&&(rd(r.remoteStore,i),r.Iu=r.Iu.remove(e),r.Eu.delete(i),dd(r))}function Oy(r,e,i){for(const s of i)s instanceof lv?(r.du.addReference(s.key,e),VS(r,s)):s instanceof uv?(at(fd,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||dv(r,s.key)):yt(19791,{pu:s})}function VS(r,e){const i=e.key,s=i.path.canonicalString();r.Iu.get(i)||r.Tu.has(s)||(at(fd,"New document in limbo: "+i),r.Tu.add(s),dd(r))}function dd(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const i=new ft(te.fromString(e)),s=r.Vu.next();r.Eu.set(s,new vS(i)),r.Iu=r.Iu.insert(i,s),ev(r.remoteStore,new sa(Kn(R_(i.path)),s,"TargetPurposeLimboResolution",Go.le))}}async function Yl(r,e,i){const s=Tt(r),o=[],h=[],m=[];s.hu.isEmpty()||(s.hu.forEach((p,v)=>{m.push(s.fu(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const N=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(_){o.push(_);const N=id.Rs(v.targetId,_);h.push(N)}}))}),await Promise.all(m),s.lu.Y_(o),await async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>X.forEach(_,U=>X.forEach(U.ds,Y=>A.persistence.referenceDelegate.addReference(N,U.targetId,Y)).next(()=>X.forEach(U.As,Y=>A.persistence.referenceDelegate.removeReference(N,U.targetId,Y)))))}catch(N){if(!ms(N))throw N;at(ad,"Failed to update sequence numbers: "+N)}for(const N of _){const U=N.targetId;if(!N.fromCache){const Y=A.xs.get(U),J=Y.snapshotVersion,it=Y.withLastLimboFreeSnapshotVersion(J);A.xs=A.xs.insert(U,it)}}}(s.localStore,h))}async function NS(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){at(fd,"User change. New user:",e.toKey());const s=await Z_(i.localStore,e);i.currentUser=e,function(h,m){h.Ru.forEach(p=>{p.forEach(v=>{v.reject(new ht($.CANCELLED,m))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yl(i,s.ks)}}function IS(r,e){const i=Tt(r),s=i.Eu.get(e);if(s&&s.cu)return xt().add(s.key);{let o=xt();const h=i.Pu.get(e);if(!h)return o;for(const m of h){const p=i.hu.get(m);o=o.unionWith(p.view.eu)}return o}}function mv(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CS.bind(null,e),e.lu.Y_=mS.bind(null,e.eventManager),e.lu.gu=gS.bind(null,e.eventManager),e}function OS(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xS.bind(null,e),e}class ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=J_(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return MA(this.persistence,new NA,e.initialUser,this.serializer)}Su(e){return new K_(nd.fi,this.serializer)}bu(e){return new kA}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ko.provider={build:()=>new ko};class MS extends ko{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){kt(this.persistence.referenceDelegate instanceof Po,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pA(s,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new K_(s=>Po.fi(s,i),this.serializer)}}class kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Iy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NS.bind(null,this.syncEngine),await oS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hS}()}createDatastore(e){const i=J_(e.databaseInfo.databaseId),s=function(h){return new YA(h)}(e.databaseInfo);return function(h,m,p,v){return new ZA(h,m,p,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,m,p){return new JA(s,o,h,m,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Iy(this.syncEngine,i,0),function(){return wy.C()?new wy:new qA}())}createSyncEngine(e,i){return function(o,h,m,p,v,_,A){const N=new ES(o,h,m,p,v,_);return A&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);at(ar,"RemoteStore shutting down."),h.da.add(5),await Ql(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}kf.provider={build:()=>new kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class LS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=qe.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async m=>{at(ya,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(s,m=>(at(ya,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=cd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _f(r,e){r.asyncQueue.verifyOperationInProgress(),at(ya,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Z_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function My(r,e){r.asyncQueue.verifyOperationInProgress();const i=await zS(r);at(ya,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Dy(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Dy(e.remoteStore,o)),r._onlineComponents=e}async function zS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ya,"Using user provided OfflineComponentProvider");try{await _f(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;rs("Error using user provided cache. Falling back to memory cache: "+i),await _f(r,new ko)}}else at(ya,"Using default OfflineComponentProvider"),await _f(r,new MS(void 0));return r._offlineComponents}async function gv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ya,"Using user provided OnlineComponentProvider"),await My(r,r._uninitializedComponentsProvider._online)):(at(ya,"Using default OnlineComponentProvider"),await My(r,new kf))),r._onlineComponents}function BS(r){return gv(r).then(e=>e.syncEngine)}async function PS(r){const e=await gv(r),i=e.eventManager;return i.onListen=TS.bind(null,e.syncEngine),i.onUnlisten=bS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=AS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=RS.bind(null,e.syncEngine),i}function jS(r,e,i={}){const s=new ca;return r.asyncQueue.enqueueAndForget(async()=>function(h,m,p,v,_){const A=new US({next:U=>{A.xu(),m.enqueueAndForget(()=>dS(h,N)),U.fromCache&&v.source==="server"?_.reject(new ht($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),N=new pS(p,A,{includeMetadataChanges:!0,Qa:!0});return fS(h,N)}(await PS(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(r,e,i){if(!i)throw new ht($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kS(r,e,i,s){if(e===!0&&s===!0)throw new ht($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ly(r){if(!ft.isDocumentKey(r))throw new ht($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zy(r){if(ft.isDocumentKey(r))throw new ht($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qS(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function qo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qS(r);throw new ht($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="firestore.googleapis.com",By=!0;class Py{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ht($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_v,this.ssl=By}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:By;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mA)throw new ht($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ht($.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new jT;switch(s.type){case"firstParty":return new GT(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Uy.get(i);s&&(at("ComponentProvider","Removing Datastore"),Uy.delete(i),s.terminate())}(this),Promise.resolve()}}function HS(r,e,i,s={}){var o;r=qo(r,nc);const h=Gf(e),m=r._getSettings(),p=Object.assign(Object.assign({},m),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${i}`;h&&(gE(`https://${v}`),vE("Firestore",!0)),m.host!==_v&&m.host!==v&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},m),{host:v,ssl:h,emulatorOptions:s});if(!No(_,p)&&(r._setSettings(_),s.mockUserToken)){let A,N;if(typeof s.mockUserToken=="string")A=s.mockUserToken,N=qe.MOCK_USER;else{A=pE(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new ht($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new qe(U)}r._authCredentials=new kT(new o_(A,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class Ci{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}}class ha extends ic{constructor(e,i,s){super(e,i,R_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new ft(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function GS(r,e,...i){if(r=Ky(r),yv("collection","path",e),r instanceof nc){const s=te.fromString(e,...i);return zy(s),new ha(r,null,s)}{if(!(r instanceof Ci||r instanceof ha))throw new ht($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return zy(s),new ha(r.firestore,null,s)}}function QS(r,e,...i){if(r=Ky(r),arguments.length===1&&(e=h_.newId()),yv("doc","path",e),r instanceof nc){const s=te.fromString(e,...i);return Ly(s),new Ci(r,null,new ft(s))}{if(!(r instanceof Ci||r instanceof ha))throw new ht($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return Ly(s),new Ci(r.firestore,r instanceof ha?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="AsyncQueue";class ky{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new W_(this,"async_queue_retry"),this.rc=()=>{const s=yf();s&&at(jy,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const i=yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new ca;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ms(e))throw e;at(jy,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,xi("INTERNAL UNHANDLED ERROR: ",qy(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(e,i,s){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=od.createAndSchedule(this,e,i,s,h=>this.uc(h));return this.Zu.push(o),o}oc(){this.Xu&&yt(47125,{cc:qy(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function qy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class md extends nc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new ky,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ky(e),this._firestoreClient=void 0,await e}}}function YS(r,e){const i=typeof r=="object"?r:xT(),s=typeof r=="string"?r:Mo,o=bT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=dE("firestore");h&&HS(o,...h)}return o}function vv(r){if(r._terminated)throw new ht($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FS(r),r._firestoreClient}function FS(r){var e,i,s;const o=r._freezeSettings(),h=function(p,v,_,A){return new r1(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,pv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LS(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(ze.fromBase64String(e))}catch(i){throw new ht($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ho(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}const ZS=new RegExp("[~\\*/\\[\\]]");function $S(r,e,i){if(e.search(ZS)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new Ev(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function Hy(r,e,i,s,o){let h=`Function ${e}() called with invalid data`;h+=". ";let m="";return new ht($.INVALID_ARGUMENT,h+r+m)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Av("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class JS extends Tv{data(){return super.data()}}function Av(r,e){return typeof e=="string"?$S(r,e):e instanceof Ev?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tb{convertValue(e,i="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return gs(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Cf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(m=>ce(m.doubleValue));return new KS(h)}convertGeoPoint(e){return new XS(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Yo(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const i=da(e);return new Ke(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);kt(F_(s),9688,{name:e});const o=new jl(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return o.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eb extends Tv{constructor(e,i,s,o,h,m){super(e,i,s,o,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Av("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xo extends eb{data(e={}){return super.data(e)}}class nb{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new So(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new xo(this._firestore,this._userDataWriter,s.key,s,new So(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(p=>{const v=new xo(o._firestore,o._userDataWriter,p.doc.key,p.doc,new So(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}})}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new xo(o._firestore,o._userDataWriter,p.doc.key,p.doc,new So(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),A=m.indexOf(p.doc.key)),{type:ib(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ib(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}class ab extends tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,i)}}function rb(r){r=qo(r,ic);const e=qo(r.firestore,md),i=vv(e),s=new ab(e);return WS(r._query),jS(i,r._query).then(o=>new nb(e,s,r,o))}function sb(r){return lb(qo(r.firestore,md),[new Jf(r._key,wi.none())])}function lb(r,e){return function(s,o){const h=new ca;return s.asyncQueue.enqueueAndForget(async()=>wS(await BS(s),o,h)),h.promise}(vv(r),e)}(function(e,i=!0){(function(o){fs=o})(DT),Oo(new Ll("firestore",(s,{instanceIdentifier:o,options:h})=>{const m=s.getProvider("app").getImmediate(),p=new md(new qT(s.getProvider("auth-internal")),new QT(m,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(_.options.projectId,A)}(m,o),m);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),is(Fp,Xp,e),is(Fp,Xp,"esm2017")})();var ub="firebase",ob="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(ub,ob,"app");const cb={apiKey:"AIzaSyDN1sTee52txGVYpQwSWgAD7FUr4NNJinQ",authDomain:"summery-23833.firebaseapp.com",projectId:"summery-23833",storageBucket:"summery-23833.firebasestorage.app",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefghijklmnop"},hb=Wy(cb),Gy=YS(hb),fb=()=>{const[r,e]=xn.useState(!1),i=()=>{e(!r)};return G.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:G.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:G.jsxs("div",{className:"flex justify-between items-center h-16",children:[G.jsx("div",{className:"flex items-center",children:G.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"🎵 YouTube BGMチャンネル分析"})}),G.jsx("div",{className:"flex items-center space-x-4",children:G.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"ダークモード切り替え",children:"🌗"})})]})})})},db=({onAddChannel:r})=>{const[e,i]=xn.useState(""),[s,o]=xn.useState(!1),h=async m=>{if(m.preventDefault(),!!e.trim()){o(!0);try{await r(e.trim()),i("")}catch(p){console.error("チャンネル追加エラー:",p)}finally{o(!1)}}};return G.jsxs("div",{className:"card mb-8",children:[G.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"チャンネル検索・追加"}),G.jsxs("form",{onSubmit:h,className:"flex gap-4",children:[G.jsx("input",{type:"text",value:e,onChange:m=>i(m.target.value),placeholder:"チャンネルURL または チャンネルID を入力",className:"input-field flex-1",disabled:s}),G.jsx("button",{type:"submit",disabled:s||!e.trim(),className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s?G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"分析中..."]}):G.jsx(G.Fragment,{children:"📊 分析追加"})})]})]})},mb=({filters:r,onFiltersChange:e})=>{const i=h=>{e({...r,sortBy:h})},s=h=>{e({...r,filterBy:h})},o=h=>{e({...r,search:h})};return G.jsx("div",{className:"card mb-8",children:G.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("label",{className:"text-sm font-medium text-gray-700",children:"並び替え:"}),G.jsxs("select",{value:r.sortBy,onChange:h=>i(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[G.jsx("option",{value:"growth_rate",children:"成長率順"}),G.jsx("option",{value:"subscribers",children:"登録者数順"}),G.jsx("option",{value:"views",children:"再生回数順"}),G.jsx("option",{value:"recent_videos",children:"最新動画数順"}),G.jsx("option",{value:"added_date",children:"追加日順"})]})]}),G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx("label",{className:"text-sm font-medium text-gray-700",children:"フィルター:"}),G.jsxs("select",{value:r.filterBy,onChange:h=>s(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[G.jsx("option",{value:"all",children:"全て"}),G.jsx("option",{value:"growing",children:"成長中"}),G.jsx("option",{value:"large",children:"大規模"}),G.jsx("option",{value:"small",children:"小規模"})]})]}),G.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[G.jsx("label",{className:"text-sm font-medium text-gray-700",children:"検索:"}),G.jsx("input",{type:"text",value:r.search,onChange:h=>o(h.target.value),placeholder:"チャンネル名検索...",className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-1 min-w-0"})]})]})})},gb=({channels:r})=>{const e=r.length,i=r.length>0?Math.round(r.reduce((o,h)=>o+(h.growthRate||0),0)/r.length):0,s=r.length>0?r.reduce((o,h)=>(h.growthRate||0)>(o.growthRate||0)?h:o,r[0]):null;return G.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[G.jsxs("div",{className:"stat-card",children:[G.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:e}),G.jsx("div",{className:"text-sm text-gray-600",children:"追跡チャンネル数"})]}),G.jsxs("div",{className:"stat-card",children:[G.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[i,"%"]}),G.jsx("div",{className:"text-sm text-gray-600",children:"平均成長率"})]}),G.jsxs("div",{className:"stat-card",children:[G.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",children:s?s.channelTitle:"-"}),G.jsx("div",{className:"text-sm text-gray-600",children:"トップパフォーマー"})]})]})},pb=({channel:r,onChannelClick:e})=>{const i=h=>h>=1e6?`${(h/1e6).toFixed(1)}M`:h>=1e3?`${(h/1e3).toFixed(1)}K`:h.toString(),s=h=>h?(h.toDate?h.toDate():new Date(h)).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"}):"-",o=h=>h>=50?"bg-green-100 text-green-800":h>=20?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return G.jsx("div",{className:"channel-card cursor-pointer",onClick:()=>e(r),children:G.jsxs("div",{className:"flex items-start gap-4",children:[G.jsx("img",{src:r.thumbnailUrl||"/default-avatar.png",alt:r.channelTitle,className:"w-16 h-16 rounded-full object-cover flex-shrink-0",onError:h=>{h.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),G.jsxs("div",{className:"flex-1 min-w-0",children:[G.jsx("h3",{className:"font-semibold text-gray-900 truncate mb-1",children:r.channelTitle}),G.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[G.jsxs("span",{className:"text-sm text-gray-600",children:[i(r.subscriberCount)," 登録者"]}),G.jsx("span",{className:"text-sm text-gray-500",children:"•"}),G.jsxs("span",{className:"text-sm text-gray-600",children:["開設: ",s(r.firstVideoDate)]})]}),G.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:r.keywords&&r.keywords.slice(0,3).map((h,m)=>G.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:h},m))}),r.latestVideo&&G.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[G.jsx("span",{className:"font-medium",children:"最新:"})," ",r.latestVideo.title]}),G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${o(r.growthRate||0)}`,children:["成長率 ",r.growthRate||0,"%"]}),G.jsx("button",{onClick:h=>{h.stopPropagation(),window.open(r.channelUrl,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"チャンネル訪問 →"})]})]})]})})},yb=({channels:r,onChannelClick:e})=>r.length===0?G.jsxs("div",{className:"text-center py-16",children:[G.jsx("div",{className:"text-6xl mb-4",children:"📈"}),G.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"まだチャンネルが追加されていません"}),G.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"上記の検索欄からYouTubeチャンネルを追加して分析を開始してください"})]}):G.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:r.map(i=>G.jsx(pb,{channel:i,onChannelClick:e},i.channelId))}),_b=({channel:r,isOpen:e,onClose:i,onRemove:s})=>{if(!e||!r)return null;const o=p=>p>=1e6?`${(p/1e6).toFixed(1)}M`:p>=1e3?`${(p/1e3).toFixed(1)}K`:p.toString(),h=p=>p?(p.toDate?p.toDate():new Date(p)).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}):"-",m=()=>{confirm("このチャンネルを追跡リストから削除しますか？")&&(s(r.channelId),i())};return G.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:G.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[G.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[G.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"チャンネル詳細"}),G.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),G.jsxs("div",{className:"p-6",children:[G.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[G.jsx("img",{src:r.thumbnailUrl||"/default-avatar.png",alt:r.channelTitle,className:"w-24 h-24 rounded-full object-cover",onError:p=>{p.target.src="https://via.placeholder.com/96x96/e5e7eb/9ca3af?text=🎵"}}),G.jsxs("div",{className:"flex-1",children:[G.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.channelTitle}),G.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[G.jsxs("div",{children:[G.jsx("span",{className:"text-gray-600",children:"登録者数:"}),G.jsx("span",{className:"ml-2 font-semibold",children:o(r.subscriberCount)})]}),G.jsxs("div",{children:[G.jsx("span",{className:"text-gray-600",children:"総再生回数:"}),G.jsx("span",{className:"ml-2 font-semibold",children:o(r.totalViews||0)})]}),G.jsxs("div",{children:[G.jsx("span",{className:"text-gray-600",children:"動画数:"}),G.jsx("span",{className:"ml-2 font-semibold",children:r.videoCount||"-"})]}),G.jsxs("div",{children:[G.jsx("span",{className:"text-gray-600",children:"開設日:"}),G.jsx("span",{className:"ml-2 font-semibold",children:h(r.firstVideoDate)})]}),G.jsxs("div",{className:"col-span-2",children:[G.jsx("span",{className:"text-gray-600",children:"成長率:"}),G.jsxs("span",{className:"ml-2 font-semibold text-blue-600",children:[r.growthRate||0,"%"]})]})]})]})]}),r.keywords&&r.keywords.length>0&&G.jsxs("div",{className:"mb-6",children:[G.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:"タグ"}),G.jsx("div",{className:"flex flex-wrap gap-2",children:r.keywords.map((p,v)=>G.jsx("span",{className:"inline-block px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:p},v))})]}),r.latestVideo&&G.jsxs("div",{className:"mb-6",children:[G.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"最新動画"}),G.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[G.jsx("h6",{className:"font-medium text-gray-900 mb-1",children:r.latestVideo.title}),G.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["投稿日: ",h(r.latestVideo.publishedAt)]}),G.jsx("a",{href:r.latestVideo.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"動画を見る →"})]})]})]}),G.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[G.jsx("button",{onClick:()=>window.open(r.channelUrl,"_blank"),className:"btn-primary flex-1",children:"チャンネル訪問"}),G.jsx("button",{onClick:m,className:"px-4 py-2 bg-red-100 text-red-700 font-medium rounded-lg hover:bg-red-200 transition-colors",children:"追跡削除"})]})]})})};function vb(){const[r,e]=xn.useState([]),[i,s]=xn.useState([]),[o,h]=xn.useState(!0),[m,p]=xn.useState(null),[v,_]=xn.useState({sortBy:"growth_rate",filterBy:"all",search:""});xn.useEffect(()=>{A()},[]),xn.useEffect(()=>{N()},[r,v]);const A=async()=>{try{h(!0);const st=(await rb(GS(Gy,"bgm_channels"))).docs.map(lt=>({id:lt.id,...lt.data()}));e(st)}catch(K){console.error("チャンネルデータの読み込みエラー:",K)}finally{h(!1)}},N=()=>{let K=[...r];switch(v.search&&(K=K.filter(st=>st.channelTitle.toLowerCase().includes(v.search.toLowerCase()))),v.filterBy){case"growing":K=K.filter(st=>(st.growthRate||0)>20);break;case"large":K=K.filter(st=>st.subscriberCount>1e5);break;case"small":K=K.filter(st=>st.subscriberCount<1e4);break}switch(v.sortBy){case"growth_rate":K.sort((st,lt)=>(lt.growthRate||0)-(st.growthRate||0));break;case"subscribers":K.sort((st,lt)=>lt.subscriberCount-st.subscriberCount);break;case"views":K.sort((st,lt)=>(lt.totalViews||0)-(st.totalViews||0));break;case"added_date":K.sort((st,lt)=>{var _t,Vt,x,S;const dt=((Vt=(_t=st.createdAt)==null?void 0:_t.toDate)==null?void 0:Vt.call(_t))||new Date(st.createdAt);return(((S=(x=lt.createdAt)==null?void 0:x.toDate)==null?void 0:S.call(x))||new Date(lt.createdAt))-dt});break}s(K)},U=async K=>{console.log("チャンネル追加:",K),await A()},Y=async K=>{try{await sb(QS(Gy,"bgm_channels",K)),await A()}catch(st){console.error("チャンネル削除エラー:",st)}},J=K=>{p(K)},it=()=>{p(null)};return o?G.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:G.jsxs("div",{className:"text-center",children:[G.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),G.jsx("p",{className:"text-gray-600",children:"チャンネルデータを読み込み中..."})]})}):G.jsxs("div",{className:"min-h-screen bg-gray-50",children:[G.jsx(fb,{}),G.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[G.jsx(db,{onAddChannel:U}),G.jsx(mb,{filters:v,onFiltersChange:_}),G.jsx(gb,{channels:i}),G.jsx(yb,{channels:i,onChannelClick:J})]}),G.jsx(_b,{channel:m,isOpen:!!m,onClose:it,onRemove:Y})]})}nE.createRoot(document.getElementById("root")).render(G.jsx(xn.StrictMode,{children:G.jsx(vb,{})}));
