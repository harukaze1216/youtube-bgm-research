(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var _f={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function Fb(){if(Wp)return Ul;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var ty;function Yb(){return ty||(ty=1,_f.exports=Fb()),_f.exports}var b=Yb(),bf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function Kb(){if(ey)return St;ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,st={};function tt(O,Y,rt){this.props=O,this.context=Y,this.refs=st,this.updater=rt||z}tt.prototype.isReactComponent={},tt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},tt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=tt.prototype;function ht(O,Y,rt){this.props=O,this.context=Y,this.refs=st,this.updater=rt||z}var mt=ht.prototype=new Tt;mt.constructor=ht,X(mt,tt.prototype),mt.isPureReactComponent=!0;var W=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function I(O,Y,rt,et,ft,xt){return rt=xt.ref,{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:xt}}function x(O,Y){return I(O.type,Y,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function M(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return Y[rt]})}var C=/\/+/g;function D(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):Y.toString(36)}function S(){}function Wt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(S,S):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function te(O,Y,rt,et,ft){var xt=typeof O;(xt==="undefined"||xt==="boolean")&&(O=null);var vt=!1;if(O===null)vt=!0;else switch(xt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(O.$$typeof){case s:case e:vt=!0;break;case A:return vt=O._init,te(vt(O._payload),Y,rt,et,ft)}}if(vt)return ft=ft(O),vt=et===""?"."+D(O,0):et,W(ft)?(rt="",vt!=null&&(rt=vt.replace(C,"$&/")+"/"),te(ft,Y,rt,"",function(fn){return fn})):ft!=null&&(R(ft)&&(ft=x(ft,rt+(ft.key==null||O&&O.key===ft.key?"":(""+ft.key).replace(C,"$&/")+"/")+vt)),Y.push(ft)),1;vt=0;var de=et===""?".":et+":";if(W(O))for(var Ft=0;Ft<O.length;Ft++)et=O[Ft],xt=de+D(et,Ft),vt+=te(et,Y,rt,xt,ft);else if(Ft=V(O),typeof Ft=="function")for(O=Ft.call(O),Ft=0;!(et=O.next()).done;)et=et.value,xt=de+D(et,Ft++),vt+=te(et,Y,rt,xt,ft);else if(xt==="object"){if(typeof O.then=="function")return te(Wt(O),Y,rt,et,ft);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(O,Y,rt){if(O==null)return O;var et=[],ft=0;return te(O,et,"","",function(xt){return Y.call(rt,xt,ft++)}),et}function it(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Nt(){}return St.Children={map:G,forEach:function(O,Y,rt){G(O,function(){Y.apply(this,arguments)},rt)},count:function(O){var Y=0;return G(O,function(){Y++}),Y},toArray:function(O){return G(O,function(Y){return Y})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},St.Component=tt,St.Fragment=i,St.Profiler=o,St.PureComponent=ht,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return J.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cloneElement=function(O,Y,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var et=X({},O.props),ft=O.key,xt=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(xt=void 0),Y.key!==void 0&&(ft=""+Y.key),Y)!bt.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(et[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)et.children=rt;else if(1<vt){for(var de=Array(vt),Ft=0;Ft<vt;Ft++)de[Ft]=arguments[Ft+2];et.children=de}return I(O.type,ft,void 0,void 0,xt,et)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},St.createElement=function(O,Y,rt){var et,ft={},xt=null;if(Y!=null)for(et in Y.key!==void 0&&(xt=""+Y.key),Y)bt.call(Y,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ft[et]=Y[et]);var vt=arguments.length-2;if(vt===1)ft.children=rt;else if(1<vt){for(var de=Array(vt),Ft=0;Ft<vt;Ft++)de[Ft]=arguments[Ft+2];ft.children=de}if(O&&O.defaultProps)for(et in vt=O.defaultProps,vt)ft[et]===void 0&&(ft[et]=vt[et]);return I(O,xt,void 0,void 0,null,ft)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:g,render:O}},St.isValidElement=R,St.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:it}},St.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},St.startTransition=function(O){var Y=J.T,rt={};J.T=rt;try{var et=O(),ft=J.S;ft!==null&&ft(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Nt,ut)}catch(xt){ut(xt)}finally{J.T=Y}},St.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},St.use=function(O){return J.H.use(O)},St.useActionState=function(O,Y,rt){return J.H.useActionState(O,Y,rt)},St.useCallback=function(O,Y){return J.H.useCallback(O,Y)},St.useContext=function(O){return J.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Y){return J.H.useDeferredValue(O,Y)},St.useEffect=function(O,Y,rt){var et=J.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(O,Y)},St.useId=function(){return J.H.useId()},St.useImperativeHandle=function(O,Y,rt){return J.H.useImperativeHandle(O,Y,rt)},St.useInsertionEffect=function(O,Y){return J.H.useInsertionEffect(O,Y)},St.useLayoutEffect=function(O,Y){return J.H.useLayoutEffect(O,Y)},St.useMemo=function(O,Y){return J.H.useMemo(O,Y)},St.useOptimistic=function(O,Y){return J.H.useOptimistic(O,Y)},St.useReducer=function(O,Y,rt){return J.H.useReducer(O,Y,rt)},St.useRef=function(O){return J.H.useRef(O)},St.useState=function(O){return J.H.useState(O)},St.useSyncExternalStore=function(O,Y,rt){return J.H.useSyncExternalStore(O,Y,rt)},St.useTransition=function(){return J.H.useTransition()},St.version="19.1.0",St}var ny;function id(){return ny||(ny=1,bf.exports=Kb()),bf.exports}var Lt=id(),Ef={exports:{}},kl={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function Xb(){return iy||(iy=1,function(s){function e(G,it){var ut=G.length;G.push(it);t:for(;0<ut;){var Nt=ut-1>>>1,O=G[Nt];if(0<o(O,it))G[Nt]=it,G[ut]=O,ut=Nt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ut=G.pop();if(ut!==it){G[0]=ut;t:for(var Nt=0,O=G.length,Y=O>>>1;Nt<Y;){var rt=2*(Nt+1)-1,et=G[rt],ft=rt+1,xt=G[ft];if(0>o(et,ut))ft<O&&0>o(xt,et)?(G[Nt]=xt,G[ft]=ut,Nt=ft):(G[Nt]=et,G[rt]=ut,Nt=rt);else if(ft<O&&0>o(xt,ut))G[Nt]=xt,G[ft]=ut,Nt=ft;else break t}}return it}function o(G,it){var ut=G.sortIndex-it.sortIndex;return ut!==0?ut:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,N=null,V=3,z=!1,X=!1,st=!1,tt=!1,Tt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function W(G){for(var it=i(v);it!==null;){if(it.callback===null)a(v);else if(it.startTime<=G)a(v),it.sortIndex=it.expirationTime,e(_,it);else break;it=i(v)}}function J(G){if(st=!1,W(G),!X)if(i(_)!==null)X=!0,bt||(bt=!0,D());else{var it=i(v);it!==null&&te(J,it.startTime-G)}}var bt=!1,I=-1,x=5,R=-1;function M(){return tt?!0:!(s.unstable_now()-R<x)}function C(){if(tt=!1,bt){var G=s.unstable_now();R=G;var it=!0;try{t:{X=!1,st&&(st=!1,ht(I),I=-1),z=!0;var ut=V;try{e:{for(W(G),N=i(_);N!==null&&!(N.expirationTime>G&&M());){var Nt=N.callback;if(typeof Nt=="function"){N.callback=null,V=N.priorityLevel;var O=Nt(N.expirationTime<=G);if(G=s.unstable_now(),typeof O=="function"){N.callback=O,W(G),it=!0;break e}N===i(_)&&a(_),W(G)}else a(_);N=i(_)}if(N!==null)it=!0;else{var Y=i(v);Y!==null&&te(J,Y.startTime-G),it=!1}}break t}finally{N=null,V=ut,z=!1}it=void 0}}finally{it?D():bt=!1}}}var D;if(typeof mt=="function")D=function(){mt(C)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Wt=S.port2;S.port1.onmessage=C,D=function(){Wt.postMessage(null)}}else D=function(){Tt(C,0)};function te(G,it){I=Tt(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var it=3;break;default:it=V}var ut=V;V=it;try{return G()}finally{V=ut}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return it()}finally{V=ut}},s.unstable_scheduleCallback=function(G,it,ut){var Nt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Nt+ut:Nt):ut=Nt,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ut+O,G={id:A++,callback:it,priorityLevel:G,startTime:ut,expirationTime:O,sortIndex:-1},ut>Nt?(G.sortIndex=ut,e(v,G),i(_)===null&&G===i(v)&&(st?(ht(I),I=-1):st=!0,te(J,ut-Nt))):(G.sortIndex=O,e(_,G),X||z||(X=!0,bt||(bt=!0,D()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var it=V;return function(){var ut=V;V=it;try{return G.apply(this,arguments)}finally{V=ut}}}}(Af)),Af}var ry;function Zb(){return ry||(ry=1,Tf.exports=Xb()),Tf.exports}var xf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function $b(){if(sy)return He;sy=1;var s=id();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,z=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:V,fetchPriority:z}):A==="script"&&a.d.X(_,{crossOrigin:N,integrity:V,fetchPriority:z,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var ay;function Jb(){if(ay)return xf.exports;ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xf.exports=$b(),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function Wb(){if(ly)return kl;ly=1;var s=Zb(),e=id(),i=Jb();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case tt:return"Profiler";case st:return"StrictMode";case J:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case ht:return(t._context.displayName||"Context")+".Consumer";case W:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Wt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Wt(t(n))}catch{}}return null}var te=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Nt=[],O=-1;function Y(t){return{current:t}}function rt(t){0>O||(t.current=Nt[O],Nt[O]=null,O--)}function et(t,n){O++,Nt[O]=t.current,t.current=n}var ft=Y(null),xt=Y(null),vt=Y(null),de=Y(null);function Ft(t,n){switch(et(vt,n),et(xt,t),et(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Rp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Rp(n),t=Cp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(ft),et(ft,t)}function fn(){rt(ft),rt(xt),rt(vt)}function Ln(t){t.memoizedState!==null&&et(de,t);var n=ft.current,r=Cp(n,t.type);n!==r&&(et(xt,t),et(ft,r))}function Rn(t){xt.current===t&&(rt(ft),rt(xt)),de.current===t&&(rt(de),Vl._currentValue=ut)}var br=Object.prototype.hasOwnProperty,Er=s.unstable_scheduleCallback,Tr=s.unstable_cancelCallback,Ca=s.unstable_shouldYield,ao=s.unstable_requestPaint,dn=s.unstable_now,vc=s.unstable_getCurrentPriorityLevel,Na=s.unstable_ImmediatePriority,fs=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,_c=s.unstable_LowPriority,ds=s.unstable_IdlePriority,Da=s.log,lo=s.unstable_setDisableYieldValue,ae=null,Ht=null;function nn(t){if(typeof Da=="function"&&lo(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,t)}catch{}}var Be=Math.clz32?Math.clz32:xr,oo=Math.log,bc=Math.LN2;function xr(t){return t>>>=0,t===0?32:31-(oo(t)/bc|0)|0}var Sr=256,wr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ms(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):r||(r=E&~t,r!==0&&(c=Cn(r))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):r||(r=l&~t,r!==0&&(c=Cn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Rr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Va(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var t=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),t}function Oa(){var t=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),t}function si(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ai(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ma(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Be(r),K=1<<Q;E[Q]=0,w[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}r&=~K}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Be(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function ja(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Be(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Yp(t.type))}function uo(t,n){var r=it.p;try{return it.p=t,n()}finally{it.p=r}}var ne=Math.random().toString(36).slice(2),be="__reactFiber$"+ne,me="__reactProps$"+ne,mn="__reactContainer$"+ne,Ua="__reactEvents$"+ne,Ec="__reactListeners$"+ne,ki="__reactHandles$"+ne,co="__reactResources$"+ne,Cr="__reactMarker$"+ne;function Li(t){delete t[be],delete t[me],delete t[Ua],delete t[Ec],delete t[ki]}function li(t){var n=t[be];if(n)return n;for(var r=t.parentNode;r;){if(n=r[mn]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ip(t);t!==null;){if(r=t[be])return r;t=Ip(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[be]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[co];return n||(n=t[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Cr]=!0}var ka=new Set,ps={};function Nn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(ps[t]=n,t=0;t<n.length;t++)ka.add(n[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Nr={};function mo(t){return br.call(Nr,t)?!0:br.call(fo,t)?!1:ho.test(t)?Nr[t]=!0:(fo[t]=!0,!1)}function Pi(t,n,r){if(mo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Dr,go;function ui(t){if(Dr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",go=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+go}var ys=!1;function vs(t,n){if(!t||ys)return"";ys=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var B=q}Reflect.construct(t,[],K)}else{try{K.call()}catch(q){B=q}t.call(K.prototype)}}else{try{throw Error()}catch(q){B=q}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),P=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===P.length)for(l=w.length-1,c=P.length-1;1<=l&&0<=c&&w[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==P[c]){var Q=`
`+w[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{ys=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?ui(r):""}function La(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return ui("Activity");default:return""}}function _s(t){try{var n="";do n+=La(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pa(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tc(t){var n=Pa(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function bs(t){t._valueTracker||(t._valueTracker=Tc(t))}function za(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Pa(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function ge(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?zi(t,y,Ke(n)):r!=null?zi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Ir(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function zi(t,n,r){n==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ci(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Yt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(te(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Mr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ba(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&po(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&po(t,f,n[f])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(t){return Sc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Ha(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&za(l)}break t;case"textarea":Yt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ci(t,!!r.multiple,n,!1)}}}var Hn=!1;function yo(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(fi!==null||di!==null)&&(cu(),fi&&(n=fi,t=di,di=fi=null,Ha(n),t)))for(n=0;n<t.length;n++)Ha(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Dn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{yn=!1}var Gn=null,Bi=null,mi=null;function Ga(){if(mi)return mi;var t,n=Bi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Qa(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:Qa,this.isPropagationStopped=Qa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Re(Bt),kr=A({},Bt,{view:0,detail:0}),vo=Re(kr),As,xs,Yn,Lr=A({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(As=t.screenX-Yn.screenX,xs=t.screenY-Yn.screenY):xs=As=0,Yn=t),As)},movementY:function(t){return"movementY"in t?t.movementY:xs}}),vn=Re(Lr),_o=A({},Lr,{dataTransfer:0}),wc=Re(_o),Pr=A({},kr,{relatedTarget:0}),Ss=Re(Pr),Fa=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),ws=Re(Fa),bo=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rs=Re(bo),Rc=A({},Bt,{data:0}),Ya=Re(Rc),zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ka(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=To[t])?!!n[t]:!1}function Br(){return Ka}var Ao=A({},kr,{key:function(t){if(t.key){var n=zr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cs=Re(Ao),xo=A({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=Re(xo),gi=A({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),So=Re(gi),wo=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=Re(wo),Co=A({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ns=Re(Co),Xe=A({},Bt,{newState:0,oldState:0}),No=Re(Xe),Do=[9,13,27,32],Kn=Dn&&"CompositionEvent"in window,u=null;Dn&&"documentMode"in document&&(u=document.documentMode);var m=Dn&&"TextEvent"in window&&!u,p=Dn&&(!Kn||u&&8<u&&11>=u),T=" ",k=!1;function H(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ee(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return t=n.data,t===T&&k?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Kn&&H(t,n)?(t=Ga(),mi=Bi=Gn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){fi?di?di.push(l):di=[l]:fi=l,n=pu(n,"onChange"),0<n.length&&(r=new Ts("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Xn=null;function Za(t){Tp(t,0)}function Vo(t){var n=Bn(t);if(za(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(Dn){var Cc;if(Dn){var Nc="oninput"in document;if(!Nc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Nc=typeof Qd.oninput=="function"}Cc=Nc}else Cc=!1;Gd=Cc&&(!document.documentMode||9<document.documentMode)}function Fd(){Me&&(Me.detachEvent("onpropertychange",Yd),Xn=Me=null)}function Yd(t){if(t.propertyName==="value"&&Vo(Xn)){var n=[];pi(n,Xn,t,pn(t)),yo(Za,n)}}function T_(t,n,r){t==="focusin"?(Fd(),Me=n,Xn=r,Me.attachEvent("onpropertychange",Yd)):t==="focusout"&&Fd()}function A_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Xn)}function x_(t,n){if(t==="click")return Vo(n)}function S_(t,n){if(t==="input"||t==="change")return Vo(n)}function w_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:w_;function $a(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!br.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,n){var r=Kd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Kd(r)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $d(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vr(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var R_=Dn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Vc=null,Ja=null,Ic=!1;function Jd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ic||Ds==null||Ds!==Vr(l)||(l=Ds,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ja&&$a(Ja,l)||(Ja=l,l=pu(Vc,"onSelect"),0<l.length&&(n=new Ts("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ds)))}function qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Vs={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Oc={},Wd={};Dn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Hr(t){if(Oc[t])return Oc[t];if(!Vs[t])return t;var n=Vs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wd)return Oc[t]=n[r];return t}var tm=Hr("animationend"),em=Hr("animationiteration"),nm=Hr("animationstart"),C_=Hr("transitionrun"),N_=Hr("transitionstart"),D_=Hr("transitioncancel"),im=Hr("transitionend"),rm=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Vn(t,n){rm.set(t,n),Nn(n,[t])}var sm=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=sm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_s(n)},sm.set(t,n),n)}return{value:t,source:n,stack:_s(n)}}var bn=[],Is=0,jc=0;function Io(){for(var t=Is,n=jc=Is=0;n<t;){var r=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&am(r,c,f)}}function Oo(t,n,r,l){bn[Is++]=t,bn[Is++]=n,bn[Is++]=r,bn[Is++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return Oo(t,n,r,l),Mo(t)}function Os(t,n){return Oo(t,null,null,n),Mo(t)}function am(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Be(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Mo(t){if(50<Al)throw Al=0,qh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ms={};function V_(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new V_(t,n,r,l)}function kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function lm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")kc(t)&&(y=1);else if(typeof t=="string")y=Ob(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=an(31,r,n,c),t.elementType=R,t.lanes=f,t;case X:return Gr(r.children,c,f,n);case st:y=8,c|=24;break;case tt:return t=an(12,r,n,c|2),t.elementType=tt,t.lanes=f,t;case J:return t=an(13,r,n,c),t.elementType=J,t.lanes=f,t;case bt:return t=an(19,r,n,c),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case mt:y=10;break t;case ht:y=9;break t;case W:y=11;break t;case I:y=14;break t;case x:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=an(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function Lc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Pc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var js=[],Us=0,Uo=null,ko=0,En=[],Tn=0,Qr=null,vi=1,_i="";function Fr(t,n){js[Us++]=ko,js[Us++]=Uo,Uo=t,ko=n}function om(t,n,r){En[Tn++]=vi,En[Tn++]=_i,En[Tn++]=Qr,Qr=t;var l=vi;t=_i;var c=32-Be(l)-1;l&=~(1<<c),r+=1;var f=32-Be(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,vi=1<<32-Be(n)+c|r<<c|l,_i=f+t}else vi=1<<f|r<<c|l,_i=t}function zc(t){t.return!==null&&(Fr(t,1),om(t,1,0))}function Bc(t){for(;t===Uo;)Uo=js[--Us],js[Us]=null,ko=js[--Us],js[Us]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null,vi=En[--Tn],En[Tn]=null}var Ze=null,le=null,zt=!1,Yr=null,Zn=!1,qc=Error(a(519));function Kr(t){var n=Error(a(418,""));throw el(_n(n,t)),qc}function um(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[be]=t,n[me]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Sl.length;r++)Vt(Sl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Ir(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),bs(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Or(n,l.value,l.defaultValue,l.children),bs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||wp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=yu),n=!0):n=!1,n||Kr(t)}function cm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ze=Ze.return}}function Wa(t){if(t!==Ze)return!1;if(!zt)return cm(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||sf(t.type,t.memoizedProps)),r=!r),r&&le&&Kr(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ir(t.type)?(t=uf,uf=null,le=t):le=n):le=Ze?On(t.stateNode.nextSibling):null;return!0}function tl(){le=Ze=null,zt=!1}function hm(){var t=Yr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Yr=null),t}function el(t){Yr===null?Yr=[t]:Yr.push(t)}var Hc=Y(null),Xr=null,bi=null;function qi(t,n,r){et(Hc,n._currentValue),n._currentValue=r}function Ei(t){t._currentValue=Hc.current,rt(Hc)}function Gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Gc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Gc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function nl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===de.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}c=c.return}t!==null&&Qc(n,t,r,l),n.flags|=262144}function Lo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Xr=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return fm(Xr,t)}function Po(t,n){return Xr===null&&Zr(t),fm(t,n)}function fm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(t===null)throw Error(a(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return r}var I_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},O_=s.unstable_scheduleCallback,M_=s.unstable_NormalPriority,Ae={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new I_,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&O_(M_,function(){t.controller.abort()})}var rl=null,Yc=0,ks=0,Ls=null;function j_(t,n){if(rl===null){var r=rl=[];Yc=0,ks=Xh(),Ls={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,n.then(dm,dm),n}function dm(){if(--Yc===0&&rl!==null){Ls!==null&&(Ls.status="fulfilled");var t=rl;rl=null,ks=0,Ls=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function U_(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var mm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&j_(t,n),mm!==null&&mm(t,n)};var $r=Y(null);function Kc(){var t=$r.current;return t!==null?t:Jt.pooledCache}function zo(t,n){n===null?et($r,$r.current):et($r,n.pool)}function gm(){var t=Kc();return t===null?null:{parent:Ae._currentValue,pool:t}}var sl=Error(a(460)),pm=Error(a(474)),Bo=Error(a(542)),Xc={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qo(){}function vm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qo,qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bm(t),t;default:if(typeof n.status=="string")n.then(qo,qo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,bm(t),t}throw al=n,sl}}var al=null;function _m(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function bm(t){if(t===sl||t===Bo)throw Error(a(483))}var Hi=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mo(t),am(t,null,r),n}return Oo(t,l,n,r),Mo(t)}function ll(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ja(t,r)}}function Jc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wc=!1;function ol(){if(Wc){var t=Ls;if(t!==null)throw t}}function ul(t,n,r,l){Wc=!1;var c=t.updateQueue;Hi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,P=w.next;w.next=null,y===null?f=P:y.next=P,y=w;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=w))}if(f!==null){var K=c.baseState;y=0,Q=P=w=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(jt&B)===B:(l&B)===B){B!==0&&B===ks&&(Wc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=t,gt=E;B=n;var Zt=r;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){K=_t.call(Zt,K,B);break t}K=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,B=typeof _t=="function"?_t.call(Zt,K,B):_t,B==null)break t;K=A({},K,B);break t;case 2:Hi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=q,w=K):Q=Q.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);Q===null&&(w=K),c.baseState=w,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Wi|=y,t.lanes=y,t.memoizedState=K}}function Em(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Tm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Em(r[t],n)}var Ps=Y(null),Ho=Y(0);function Am(t,n){t=Ci,et(Ho,t),et(Ps,n),Ci=t|n.baseLanes}function th(){et(Ho,Ci),et(Ps,Ps.current)}function eh(){Ci=Ho.current,rt(Ps),rt(Ho)}var Fi=0,wt=null,Kt=null,pe=null,Go=!1,zs=!1,Jr=!1,Qo=0,cl=0,Bs=null,k_=0;function ce(){throw Error(a(321))}function nh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function ih(t,n,r,l,c,f){return Fi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ag:lg,Jr=!1,f=r(l,c),Jr=!1,zs&&(f=Sm(n,r,l,c)),xm(t),f}function xm(t){G.H=$o;var n=Kt!==null&&Kt.next!==null;if(Fi=0,pe=Kt=wt=null,Go=!1,cl=0,Bs=null,n)throw Error(a(300));t===null||Ne||(t=t.dependencies,t!==null&&Lo(t)&&(Ne=!0))}function Sm(t,n,r,l){wt=t;var c=0;do{if(zs&&(Bs=null),cl=0,zs=!1,25<=c)throw Error(a(301));if(c+=1,pe=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=G_,f=n(r,l)}while(zs);return f}function L_(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(wt.flags|=1024),n}function rh(){var t=Qo!==0;return Qo=0,t}function sh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ah(t){if(Go){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Go=!1}Fi=0,pe=Kt=wt=null,zs=!1,cl=Qo=0,Bs=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Kt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Kt=t;else{if(t===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Bs===null&&(Bs=[]),t=vm(Bs,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ag:lg),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===mt)return qe(t)}throw Error(a(438,String(t)))}function oh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function Ti(t,n){return typeof n=="function"?n(t):n}function Yo(t){var n=ye();return uh(n,Kt,t)}function uh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,w=null,P=n,Q=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(jt&K)===K:(Fi&K)===K){var B=P.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ks&&(Q=!0);else if((Fi&B)===B){P=P.next,B===ks&&(Q=!0);continue}else K={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=K,y=f):w=w.next=K,wt.lanes|=B,Wi|=B;K=P.action,Jr&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else B={lane:K,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},w===null?(E=w=B,y=f):w=w.next=B,wt.lanes|=K,Wi|=K;P=P.next}while(P!==null&&P!==n);if(w===null?y=f:w.next=E,!sn(f,t.memoizedState)&&(Ne=!0,Q&&(r=Ls,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var n=ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function wm(t,n,r){var l=wt,c=ye(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Kt||c).memoizedState,r);y&&(c.memoizedState=r,Ne=!0),c=c.queue;var E=Nm.bind(null,l,c,t);if(fl(2048,8,E,[t]),c.getSnapshot!==n||y||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,qs(9,Ko(),Cm.bind(null,l,c,r,n),null),Jt===null)throw Error(a(349));f||(Fi&124)!==0||Rm(l,n,r)}return r}function Rm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=lh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Cm(t,n,r,l){n.value=r,n.getSnapshot=l,Dm(n)&&Vm(t)}function Nm(t,n,r){return r(function(){Dm(n)&&Vm(t)})}function Dm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Vm(t){var n=Os(t,2);n!==null&&hn(n,t,2)}function hh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Jr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n}function Im(t,n,r,l){return t.baseState=r,uh(t,Kt,typeof l=="function"?l:Ti)}function P_(t,n,r,l,c){if(Zo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Om(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Om(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(c,l),w=G.S;w!==null&&w(y,E),Mm(t,n,E)}catch(P){fh(t,n,P)}finally{G.T=f}}else try{f=r(c,l),Mm(t,n,f)}catch(P){fh(t,n,P)}}function Mm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){jm(t,n,l)},function(l){return fh(t,n,l)}):jm(t,n,r)}function jm(t,n,r){n.status="fulfilled",n.value=r,Um(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Om(t,r)))}function fh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Um(n),n=n.next;while(n!==l)}t.action=null}function Um(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function km(t,n){return n}function Lm(t,n){if(zt){var r=Jt.formState;if(r!==null){t:{var l=wt;if(zt){if(le){e:{for(var c=le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=On(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:n},r.queue=l,r=ig.bind(null,wt,l),l.dispatch=r,l=hh(!1),f=yh.bind(null,wt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=P_.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Pm(t){var n=ye();return zm(n,Kt,t)}function zm(t,n,r){if(n=uh(t,n,km)[0],t=Yo(Ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=hl(n)}catch(y){throw y===sl?Bo:y}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,qs(9,Ko(),z_.bind(null,c,r),null)),[l,f,t]}function z_(t,n){t.action=n}function Bm(t){var n=ye(),r=Kt;if(r!==null)return zm(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=lh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ko(){return{destroy:void 0,resource:void 0}}function qm(){return ye().memoizedState}function Xo(t,n,r,l){var c=$e();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=qs(1|n,Ko(),r,l)}function fl(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&nh(l,Kt.memoizedState.deps)?c.memoizedState=qs(n,f,r,l):(wt.flags|=t,c.memoizedState=qs(1|n,f,r,l))}function Hm(t,n){Xo(8390656,8,t,n)}function Gm(t,n){fl(2048,8,t,n)}function Qm(t,n){return fl(4,2,t,n)}function Fm(t,n){return fl(4,4,t,n)}function Ym(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Km(t,n,r){r=r!=null?r.concat([t]):null,fl(4,4,Ym.bind(null,n,t),r)}function dh(){}function Xm(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&nh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Zm(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&nh(n,l[1]))return l[0];if(l=t(),Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function mh(t,n,r){return r===void 0||(Fi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Wg(),wt.lanes|=t,Wi|=t,r)}function $m(t,n,r,l){return sn(r,n)?r:Ps.current!==null?(t=mh(t,r,l),sn(t,n)||(Ne=!0),t):(Fi&42)===0?(Ne=!0,t.memoizedState=r):(t=Wg(),wt.lanes|=t,Wi|=t,n)}function Jm(t,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,yh(t,!1,n,r);try{var w=c(),P=G.S;if(P!==null&&P(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Q=U_(w,l);dl(t,n,Q,cn(t))}else dl(t,n,l,cn(t))}catch(K){dl(t,n,{then:function(){},status:"rejected",reason:K},cn())}finally{it.p=f,G.T=y}}function B_(){}function gh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Wm(t).queue;Jm(t,c,n,ut,r===null?B_:function(){return tg(t),r(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;dl(t,n,{},cn())}function ph(){return qe(Vl)}function eg(){return ye().memoizedState}function ng(){return ye().memoizedState}function q_(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Gi(r);var l=Qi(n,t,r);l!==null&&(hn(l,n,r),ll(l,n,r)),n={cache:Fc()},t.payload=n;return}n=n.return}}function H_(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(t)?rg(n,r):(r=Uc(t,n,r,l),r!==null&&(hn(r,t,l),sg(r,n,l)))}function ig(t,n,r){var l=cn();dl(t,n,r,l)}function dl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zo(t))rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Oo(t,n,c,0),Jt===null&&Io(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return hn(r,t,l),sg(r,n,l),!0}return!1}function yh(t,n,r,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},Zo(t)){if(n)throw Error(a(479))}else n=Uc(t,r,l,2),n!==null&&hn(n,t,2)}function Zo(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function rg(t,n){zs=Go=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function sg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ja(t,r)}}var $o={readContext:qe,use:Fo,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},ag={readContext:qe,use:Fo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Hm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xo(4194308,4,Ym.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xo(4194308,4,t,n)},useInsertionEffect:function(t,n){Xo(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Jr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=H_.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=hh(t);var n=t.queue,r=ig.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dh,useDeferredValue:function(t,n){var r=$e();return mh(r,t,n)},useTransition:function(){var t=hh(!1);return t=Jm.bind(null,wt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=$e();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(jt&124)!==0||Rm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Hm(Nm.bind(null,l,f,t),[t]),l.flags|=2048,qs(9,Ko(),Cm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(zt){var r=_i,l=vi;r=(l&~(1<<32-Be(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Qo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=k_++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ph,useFormState:Lm,useActionState:Lm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:oh,useCacheRefresh:function(){return $e().memoizedState=q_.bind(null,wt)}},lg={readContext:qe,use:Fo,useCallback:Xm,useContext:qe,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:Yo,useRef:qm,useState:function(){return Yo(Ti)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ye();return $m(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Yo(Ti)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:ph,useFormState:Pm,useActionState:Pm,useOptimistic:function(t,n){var r=ye();return Im(r,Kt,t,n)},useMemoCache:oh,useCacheRefresh:ng},G_={readContext:qe,use:Fo,useCallback:Xm,useContext:qe,useEffect:Gm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:ch,useRef:qm,useState:function(){return ch(Ti)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ye();return Kt===null?mh(r,t,n):$m(r,Kt.memoizedState,t,n)},useTransition:function(){var t=ch(Ti)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:ph,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var r=ye();return Kt!==null?Im(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:oh,useCacheRefresh:ng},Hs=null,ml=0;function Jo(t){var n=ml;return ml+=1,Hs===null&&(Hs=[]),vm(Hs,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){var n=t._init;return n(t._payload)}function ug(t){function n(U,j){if(t){var L=U.deletions;L===null?(U.deletions=[j],U.flags|=16):L.push(j)}}function r(U,j){if(!t)return null;for(;j!==null;)n(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function c(U,j){return U=yi(U,j),U.index=0,U.sibling=null,U}function f(U,j,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<j?(U.flags|=67108866,j):L):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,j,L,F){return j===null||j.tag!==6?(j=Lc(L,U.mode,F),j.return=U,j):(j=c(j,L),j.return=U,j)}function w(U,j,L,F){var ot=L.type;return ot===X?Q(U,j,L.props.children,F,L.key):j!==null&&(j.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===x&&og(ot)===j.type)?(j=c(j,L.props),gl(j,L),j.return=U,j):(j=jo(L.type,L.key,L.props,null,U.mode,F),gl(j,L),j.return=U,j)}function P(U,j,L,F){return j===null||j.tag!==4||j.stateNode.containerInfo!==L.containerInfo||j.stateNode.implementation!==L.implementation?(j=Pc(L,U.mode,F),j.return=U,j):(j=c(j,L.children||[]),j.return=U,j)}function Q(U,j,L,F,ot){return j===null||j.tag!==7?(j=Gr(L,U.mode,F,ot),j.return=U,j):(j=c(j,L),j.return=U,j)}function K(U,j,L){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Lc(""+j,U.mode,L),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return L=jo(j.type,j.key,j.props,null,U.mode,L),gl(L,j),L.return=U,L;case z:return j=Pc(j,U.mode,L),j.return=U,j;case x:var F=j._init;return j=F(j._payload),K(U,j,L)}if(te(j)||D(j))return j=Gr(j,U.mode,L,null),j.return=U,j;if(typeof j.then=="function")return K(U,Jo(j),L);if(j.$$typeof===mt)return K(U,Po(U,j),L);Wo(U,j)}return null}function B(U,j,L,F){var ot=j!==null?j.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(U,j,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case V:return L.key===ot?w(U,j,L,F):null;case z:return L.key===ot?P(U,j,L,F):null;case x:return ot=L._init,L=ot(L._payload),B(U,j,L,F)}if(te(L)||D(L))return ot!==null?null:Q(U,j,L,F,null);if(typeof L.then=="function")return B(U,j,Jo(L),F);if(L.$$typeof===mt)return B(U,j,Po(U,L),F);Wo(U,L)}return null}function q(U,j,L,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(L)||null,E(j,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return U=U.get(F.key===null?L:F.key)||null,w(j,U,F,ot);case z:return U=U.get(F.key===null?L:F.key)||null,P(j,U,F,ot);case x:var Ct=F._init;return F=Ct(F._payload),q(U,j,L,F,ot)}if(te(F)||D(F))return U=U.get(L)||null,Q(j,U,F,ot,null);if(typeof F.then=="function")return q(U,j,L,Jo(F),ot);if(F.$$typeof===mt)return q(U,j,L,Po(j,F),ot);Wo(j,F)}return null}function _t(U,j,L,F){for(var ot=null,Ct=null,ct=j,pt=j=0,Ve=null;ct!==null&&pt<L.length;pt++){ct.index>pt?(Ve=ct,ct=null):Ve=ct.sibling;var Pt=B(U,ct,L[pt],F);if(Pt===null){ct===null&&(ct=Ve);break}t&&ct&&Pt.alternate===null&&n(U,ct),j=f(Pt,j,pt),Ct===null?ot=Pt:Ct.sibling=Pt,Ct=Pt,ct=Ve}if(pt===L.length)return r(U,ct),zt&&Fr(U,pt),ot;if(ct===null){for(;pt<L.length;pt++)ct=K(U,L[pt],F),ct!==null&&(j=f(ct,j,pt),Ct===null?ot=ct:Ct.sibling=ct,Ct=ct);return zt&&Fr(U,pt),ot}for(ct=l(ct);pt<L.length;pt++)Ve=q(ct,U,pt,L[pt],F),Ve!==null&&(t&&Ve.alternate!==null&&ct.delete(Ve.key===null?pt:Ve.key),j=f(Ve,j,pt),Ct===null?ot=Ve:Ct.sibling=Ve,Ct=Ve);return t&&ct.forEach(function(or){return n(U,or)}),zt&&Fr(U,pt),ot}function gt(U,j,L,F){if(L==null)throw Error(a(151));for(var ot=null,Ct=null,ct=j,pt=j=0,Ve=null,Pt=L.next();ct!==null&&!Pt.done;pt++,Pt=L.next()){ct.index>pt?(Ve=ct,ct=null):Ve=ct.sibling;var or=B(U,ct,Pt.value,F);if(or===null){ct===null&&(ct=Ve);break}t&&ct&&or.alternate===null&&n(U,ct),j=f(or,j,pt),Ct===null?ot=or:Ct.sibling=or,Ct=or,ct=Ve}if(Pt.done)return r(U,ct),zt&&Fr(U,pt),ot;if(ct===null){for(;!Pt.done;pt++,Pt=L.next())Pt=K(U,Pt.value,F),Pt!==null&&(j=f(Pt,j,pt),Ct===null?ot=Pt:Ct.sibling=Pt,Ct=Pt);return zt&&Fr(U,pt),ot}for(ct=l(ct);!Pt.done;pt++,Pt=L.next())Pt=q(ct,U,pt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ct.delete(Pt.key===null?pt:Pt.key),j=f(Pt,j,pt),Ct===null?ot=Pt:Ct.sibling=Pt,Ct=Pt);return t&&ct.forEach(function(Qb){return n(U,Qb)}),zt&&Fr(U,pt),ot}function Zt(U,j,L,F){if(typeof L=="object"&&L!==null&&L.type===X&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case V:t:{for(var ot=L.key;j!==null;){if(j.key===ot){if(ot=L.type,ot===X){if(j.tag===7){r(U,j.sibling),F=c(j,L.props.children),F.return=U,U=F;break t}}else if(j.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===x&&og(ot)===j.type){r(U,j.sibling),F=c(j,L.props),gl(F,L),F.return=U,U=F;break t}r(U,j);break}else n(U,j);j=j.sibling}L.type===X?(F=Gr(L.props.children,U.mode,F,L.key),F.return=U,U=F):(F=jo(L.type,L.key,L.props,null,U.mode,F),gl(F,L),F.return=U,U=F)}return y(U);case z:t:{for(ot=L.key;j!==null;){if(j.key===ot)if(j.tag===4&&j.stateNode.containerInfo===L.containerInfo&&j.stateNode.implementation===L.implementation){r(U,j.sibling),F=c(j,L.children||[]),F.return=U,U=F;break t}else{r(U,j);break}else n(U,j);j=j.sibling}F=Pc(L,U.mode,F),F.return=U,U=F}return y(U);case x:return ot=L._init,L=ot(L._payload),Zt(U,j,L,F)}if(te(L))return _t(U,j,L,F);if(D(L)){if(ot=D(L),typeof ot!="function")throw Error(a(150));return L=ot.call(L),gt(U,j,L,F)}if(typeof L.then=="function")return Zt(U,j,Jo(L),F);if(L.$$typeof===mt)return Zt(U,j,Po(U,L),F);Wo(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,j!==null&&j.tag===6?(r(U,j.sibling),F=c(j,L),F.return=U,U=F):(r(U,j),F=Lc(L,U.mode,F),F.return=U,U=F),y(U)):r(U,j)}return function(U,j,L,F){try{ml=0;var ot=Zt(U,j,L,F);return Hs=null,ot}catch(ct){if(ct===sl||ct===Bo)throw ct;var Ct=an(29,ct,null,U.mode);return Ct.lanes=F,Ct.return=U,Ct}finally{}}}var Gs=ug(!0),cg=ug(!1),An=Y(null),$n=null;function Yi(t){var n=t.alternate;et(xe,xe.current&1),et(An,t),$n===null&&(n===null||Ps.current!==null||n.memoizedState!==null)&&($n=t)}function hg(t){if(t.tag===22){if(et(xe,xe.current),et(An,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Ki()}function Ki(){et(xe,xe.current),et(An,An.current)}function Ai(t){rt(An),$n===t&&($n=null),rt(xe)}var xe=Y(0);function tu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||of(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function vh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _h={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Gi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Qi(t,c,l),n!==null&&(hn(n,t,l),ll(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Gi(r);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,r),n!==null&&(hn(n,t,r),ll(n,t,r))}};function fg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!$a(r,l)||!$a(c,f):!0}function dg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&_h.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){eu(t)}function gg(t){console.error(t)}function pg(t){eu(t)}function nu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){nu(t,n)},r}function vg(t){return t=Gi(t),t.tag=3,t}function _g(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,r,l),typeof c!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Q_(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&nl(n,r,c,!0),r=An.current,r!==null){switch(r.tag){case 13:return $n===null?Gh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Fh(t,l,c)),!1;case 22:return r.flags|=65536,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Fh(t,l,c)),!1}throw Error(a(435,r.tag))}return Fh(t,l,c),Gh(),!1}if(zt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(a(422),{cause:l}),el(_n(t,r)))):(l!==qc&&(n=Error(a(423),{cause:l}),el(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=bh(t.stateNode,l,c),Jc(t,c),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),Tl===null?Tl=[f]:Tl.push(f),oe!==4&&(oe=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),Jc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(tr===null||!tr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=vg(c),_g(c,t,r,l),Jc(r,c),!1}r=r.return}while(r!==null);return!1}var bg=Error(a(461)),Ne=!1;function je(t,n,r,l){n.child=t===null?cg(n,null,r,l):Gs(n,t.child,r,l)}function Eg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Zr(n),l=ih(t,n,r,y,f,c),E=rh(),t!==null&&!Ne?(sh(t,n,c),xi(t,n,c)):(zt&&E&&zc(n),n.flags|=1,je(t,n,l,c),n.child)}function Tg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!kc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Ag(t,n,f,l,c)):(t=jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:$a,r(y,l)&&t.ref===n.ref)return xi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ag(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if($a(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,xi(t,n,c)}return Eh(t,n,r,l,c)}function xg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Sg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(n,f!==null?f.cachePool:null),f!==null?Am(n,f):th(),hg(n);else return n.lanes=n.childLanes=536870912,Sg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(zo(n,f.cachePool),Am(n,f),Ki(),n.memoizedState=null):(t!==null&&zo(n,null),th(),Ki());return je(t,n,c,r),n.child}function Sg(t,n,r,l){var c=Kc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zo(n,null),th(),hg(n),t!==null&&nl(t,n,l,!0),null}function iu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Eh(t,n,r,l,c){return Zr(n),r=ih(t,n,r,l,void 0,c),l=rh(),t!==null&&!Ne?(sh(t,n,c),xi(t,n,c)):(zt&&l&&zc(n),n.flags|=1,je(t,n,r,c),n.child)}function wg(t,n,r,l,c,f){return Zr(n),n.updateQueue=null,r=Sm(n,l,r,c),xm(t),l=rh(),t!==null&&!Ne?(sh(t,n,f),xi(t,n,f)):(zt&&l&&zc(n),n.flags|=1,je(t,n,r,f),n.child)}function Rg(t,n,r,l,c){if(Zr(n),n.stateNode===null){var f=Ms,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ms,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(vh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&_h.enqueueReplaceState(f,f.state,null),ul(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=Wr(r,E);f.props=w;var P=f.context,Q=r.contextType;y=Ms,typeof Q=="object"&&Q!==null&&(y=qe(Q));var K=r.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&dg(n,f,l,y),Hi=!1;var B=n.memoizedState;f.state=B,ul(n,l,f,c),ol(),P=n.memoizedState,E||B!==P||Hi?(typeof K=="function"&&(vh(n,r,K,l),P=n.memoizedState),(w=Hi||fg(n,r,w,l,B,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,$c(t,n),y=n.memoizedProps,Q=Wr(r,y),f.props=Q,K=n.pendingProps,B=f.context,P=r.contextType,w=Ms,typeof P=="object"&&P!==null&&(w=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==w)&&dg(n,f,l,w),Hi=!1,B=n.memoizedState,f.state=B,ul(n,l,f,c),ol();var q=n.memoizedState;y!==K||B!==q||Hi||t!==null&&t.dependencies!==null&&Lo(t.dependencies)?(typeof E=="function"&&(vh(n,r,E,l),q=n.memoizedState),(Q=Hi||fg(n,r,Q,l,B,q,w)||t!==null&&t.dependencies!==null&&Lo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=w,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Gs(n,t.child,null,c),n.child=Gs(n,null,r,c)):je(t,n,r,c),n.memoizedState=f.state,t=n.child):t=xi(t,n,c),t}function Cg(t,n,r,l){return tl(),n.flags|=256,je(t,n,r,l),n.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:gm()}}function xh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=xn),t}function Ng(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(xe.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Yi(n):Ki(),zt){var E=le,w;if(w=E){t:{for(w=E,E=Zn;w.nodeType!==8;){if(!E){E=null;break t}if(w=On(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:vi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},w=an(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Ze=n,le=null,w=!0):w=!1}w||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return of(E)?n.lanes=32:n.lanes=536870912,null;Ai(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=ru({mode:"hidden",children:E},c),l=Gr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(r),c.childLanes=xh(t,y,r),n.memoizedState=Th,l):(Yi(n),Sh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Yi(n),n.flags&=-257,n=wh(t,n,r)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=ru({mode:"visible",children:l.children},E),c=Gr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Gs(n,t.child,null,r),l=n.child,l.memoizedState=Ah(r),l.childLanes=xh(t,y,r),n.memoizedState=Th,n=c);else if(Yi(n),of(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,el({value:l,source:null,stack:null}),n=wh(t,n,r)}else if(Ne||nl(t,n,r,!1),y=(r&t.childLanes)!==0,Ne||y){if(y=Jt,y!==null&&(l=r&-r,l=(l&42)!==0?1:ji(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Os(t,l),hn(y,t,l),bg;E.data==="$?"||Gh(),n=wh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=On(E.nextSibling),Ze=n,zt=!0,Yr=null,Zn=!1,t!==null&&(En[Tn++]=vi,En[Tn++]=_i,En[Tn++]=Qr,vi=t.id,_i=t.overflow,Qr=n),n=Sh(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,w=t.child,P=w.sibling,l=yi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Gr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(r):(w=E.cachePool,w!==null?(P=Ae._currentValue,w=w.parent!==P?{parent:P,pool:P}:w):w=gm(),E={baseLanes:E.baseLanes|r,cachePool:w}),c.memoizedState=E,c.childLanes=xh(t,y,r),n.memoizedState=Th,l):(Yi(n),r=t.child,t=r.sibling,r=yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Sh(t,n){return n=ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ru(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wh(t,n,r){return Gs(n,t.child,null,r),t=Sh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gc(t.return,n,r)}function Rh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Vg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(je(t,n,l.children,r),l=xe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,r,n);else if(t.tag===19)Dg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(xe,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&tu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Rh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Rh(n,!0,r,null,f);break;case"together":Rh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Wi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(nl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=yi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=yi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lo(t)))}function F_(t,n,r){switch(n.tag){case 3:Ft(n,n.stateNode.containerInfo),qi(n,Ae,t.memoizedState.cache),tl();break;case 27:case 5:Ln(n);break;case 4:Ft(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ng(t,n,r):(Yi(n),t=xi(t,n,r),t!==null?t.sibling:null);Yi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(nl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Vg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(xe,xe.current),l)break;return null;case 22:case 23:return n.lanes=0,xg(t,n,r);case 24:qi(n,Ae,t.memoizedState.cache)}return xi(t,n,r)}function Ig(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ne=!1,F_(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&om(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")kc(l)?(t=Wr(l,t),n.tag=1,n=Rg(null,n,l,t,r)):(n.tag=0,n=Eh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===W){n.tag=11,n=Eg(null,n,l,t,r);break t}else if(c===I){n.tag=14,n=Tg(null,n,l,t,r);break t}}throw n=Wt(l)||l,Error(a(306,n,""))}}return n;case 0:return Eh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),Rg(t,n,l,c,r);case 3:t:{if(Ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,$c(t,n),ul(n,l,null,r);var y=n.memoizedState;if(l=y.cache,qi(n,Ae,l),l!==f.cache&&Qc(n,[Ae],r,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),el(c),n=Cg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=On(t.firstChild),Ze=n,zt=!0,Yr=null,Zn=!0,r=cg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(tl(),l===c){n=xi(t,n,r);break t}je(t,n,l,r)}n=n.child}return n;case 26:return iu(t,n),t===null?(r=Up(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=vu(vt.current).createElement(r),l[be]=n,l[me]=t,ke(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Up(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ln(n),t===null&&zt&&(l=n.stateNode=Op(n.type,n.pendingProps,vt.current),Ze=n,Zn=!0,c=le,ir(n.type)?(uf=c,le=On(l.firstChild)):le=c),je(t,n,n.pendingProps.children,r),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=le)&&(l=bb(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,Ze=n,le=On(l.firstChild),Zn=!1,c=!0):c=!1),c||Kr(n)),Ln(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,sf(c,f)?l=null:y!==null&&sf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ih(t,n,L_,null,null,r),Vl._currentValue=c),iu(t,n),je(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=le)&&(r=Eb(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,Ze=n,le=null,t=!0):t=!1),t||Kr(n)),null;case 13:return Ng(t,n,r);case 4:return Ft(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Gs(n,null,l,r):je(t,n,l,r),n.child;case 11:return Eg(t,n,n.type,n.pendingProps,r);case 7:return je(t,n,n.pendingProps,r),n.child;case 8:return je(t,n,n.pendingProps.children,r),n.child;case 12:return je(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qi(n,n.type,l.value),je(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Zr(n),c=qe(c),l=l(c),n.flags|=1,je(t,n,l,r),n.child;case 14:return Tg(t,n,n.type,n.pendingProps,r);case 15:return Ag(t,n,n.type,n.pendingProps,r);case 19:return Vg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ru(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=yi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return xg(t,n,r);case 24:return Zr(n),l=qe(Ae),t===null?(c=Kc(),c===null&&(c=Jt,f=Fc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),qi(n,Ae,c)):((t.lanes&r)!==0&&($c(t,n),ul(n,null,null,r),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,Ae,l)):(l=f.cache,qi(n,Ae,l),l!==c.cache&&Qc(n,[Ae],r,!0))),je(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bp(n)){if(n=An.current,n!==null&&((jt&4194048)===jt?$n!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==$n))throw al=Xc,pm;t.flags|=8192}}function su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Oa():536870912,t.lanes|=n,Ks|=n)}function pl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Y_(t,n,r){var l=n.pendingProps;switch(Bc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(Ae),fn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),re(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(re(n),Og(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),re(n),Og(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),re(n),n.flags&=-16777217),null;case 27:Rn(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}t=ft.current,Wa(n)?um(n):(t=Op(c,l,r),n.stateNode=t,Si(n))}return re(n),null;case 5:if(Rn(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(t=ft.current,Wa(n))um(n);else{switch(c=vu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[be]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,Wa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[be]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,r)),t||Kr(n)}else t=vu(t).createTextNode(l),t[be]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Wa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[be]=n}else tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ai(n),n):(Ai(n),null)}if(Ai(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),su(n,n.updateQueue),re(n),null;case 4:return fn(),t===null&&Wh(n.stateNode.containerInfo),re(n),null;case 10:return Ei(n.type),re(n),null;case 19:if(rt(xe),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=tu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,su(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)lm(r,t),r=r.sibling;return et(xe,xe.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>ou&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=tu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,su(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return re(n),null}else 2*dn()-c.renderingStartTime>ou&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=xe.current,et(xe,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Ai(n),eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&su(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&rt($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(Ae),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function K_(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(Ae),fn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Rn(n),null;case 13:if(Ai(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(xe),null;case 4:return fn(),null;case 10:return Ei(n.type),null;case 22:case 23:return Ai(n),eh(),t!==null&&rt($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(Ae),null;case 25:return null;default:return null}}function Mg(t,n){switch(Bc(n),n.tag){case 3:Ei(Ae),fn();break;case 26:case 27:case 5:Rn(n);break;case 4:fn();break;case 13:Ai(n);break;case 19:rt(xe);break;case 10:Ei(n.type);break;case 22:case 23:Ai(n),eh(),t!==null&&rt($r);break;case 24:Ei(Ae)}}function yl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){$t(n,n.return,E)}}function Xi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=r,P=E;try{P()}catch(Q){$t(c,w,Q)}}}l=l.next}while(l!==f)}}catch(Q){$t(n,n.return,Q)}}function jg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Tm(n,r)}catch(l){$t(t,t.return,l)}}}function Ug(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){$t(t,n,l)}}function vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){$t(t,n,c)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){$t(t,n,c)}else r.current=null}function kg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){$t(t,t.return,c)}}function Nh(t,n,r){try{var l=t.stateNode;gb(l,t.type,r,n),l[me]=n}catch(c){$t(t,t.return,c)}}function Lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=yu));else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,r),t=t.sibling;t!==null;)Vh(t,n,r),t=t.sibling}function au(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(au(t,n,r),t=t.sibling;t!==null;)au(t,n,r),t=t.sibling}function Pg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,r),n[be]=t,n[me]=r}catch(f){$t(t,t.return,f)}}var wi=!1,he=!1,Ih=!1,zg=typeof WeakSet=="function"?WeakSet:Set,De=null;function X_(t,n){if(t=t.containerInfo,nf=xu,t=$d(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,w=-1,P=0,Q=0,K=t,B=null;e:for(;;){for(var q;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(w=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(q=K.firstChild)!==null;)B=K,K=q;for(;;){if(K===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++Q===l&&(w=y),(q=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=q}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},xu=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var _t=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){$t(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Bg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(t,r),l&4&&yl(5,r);break;case 1:if(Zi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(r,r.return,y)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(r,r.return,y)}}l&64&&jg(r),l&512&&vl(r,r.return);break;case 3:if(Zi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Tm(t,n)}catch(y){$t(r,r.return,y)}}break;case 27:n===null&&l&4&&Pg(r);case 26:case 5:Zi(t,r),n===null&&l&4&&kg(r),l&512&&vl(r,r.return);break;case 12:Zi(t,r);break;case 13:Zi(t,r),l&4&&Gg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=rb.bind(null,r),Tb(t,r))));break;case 22:if(l=r.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||he,c=wi;var f=he;wi=l,(he=n)&&!f?$i(t,r,(r.subtreeFlags&8772)!==0):Zi(t,r),wi=c,he=f}break;case 30:break;default:Zi(t,r)}}function qg(t){var n=t.alternate;n!==null&&(t.alternate=null,qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Li(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,Je=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Hg(t,n,r),r=r.sibling}function Hg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:he||Jn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:he||Jn(r,n);var l=ie,c=Je;ir(r.type)&&(ie=r.stateNode,Je=!1),Ri(t,n,r),Rl(r.stateNode),ie=l,Je=c;break;case 5:he||Jn(r,n);case 6:if(l=ie,c=Je,ie=null,Ri(t,n,r),ie=l,Je=c,ie!==null)if(Je)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:ie!==null&&(Je?(t=ie,Vp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jl(t)):Vp(ie,r.stateNode));break;case 4:l=ie,c=Je,ie=r.stateNode.containerInfo,Je=!0,Ri(t,n,r),ie=l,Je=c;break;case 0:case 11:case 14:case 15:he||Xi(2,r,n),he||Xi(4,r,n),Ri(t,n,r);break;case 1:he||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ug(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:he=(l=he)||r.memoizedState!==null,Ri(t,n,r),he=l;break;default:Ri(t,n,r)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(r){$t(n,n.return,r)}}function Z_(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new zg),n;default:throw Error(a(435,t.tag))}}function Oh(t,n){var r=Z_(t);n.forEach(function(l){var c=sb.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ir(E.type)){ie=E.stateNode,Je=!1;break t}break;case 5:ie=E.stateNode,Je=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(ie===null)throw Error(a(160));Hg(f,y,c),ie=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var In=null;function Qg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Xi(3,t,t.return),yl(3,t),Xi(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=In;if(ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,r),f[be]=t,ue(f),l=f;break t;case"link":var y=Pp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Pp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[be]=t,ue(f),l=f}t.stateNode=l}else zp(c,t.type,t.stateNode);else t.stateNode=Lp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?zp(c,t.type,t.stateNode):Lp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),r!==null&&l&4&&Nh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(he||r===null||Jn(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(q){$t(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Nh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){$t(t,t.return,q)}}break;case 3:if(Eu=null,c=In,In=_u(n.containerInfo),ln(n,t),In=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(q){$t(t,t.return,q)}Ih&&(Ih=!1,Fg(t));break;case 4:l=In,In=_u(t.stateNode.containerInfo),ln(n,t),on(t),In=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ph=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:c=t.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,P=wi,Q=he;if(wi=P||c,he=Q||w,ln(n,t),he=Q,wi=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||w||wi||he||ts(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var K=w.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){$t(w,w.return,q)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(q){$t(w,w.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oh(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Lg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);au(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(gn(y,""),r.flags&=-33);var E=Dh(t);au(t,E,y);break;case 3:case 4:var w=r.stateNode.containerInfo,P=Dh(t);Vh(t,P,w);break;default:throw Error(a(161))}}catch(Q){$t(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(t,n.alternate,n),n=n.sibling}function ts(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Xi(4,n,n.return),ts(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ug(n,n.return,r),ts(n);break;case 27:Rl(n.stateNode);case 26:case 5:Jn(n,n.return),ts(n);break;case 22:n.memoizedState===null&&ts(n);break;case 30:ts(n);break;default:ts(n)}t=t.sibling}}function $i(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:$i(c,f,r),yl(4,f);break;case 1:if($i(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){$t(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Em(w[c],E)}catch(P){$t(l,l.return,P)}}r&&y&64&&jg(f),vl(f,f.return);break;case 27:Pg(f);case 26:case 5:$i(c,f,r),r&&l===null&&y&4&&kg(f),vl(f,f.return);break;case 12:$i(c,f,r);break;case 13:$i(c,f,r),r&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&$i(c,f,r),vl(f,f.return);break;case 30:break;default:$i(c,f,r)}n=n.sibling}}function Mh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,r,l),n=n.sibling}function Yg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),c&2048&&yl(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):_l(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,Qs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Mh(y,n);break;case 24:Wn(t,n,r,l),c&2048&&jh(n.alternate,n);break;default:Wn(t,n,r,l)}}function Qs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,w=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Qs(f,y,E,w,c),yl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Qs(f,y,E,w,c):_l(f,y):(Q._visibility|=2,Qs(f,y,E,w,c)),c&&P&2048&&Mh(y.alternate,y);break;case 24:Qs(f,y,E,w,c),c&&P&2048&&jh(y.alternate,y);break;default:Qs(f,y,E,w,c)}n=n.sibling}}function _l(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:_l(r,l),c&2048&&Mh(l.alternate,l);break;case 24:_l(r,l),c&2048&&jh(l.alternate,l);break;default:_l(r,l)}n=n.sibling}}var bl=8192;function Fs(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:Fs(t),t.flags&bl&&t.memoizedState!==null&&jb(In,t.memoizedState,t.memoizedProps);break;case 5:Fs(t);break;case 3:case 4:var n=In;In=_u(t.stateNode.containerInfo),Fs(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,Fs(t),bl=n):Fs(t));break;default:Fs(t)}}function Xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function El(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,$g(l,t)}Xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Xi(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):El(t);break;default:El(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,$g(l,t)}Xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Xi(8,n,n.return),lu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function $g(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Xi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(qg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var $_={getCacheForType:function(t){var n=qe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},J_=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,jt=0,Qt=0,un=null,Ji=!1,Ys=!1,Uh=!1,Ci=0,oe=0,Wi=0,es=0,kh=0,xn=0,Ks=0,Tl=null,We=null,Lh=!1,Ph=0,ou=1/0,uu=null,tr=null,Ue=0,er=null,Xs=null,Zs=0,zh=0,Bh=null,Jg=null,Al=0,qh=null;function cn(){if((Gt&2)!==0&&jt!==0)return jt&-jt;if(G.T!==null){var t=ks;return t!==0?t:Xh()}return Ui()}function Wg(){xn===0&&(xn=(jt&536870912)===0||zt?Ia():536870912);var t=An.current;return t!==null&&(t.flags|=32),xn}function hn(t,n,r){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&($s(t,0),nr(t,jt,xn,!1)),ai(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(es|=r),oe===4&&nr(t,jt,xn,!1)),ti(t))}function tp(t,n,r){if((Gt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Rr(t,n),c=l?eb(t,n):Qh(t,n,!0),f=l;do{if(c===0){Ys&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!W_(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Tl;var w=E.current.memoizedState.isDehydrated;if(w&&($s(E,y).flags|=256),y=Qh(E,y,!1),y!==2){if(Uh&&!w){E.errorRecoveryDisabledLanes|=f,es|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){$s(t,0),nr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,xn,!Ji);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ph+300-dn(),10<c)){if(nr(l,n,xn,!Ji),ms(l,0,!0)!==0)break t;l.timeoutHandle=Np(ep.bind(null,l,r,We,uu,Lh,n,xn,es,Ks,Ji,f,2,-0,0),c);break t}ep(l,r,We,uu,Lh,n,xn,es,Ks,Ji,f,0,-0,0)}}break}while(!0);ti(t)}function ep(t,n,r,l,c,f,y,E,w,P,Q,K,B,q){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:Mb},Kg(n),K=Ub(),K!==null)){t.cancelPendingCommit=K(op.bind(null,t,n,f,r,l,c,y,E,w,Q,1,B,q)),nr(t,f,y,!P);return}op(t,n,f,r,l,c,y,E,w)}function W_(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~kh,n&=~es,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Be(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Pn(t,r,n)}function cu(){return(Gt&6)===0?(xl(0),!1):!0}function Hh(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,bi=Xr=null,ah(t),Hs=null,ml=0,t=Dt;for(;t!==null;)Mg(t.alternate,t),t=t.return;Dt=null}}function $s(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yb(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),Jt=t,Dt=r=yi(t.current,null),jt=n,Qt=0,un=null,Ji=!1,Ys=Rr(t,n),Uh=!1,Ks=xn=kh=es=Wi=oe=0,We=Tl=null,Lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Be(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Io(),r}function np(t,n){wt=null,G.H=$o,n===sl||n===Bo?(n=_m(),Qt=3):n===pm?(n=_m(),Qt=4):Qt=n===bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Dt===null&&(oe=1,nu(t,_n(n,t.current)))}function ip(){var t=G.H;return G.H=$o,t===null?$o:t}function rp(){var t=G.A;return G.A=$_,t}function Gh(){oe=4,Ji||(jt&4194048)!==jt&&An.current!==null||(Ys=!0),(Wi&134217727)===0&&(es&134217727)===0||Jt===null||nr(Jt,jt,xn,!1)}function Qh(t,n,r){var l=Gt;Gt|=2;var c=ip(),f=rp();(Jt!==t||jt!==n)&&(uu=null,$s(t,n)),n=!1;var y=oe;t:do try{if(Qt!==0&&Dt!==null){var E=Dt,w=un;switch(Qt){case 8:Hh(),y=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var P=Qt;if(Qt=0,un=null,Js(t,E,w,P),r&&Ys){y=0;break t}break;default:P=Qt,Qt=0,un=null,Js(t,E,w,P)}}tb(),y=oe;break}catch(Q){np(t,Q)}while(!0);return n&&t.shellSuspendCounter++,bi=Xr=null,Gt=l,G.H=c,G.A=f,Dt===null&&(Jt=null,jt=0,Io()),y}function tb(){for(;Dt!==null;)sp(Dt)}function eb(t,n){var r=Gt;Gt|=2;var l=ip(),c=rp();Jt!==t||jt!==n?(uu=null,ou=dn()+500,$s(t,n)):Ys=Rr(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=un;e:switch(Qt){case 1:Qt=0,un=null,Js(t,n,f,1);break;case 2:case 9:if(ym(f)){Qt=0,un=null,ap(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),ti(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ym(f)?(Qt=0,un=null,ap(n)):(Qt=0,un=null,Js(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Bp(y)){Qt=0,un=null;var w=E.sibling;if(w!==null)Dt=w;else{var P=E.return;P!==null?(Dt=P,hu(P)):Dt=null}break e}}Qt=0,un=null,Js(t,n,f,5);break;case 6:Qt=0,un=null,Js(t,n,f,6);break;case 8:Hh(),oe=6;break t;default:throw Error(a(462))}}nb();break}catch(Q){np(t,Q)}while(!0);return bi=Xr=null,G.H=l,G.A=c,Gt=r,Dt!==null?0:(Jt=null,jt=0,Io(),oe)}function nb(){for(;Dt!==null&&!Ca();)sp(Dt)}function sp(t){var n=Ig(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?hu(t):Dt=n}function ap(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=wg(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=wg(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:ah(n);default:Mg(r,n),n=Dt=lm(n,Ci),n=Ig(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?hu(t):Dt=n}function Js(t,n,r,l){bi=Xr=null,ah(n),Hs=null,ml=0;var c=n.return;try{if(Q_(t,c,n,r,jt)){oe=1,nu(t,_n(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;oe=1,nu(t,_n(r,t.current)),Dt=null;return}n.flags&32768?(zt||l===1?t=!0:Ys||(jt&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):hu(n)}function hu(t){var n=t;do{if((n.flags&32768)!==0){lp(n,Ji);return}t=n.return;var r=Y_(n.alternate,n,Ci);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function lp(t,n){do{var r=K_(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);oe=6,Dt=null}function op(t,n,r,l,c,f,y,E,w){t.cancelPendingCommit=null;do fu();while(Ue!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jc,Ma(t,r,f,y,E,w),t===Jt&&(Dt=Jt=null,jt=0),Xs=n,er=t,Zs=r,zh=f,Bh=c,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ab(Ar,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=it.p,it.p=2,y=Gt,Gt|=4;try{X_(t,n,r)}finally{Gt=y,it.p=c,G.T=l}}Ue=1,up(),cp(),hp()}}function up(){if(Ue===1){Ue=0;var t=er,n=Xs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var c=Gt;Gt|=4;try{Qg(n,t);var f=rf,y=$d(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(w!==null&&Dc(E)){var P=w.start,Q=w.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var q=B.getSelection(),_t=E.textContent.length,gt=Math.min(w.start,_t),Zt=w.end===void 0?gt:Math.min(w.end,_t);!q.extend&&gt>Zt&&(y=Zt,Zt=gt,gt=y);var U=Xd(E,gt),j=Xd(E,Zt);if(U&&j&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==j.node||q.focusOffset!==j.offset)){var L=K.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),gt>Zt?(q.addRange(L),q.extend(j.node,j.offset)):(L.setEnd(j.node,j.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}xu=!!nf,rf=nf=null}finally{Gt=c,it.p=l,G.T=r}}t.current=n,Ue=2}}function cp(){if(Ue===2){Ue=0;var t=er,n=Xs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=it.p;it.p=2;var c=Gt;Gt|=4;try{Bg(t,n.alternate,n)}finally{Gt=c,it.p=l,G.T=r}}Ue=3}}function hp(){if(Ue===4||Ue===3){Ue=0,ao();var t=er,n=Xs,r=Zs,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Xs=er=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(tr=null),gs(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=it.p,it.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=c}}(Zs&3)!==0&&fu(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===qh?Al++:(Al=0,qh=t):Al=0,xl(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function fu(t){return up(),cp(),hp(),dp()}function dp(){if(Ue!==5)return!1;var t=er,n=zh;zh=0;var r=gs(Zs),l=G.T,c=it.p;try{it.p=32>r?32:r,G.T=null,r=Bh,Bh=null;var f=er,y=Zs;if(Ue=0,Xs=er=null,Zs=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Zg(f.current),Yg(f,f.current,y,r),Gt=E,xl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{it.p=c,G.T=l,fp(t,n)}}function mp(t,n,r){n=_n(r,n),n=bh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(ai(t,2),ti(t))}function $t(t,n,r){if(t.tag===3)mp(t,t,r);else for(;n!==null;){if(n.tag===3){mp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=_n(r,t),r=vg(2),l=Qi(n,r,2),l!==null&&(_g(r,l,n,t),ai(l,2),ti(l));break}}n=n.return}}function Fh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new J_;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=ib.bind(null,t,n,r),n.then(t,t))}function ib(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(jt&r)===r&&(oe===4||oe===3&&(jt&62914560)===jt&&300>dn()-Ph?(Gt&2)===0&&$s(t,0):kh|=r,Ks===jt&&(Ks=0)),ti(t)}function gp(t,n){n===0&&(n=Oa()),t=Os(t,n),t!==null&&(ai(t,n),ti(t))}function rb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),gp(t,r)}function sb(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),gp(t,r)}function ab(t,n){return Er(t,n)}var du=null,Ws=null,Yh=!1,mu=!1,Kh=!1,ns=0;function ti(t){t!==Ws&&t.next===null&&(Ws===null?du=Ws=t:Ws=Ws.next=t),mu=!0,Yh||(Yh=!0,ob())}function xl(t,n){if(!Kh&&mu){Kh=!0;do for(var r=!1,l=du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Be(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,_p(l,f))}else f=jt,f=ms(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Rr(l,f)||(r=!0,_p(l,f));l=l.next}while(r);Kh=!1}}function lb(){pp()}function pp(){mu=Yh=!1;var t=0;ns!==0&&(pb()&&(t=ns),ns=0);for(var n=dn(),r=null,l=du;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,r===null?du=c:r.next=c,c===null&&(Ws=r)):(r=l,(t!==0||(f&3)!==0)&&(mu=!0)),l=c}xl(t)}function yp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Be(f),E=1<<y,w=c[y];w===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Va(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=jt,r=ms(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Rr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Tr(l),gs(r)){case 2:case 8:r=fs;break;case 32:r=Ar;break;case 268435456:r=ds;break;default:r=Ar}return l=vp.bind(null,t),r=Er(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function vp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fu()&&t.callbackNode!==r)return null;var l=jt;return l=ms(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,dn()),t.callbackNode!=null&&t.callbackNode===r?vp.bind(null,t):null)}function _p(t,n){if(fu())return null;tp(t,n,!0)}function ob(){vb(function(){(Gt&6)!==0?Er(Na,lb):pp()})}function Xh(){return ns===0&&(ns=Ia()),ns}function bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Es(""+t)}function Ep(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function ub(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=bp((c[me]||null).action),y=l.submitter;y&&(n=(n=y[me]||null)?bp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ts("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var w=y?Ep(c,y):new FormData(c);gh(r,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?Ep(c,y):new FormData(c),gh(r,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Zh=0;Zh<Mc.length;Zh++){var $h=Mc[Zh],cb=$h.toLowerCase(),hb=$h[0].toUpperCase()+$h.slice(1);Vn(cb,"on"+hb)}Vn(tm,"onAnimationEnd"),Vn(em,"onAnimationIteration"),Vn(nm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(C_,"onTransitionRun"),Vn(N_,"onTransitionStart"),Vn(D_,"onTransitionCancel"),Vn(im,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Tp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,P=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){eu(Q)}c.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,P=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){eu(Q)}c.currentTarget=null,f=w}}}}function Vt(t,n){var r=n[Ua];r===void 0&&(r=n[Ua]=new Set);var l=t+"__bubble";r.has(l)||(Ap(n,t,2,!1),r.add(l))}function Jh(t,n,r){var l=0;n&&(l|=4),Ap(r,t,l,n)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[gu]){t[gu]=!0,ka.forEach(function(r){r!=="selectionchange"&&(fb.has(r)||Jh(r,!1,t),Jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gu]||(n[gu]=!0,Jh("selectionchange",!1,n))}}function Ap(t,n,r,l){switch(Yp(n)){case 2:var c=Pb;break;case 8:c=zb;break;default:c=mf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}E=E.parentNode}}l=l.return}yo(function(){var P=f,Q=pn(r),K=[];t:{var B=rm.get(t);if(B!==void 0){var q=Ts,_t=t;switch(t){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":q=Cs;break;case"focusin":_t="focus",q=Ss;break;case"focusout":_t="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=So;break;case tm:case em:case nm:q=ws;break;case im:q=Ro;break;case"scroll":case"scrollend":q=vo;break;case"wheel":q=Ns;break;case"copy":case"cut":case"paste":q=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Xa;break;case"toggle":case"beforetoggle":q=No}var gt=(n&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var j=P,L;j!==null;){var F=j;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||U===null||(F=jr(j,U),F!=null&&gt.push(wl(j,F,L))),Zt)break;j=j.return}0<gt.length&&(B=new q(B,_t,null,r,Q),K.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==hi&&(_t=r.relatedTarget||r.fromElement)&&(li(_t)||_t[mn]))break t;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(_t=r.relatedTarget||r.toElement,q=P,_t=_t?li(_t):null,_t!==null&&(Zt=h(_t),gt=_t.tag,_t!==Zt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(q=null,_t=P),q!==_t)){if(gt=vn,F="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Xa,F="onPointerLeave",U="onPointerEnter",j="pointer"),Zt=q==null?B:Bn(q),L=_t==null?B:Bn(_t),B=new gt(F,j+"leave",q,r,Q),B.target=Zt,B.relatedTarget=L,F=null,li(Q)===P&&(gt=new gt(U,j+"enter",_t,r,Q),gt.target=L,gt.relatedTarget=Zt,F=gt),Zt=F,q&&_t)e:{for(gt=q,U=_t,j=0,L=gt;L;L=ta(L))j++;for(L=0,F=U;F;F=ta(F))L++;for(;0<j-L;)gt=ta(gt),j--;for(;0<L-j;)U=ta(U),L--;for(;j--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=ta(gt),U=ta(U)}gt=null}else gt=null;q!==null&&xp(K,B,q,gt,!1),_t!==null&&Zt!==null&&xp(K,Zt,_t,gt,!0)}}t:{if(B=P?Bn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ot=Hd;else if(Te(B))if(Gd)ot=S_;else{ot=A_;var Ct=T_}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&qa(P.elementType)&&(ot=Hd):ot=x_;if(ot&&(ot=ot(t,P))){pi(K,ot,r,Q);break t}Ct&&Ct(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&zi(B,"number",B.value)}switch(Ct=P?Bn(P):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(Ds=Ct,Vc=P,Ja=null);break;case"focusout":Ja=Vc=Ds=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Jd(K,r,Q);break;case"selectionchange":if(R_)break;case"keydown":case"keyup":Jd(K,r,Q)}var ct;if(Kn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?H(t,r)&&(pt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(pt="onCompositionStart");pt&&(p&&r.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(ct=Ga()):(Gn=Q,Bi="value"in Gn?Gn.value:Gn.textContent,Ot=!0)),Ct=pu(P,pt),0<Ct.length&&(pt=new Ya(pt,t,null,r,Q),K.push({event:pt,listeners:Ct}),ct?pt.data=ct:(ct=nt(r),ct!==null&&(pt.data=ct)))),(ct=m?Ee(t,r):Mt(t,r))&&(pt=pu(P,"onBeforeInput"),0<pt.length&&(Ct=new Ya("onBeforeInput","beforeinput",null,r,Q),K.push({event:Ct,listeners:pt}),Ct.data=ct)),ub(K,t,P,r,Q)}Tp(K,n)})}function wl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(t,r),c!=null&&l.unshift(wl(t,c,f)),c=jr(t,n),c!=null&&l.push(wl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,w=E.alternate,P=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||P===null||(w=P,c?(P=jr(r,f),P!=null&&y.unshift(wl(r,P,w))):c||(P=jr(r,f),P!=null&&y.push(wl(r,P,w)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(db,`
`).replace(mb,"")}function wp(t,n){return n=Sp(n),Sp(t)===n}function yu(){}function Xt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":Ba(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Es(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Es(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=yu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Es(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Pi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xc.get(r)||r,Pi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":Ba(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Pi(t,r,l)}}}function ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,f,y,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,w=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":w=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Xt(t,n,l,Q,r,null)}}Ir(t,f,E,w,P,y,c,!1),bs(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):r!=null&&ci(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(t,n,y,E,r,null)}Or(t,l,c,f),bs(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Vt(Sl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(t,n,P,l,r,null)}return;default:if(qa(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&ef(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function gb(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,w=null,P=null,Q=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=K;default:l.hasOwnProperty(q)||Xt(t,n,q,null,l,K)}}for(var B in l){var q=l[B];if(K=r[B],l.hasOwnProperty(B)&&(q!=null||K!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":Q=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Xt(t,n,B,q,l,K)}}rn(t,y,E,w,P,Q,f,c);return;case"select":q=y=E=B=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=r[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,r=y,l=q,B!=null?ci(t,!!r,B,!1):!!l!=!!r&&(n!=null?ci(t,!!r,n,!0):ci(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}Yt(t,B,q);return;case"option":for(var _t in r)if(B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t))switch(_t){case"selected":t.selected=!1;break;default:Xt(t,n,_t,null,l,B)}for(w in l)if(B=l[w],q=r[w],l.hasOwnProperty(w)&&B!==q&&(B!=null||q!=null))switch(w){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,w,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Xt(t,n,gt,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Xt(t,n,P,B,l,q)}return;default:if(qa(n)){for(var Zt in r)B=r[Zt],r.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&ef(t,n,Zt,void 0,l,B);for(Q in l)B=l[Q],q=r[Q],!l.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||ef(t,n,Q,B,l,q);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,B);for(K in l)B=l[K],q=r[K],!l.hasOwnProperty(K)||B===q||B==null&&q==null||Xt(t,n,K,B,l,q)}var nf=null,rf=null;function vu(t){return t.nodeType===9?t:t.ownerDocument}function Rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var af=null;function pb(){var t=window.event;return t&&t.type==="popstate"?t===af?!1:(af=t,!0):(af=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(t){return Dp.resolve(null).then(t).catch(_b)}:Np;function _b(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function Vp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Rl(y.documentElement),r&2&&Rl(y.body),r&4)for(r=y.head,Rl(r),y=r.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[Cr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);jl(n)}function lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lf(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function bb(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function Eb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Tb(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function Ip(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Op(t,n,r){switch(n=vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Li(t)}var Sn=new Map,Mp=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=it.d;it.d={f:Ab,r:xb,D:Sb,C:wb,L:Rb,m:Cb,X:Db,S:Nb,M:Vb};function Ab(){var t=Ni.f(),n=cu();return t||n}function xb(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):Ni.r(t)}var ea=typeof document>"u"?null:document;function jp(t,n,r){var l=ea;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Mp.has(c)||(Mp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),ue(n),l.head.appendChild(n)))}}function Sb(t){Ni.D(t),jp("dns-prefetch",t,null)}function wb(t,n){Ni.C(t,n),jp("preconnect",t,n)}function Rb(t,n,r){Ni.L(t,n,r);var l=ea;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=na(t);break;case"script":f=ia(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),ke(n,"link",t),ue(n),l.head.appendChild(n)))}}function Cb(t,n){Ni.m(t,n);var r=ea;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ia(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Nl(f)))return}l=r.createElement("link"),ke(l,"link",t),ue(l),r.head.appendChild(l)}}}function Nb(t,n,r){Ni.S(t,n,r);var l=ea;if(l&&t){var c=Ye(l).hoistableStyles,f=na(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(f))&&cf(t,r);var w=y=l.createElement("link");ue(w),ke(w,"link",t),w._p=new Promise(function(P,Q){w.onload=P,w.onerror=Q}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function Db(t,n){Ni.X(t,n);var r=ea;if(r&&t){var l=Ye(r).hoistableScripts,c=ia(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Vb(t,n){Ni.M(t,n);var r=ea;if(r&&t){var l=Ye(r).hoistableScripts,c=ia(t),f=l.get(c);f||(f=r.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&hf(t,n),f=r.createElement("script"),ue(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Up(t,n,r,l){var c=(c=vt.current)?_u(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=na(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=na(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),f||Ib(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ia(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function na(t){return'href="'+ge(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Ib(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",r),ue(n),t.head.appendChild(n))}function ia(t){return'[src="'+ge(t)+'"]'}function Nl(t){return"script[async]"+t}function Lp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ke(l,"style",c),bu(l,r.precedence,t),n.instance=l;case"stylesheet":c=na(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=kp(r),(c=Sn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),ke(f,"link",l),n.state.loading|=4,bu(f,r.precedence,t),n.instance=f;case"script":return f=ia(r.src),(c=t.querySelector(Nl(f)))?(n.instance=c,ue(c),c):(l=r,(c=Sn.get(f))&&(l=A({},r),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bu(l,r.precedence,t));return n.instance}function bu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eu=null;function Pp(t,n,r){if(Eu===null){var l=new Map,c=Eu=new Map;c.set(r,l)}else c=Eu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[be]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function zp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Ob(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function Mb(){}function jb(t,n,r){if(Dl===null)throw Error(a(475));var l=Dl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=na(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Tu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=kp(r),(c=Sn.get(c))&&cf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),ke(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Tu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function Ub(){if(Dl===null)throw Error(a(475));var t=Dl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(kb,t),Au=null,Tu.call(t))}function kb(t,n){if(!(n.state.loading&4)){var r=Au.get(t);if(r)var l=r.get(null);else{r=new Map,Au.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Tu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Vl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Lb(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qp(t,n,r,l,c,f,y,E,w,P,Q,K){return t=new Lb(t,n,r,y,E,w,P,K),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),t}function Hp(t){return t?(t=Ms,t):Ms}function Gp(t,n,r,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=Gi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Qi(t,l,n),r!==null&&(hn(r,t,n),ll(r,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function df(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Fp(t){if(t.tag===13){var n=Os(t,67108864);n!==null&&hn(n,t,67108864),df(t,67108864)}}var xu=!0;function Pb(t,n,r,l){var c=G.T;G.T=null;var f=it.p;try{it.p=2,mf(t,n,r,l)}finally{it.p=f,G.T=c}}function zb(t,n,r,l){var c=G.T;G.T=null;var f=it.p;try{it.p=8,mf(t,n,r,l)}finally{it.p=f,G.T=c}}function mf(t,n,r,l){if(xu){var c=gf(l);if(c===null)tf(t,n,l,Su,r),Kp(t,l);else if(qb(c,t,n,r,l))l.stopPropagation();else if(Kp(t,l),n&4&&-1<Bb.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-Be(y);E.entanglements[1]|=w,y&=~w}ti(f),(Gt&6)===0&&(ou=dn()+500,xl(0))}}break;case 13:E=Os(f,2),E!==null&&hn(E,f,2),cu(),df(f,2)}if(f=gf(l),f===null&&tf(t,n,l,Su,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function gf(t){return t=pn(t),pf(t)}var Su=null;function pf(t){if(Su=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Su=t,null}function Yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vc()){case Na:return 2;case fs:return 8;case Ar:case _c:return 32;case ds:return 268435456;default:return 32}default:return 32}}var yf=!1,rr=null,sr=null,ar=null,Il=new Map,Ol=new Map,lr=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Fp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function qb(t,n,r,l,c){switch(n){case"focusin":return rr=Ml(rr,t,n,r,l,c),!0;case"dragenter":return sr=Ml(sr,t,n,r,l,c),!0;case"mouseover":return ar=Ml(ar,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Il.set(f,Ml(Il.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ol.set(f,Ml(Ol.get(f)||null,t,n,r,l,c)),!0}return!1}function Xp(t){var n=li(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,uo(t.priority,function(){if(r.tag===13){var l=cn();l=ji(l);var c=Os(r,l);c!==null&&hn(c,r,l),df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hi=l,r.target.dispatchEvent(l),hi=null}else return n=zn(r),n!==null&&Fp(n),t.blockedOn=r,!1;n.shift()}return!0}function Zp(t,n,r){wu(t)&&r.delete(n)}function Hb(){yf=!1,rr!==null&&wu(rr)&&(rr=null),sr!==null&&wu(sr)&&(sr=null),ar!==null&&wu(ar)&&(ar=null),Il.forEach(Zp),Ol.forEach(Zp)}function Ru(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Hb)))}var Cu=null;function $p(t){Cu!==t&&(Cu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,gh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function jl(t){function n(w){return Ru(w,t)}rr!==null&&Ru(rr,t),sr!==null&&Ru(sr,t),ar!==null&&Ru(ar,t),Il.forEach(n),Ol.forEach(n);for(var r=0;r<lr.length;r++){var l=lr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Xp(r),r.blockedOn===null&&lr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[me]||null;if(typeof f=="function")y||$p(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[me]||null)E=y.formAction;else if(pf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),$p(r)}}}function vf(t){this._internalRoot=t}Nu.prototype.render=vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Gp(r,l,t,n,null,null)},Nu.prototype.unmount=vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),cu(),n[mn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ui();t={blockedOn:null,target:t,priority:n};for(var r=0;r<lr.length&&n!==0&&n<lr[r].priority;r++);lr.splice(r,0,t),r===0&&Xp(t)}};var Jp=e.version;if(Jp!=="19.1.0")throw Error(a(527,Jp,"19.1.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{ae=Du.inject(Gb),Ht=Du}catch{}}return kl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=mg,f=gg,y=pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=qp(t,1,!1,null,null,r,l,c,f,y,E,null),t[mn]=n.current,Wh(t),new vf(n)},kl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=mg,y=gg,E=pg,w=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=qp(t,1,!0,n,r??null,l,c,f,y,E,w,P),n.context=Hp(null),r=n.current,l=cn(),l=ji(l),c=Gi(l),c.callback=null,Qi(r,c,l),r=l,n.current.lanes=r,ai(n,r),ti(n),t[mn]=n.current,Wh(t),new Nu(n)},kl.version="19.1.0",kl}var oy;function tE(){if(oy)return Ef.exports;oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ef.exports=Wb(),Ef.exports}var eE=tE();const nE="modulepreload",iE=function(s){return"/youtube-bgm-research/"+s},uy={},cy=function(e,i,a){let o=Promise.resolve();if(i&&i.length>0){let d=function(v){return Promise.all(v.map(A=>Promise.resolve(A).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));o=d(i.map(v=>{if(v=iE(v),v in uy)return;uy[v]=!0;const A=v.endsWith(".css"),N=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${N}`))return;const V=document.createElement("link");if(V.rel=A?"stylesheet":nE,A||(V.as="script"),V.crossOrigin="",V.href=v,_&&V.setAttribute("nonce",_),document.head.appendChild(V),A)return new Promise((z,X)=>{V.addEventListener("load",z),V.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&h(g.reason);return e().catch(h)})},rE=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},sE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let V=(g&15)<<2|v>>6,z=v&63;_||(z=64,d||(V=64)),a.push(i[A],i[N],i[V],i[z])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(w0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):sE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||N==null)throw new aE;const V=h<<2|g>>4;if(a.push(V),v!==64){const z=g<<4&240|v>>2;if(a.push(z),N!==64){const X=v<<6&192|N;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class aE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lE=function(s){const e=w0(s);return R0.encodeByteArray(e,!0)},qu=function(s){return lE(s).replace(/\./g,"")},oE=function(s){try{return R0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=()=>uE().__FIREBASE_DEFAULTS__,hE=()=>{if(typeof process>"u"||typeof hy>"u")return;const s=hy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},fE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&oE(s[1]);return e&&JSON.parse(e)},rd=()=>{try{return rE()||cE()||hE()||fE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dE=s=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},mE=s=>{const e=dE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},C0=()=>{var s;return(s=rd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s){return s.endsWith(".cloudworkstations.dev")}async function pE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qu(JSON.stringify(i)),qu(JSON.stringify(d)),""].join(".")}const ql={};function vE(){const s={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?s.emulator.push(e):s.prod.push(e);return s}function _E(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let fy=!1;function bE(s,e){if(typeof window>"u"||typeof document>"u"||!sd(window.location.host)||ql[s]===e||ql[s]||fy)return;ql[s]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=vE().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,z){V.setAttribute("width","24"),V.setAttribute("id",z),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{fy=!0,d()},V}function A(V,z){V.setAttribute("id",z),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function N(){const V=_E(a),z=i("text"),X=document.getElementById(z)||document.createElement("span"),st=i("learnmore"),tt=document.getElementById(st)||document.createElement("a"),Tt=i("preprendIcon"),ht=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;g(mt),A(tt,st);const W=v();_(ht,Tt),mt.append(ht,X,tt,W),document.body.appendChild(mt)}h?(X.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TE(){var s;const e=(s=rd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AE(){return!TE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xE(){try{return typeof indexedDB=="object"}catch{return!1}}function SE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="FirebaseError";class Ea extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=wE,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N0.prototype.create)}}class N0{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?RE(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ea(o,g,a)}}function RE(s,e){return s.replace(CE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const CE=/\{\$([^}]+)}/g;function Hu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(dy(h)&&dy(d)){if(!Hu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function dy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(s){return s&&s._delegate?s._delegate:s}class Yl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new gE;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VE(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:DE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DE(s){return s===is?void 0:s}function VE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const OE={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},ME=kt.INFO,jE={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},UE=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=jE[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D0{constructor(e){this.name=e,this._logLevel=ME,this._logHandler=UE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const kE=(s,e)=>e.some(i=>s instanceof i);let my,gy;function LE(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PE(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Mf=new WeakMap,I0=new WeakMap,Sf=new WeakMap,ad=new WeakMap;function zE(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(cr(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&V0.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function BE(s){if(Mf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Mf.set(s,e)}let jf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Mf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||I0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return cr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function qE(s){jf=s(jf)}function HE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(wf(this),e,...i);return I0.set(a,e.sort?e.sort():[e]),cr(a)}:PE().includes(s)?function(...e){return s.apply(wf(this),e),cr(V0.get(this))}:function(...e){return cr(s.apply(wf(this),e))}}function GE(s){return typeof s=="function"?HE(s):(s instanceof IDBTransaction&&BE(s),kE(s,LE())?new Proxy(s,jf):s)}function cr(s){if(s instanceof IDBRequest)return zE(s);if(Sf.has(s))return Sf.get(s);const e=GE(s);return e!==s&&(Sf.set(s,e),ad.set(e,s)),e}const wf=s=>ad.get(s);function QE(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=cr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(cr(d.result),_.oldVersion,_.newVersion,cr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const FE=["get","getKey","getAll","getAllKeys","count"],YE=["put","add","delete","clear"],Rf=new Map;function py(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Rf.get(e))return Rf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=YE.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||FE.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Rf.set(e,h),h}qE(s=>({...s,get:(e,i,a)=>py(e,i)||s.get(e,i,a),has:(e,i)=>!!py(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function XE(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",yy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new D0("@firebase/app"),ZE="@firebase/app-compat",$E="@firebase/analytics-compat",JE="@firebase/analytics",WE="@firebase/app-check-compat",tT="@firebase/app-check",eT="@firebase/auth",nT="@firebase/auth-compat",iT="@firebase/database",rT="@firebase/data-connect",sT="@firebase/database-compat",aT="@firebase/functions",lT="@firebase/functions-compat",oT="@firebase/installations",uT="@firebase/installations-compat",cT="@firebase/messaging",hT="@firebase/messaging-compat",fT="@firebase/performance",dT="@firebase/performance-compat",mT="@firebase/remote-config",gT="@firebase/remote-config-compat",pT="@firebase/storage",yT="@firebase/storage-compat",vT="@firebase/firestore",_T="@firebase/ai",bT="@firebase/firestore-compat",ET="firebase",TT="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",AT={[Uf]:"fire-core",[ZE]:"fire-core-compat",[JE]:"fire-analytics",[$E]:"fire-analytics-compat",[tT]:"fire-app-check",[WE]:"fire-app-check-compat",[eT]:"fire-auth",[nT]:"fire-auth-compat",[iT]:"fire-rtdb",[rT]:"fire-data-connect",[sT]:"fire-rtdb-compat",[aT]:"fire-fn",[lT]:"fire-fn-compat",[oT]:"fire-iid",[uT]:"fire-iid-compat",[cT]:"fire-fcm",[hT]:"fire-fcm-compat",[fT]:"fire-perf",[dT]:"fire-perf-compat",[mT]:"fire-rc",[gT]:"fire-rc-compat",[pT]:"fire-gcs",[yT]:"fire-gcs-compat",[vT]:"fire-fst",[bT]:"fire-fst-compat",[_T]:"fire-vertex","fire-js":"fire-js",[ET]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,xT=new Map,Lf=new Map;function vy(s,e){try{s.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qu(s){const e=s.name;if(Lf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Lf.set(e,s);for(const i of Gu.values())vy(i,s);for(const i of xT.values())vy(i,s);return!0}function ST(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function wT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new N0("app","Firebase",RT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=TT;function O0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:kf,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(i||(i=C0()),!i)throw hr.create("no-options");const h=Gu.get(o);if(h){if(Hu(i,h.options)&&Hu(a,h.config))return h;throw hr.create("duplicate-app",{appName:o})}const d=new IE(o);for(const _ of Lf.values())d.addComponent(_);const g=new CT(i,a,d);return Gu.set(o,g),g}function DT(s=kf){const e=Gu.get(s);if(!e&&s===kf&&C0())return O0();if(!e)throw hr.create("no-app",{appName:s});return e}function oa(s,e,i){var a;let o=(a=AT[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}Qu(new Yl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="firebase-heartbeat-database",IT=1,Kl="firebase-heartbeat-store";let Cf=null;function M0(){return Cf||(Cf=QE(VT,IT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function OT(s){try{const i=(await M0()).transaction(Kl),a=await i.objectStore(Kl).get(j0(s));return await i.done,a}catch(e){if(e instanceof Ea)Vi.warn(e.message);else{const i=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function _y(s,e){try{const a=(await M0()).transaction(Kl,"readwrite");await a.objectStore(Kl).put(e,j0(s)),await a.done}catch(i){if(i instanceof Ea)Vi.warn(i.message);else{const a=hr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(a.message)}}}function j0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=1024,jT=30;class UT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=by();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>jT){const d=PT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=by(),{heartbeatsToSend:a,unsentEntries:o}=kT(this._heartbeatsCache.heartbeats),h=qu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function by(){return new Date().toISOString().substring(0,10)}function kT(s,e=MT){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ey(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ey(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class LT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xE()?SE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ey(s){return qu(JSON.stringify({version:2,heartbeats:s})).length}function PT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(s){Qu(new Yl("platform-logger",e=>new KE(e),"PRIVATE")),Qu(new Yl("heartbeat",e=>new UT(e),"PRIVATE")),oa(Uf,yy,s),oa(Uf,yy,"esm2017"),oa("fire-js","")}zT("");var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,U0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function R(){}R.prototype=x.prototype,I.D=x.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(M,C,D){for(var S=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)S[Wt-2]=arguments[Wt];return x.prototype[C].apply(M,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,R){R||(R=0);var M=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)M[C]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(C=0;16>C;++C)M[C]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=I.g[0],R=I.g[1],C=I.g[2];var D=I.g[3],S=x+(D^R&(C^D))+M[0]+3614090360&4294967295;x=R+(S<<7&4294967295|S>>>25),S=D+(C^x&(R^C))+M[1]+3905402710&4294967295,D=x+(S<<12&4294967295|S>>>20),S=C+(R^D&(x^R))+M[2]+606105819&4294967295,C=D+(S<<17&4294967295|S>>>15),S=R+(x^C&(D^x))+M[3]+3250441966&4294967295,R=C+(S<<22&4294967295|S>>>10),S=x+(D^R&(C^D))+M[4]+4118548399&4294967295,x=R+(S<<7&4294967295|S>>>25),S=D+(C^x&(R^C))+M[5]+1200080426&4294967295,D=x+(S<<12&4294967295|S>>>20),S=C+(R^D&(x^R))+M[6]+2821735955&4294967295,C=D+(S<<17&4294967295|S>>>15),S=R+(x^C&(D^x))+M[7]+4249261313&4294967295,R=C+(S<<22&4294967295|S>>>10),S=x+(D^R&(C^D))+M[8]+1770035416&4294967295,x=R+(S<<7&4294967295|S>>>25),S=D+(C^x&(R^C))+M[9]+2336552879&4294967295,D=x+(S<<12&4294967295|S>>>20),S=C+(R^D&(x^R))+M[10]+4294925233&4294967295,C=D+(S<<17&4294967295|S>>>15),S=R+(x^C&(D^x))+M[11]+2304563134&4294967295,R=C+(S<<22&4294967295|S>>>10),S=x+(D^R&(C^D))+M[12]+1804603682&4294967295,x=R+(S<<7&4294967295|S>>>25),S=D+(C^x&(R^C))+M[13]+4254626195&4294967295,D=x+(S<<12&4294967295|S>>>20),S=C+(R^D&(x^R))+M[14]+2792965006&4294967295,C=D+(S<<17&4294967295|S>>>15),S=R+(x^C&(D^x))+M[15]+1236535329&4294967295,R=C+(S<<22&4294967295|S>>>10),S=x+(C^D&(R^C))+M[1]+4129170786&4294967295,x=R+(S<<5&4294967295|S>>>27),S=D+(R^C&(x^R))+M[6]+3225465664&4294967295,D=x+(S<<9&4294967295|S>>>23),S=C+(x^R&(D^x))+M[11]+643717713&4294967295,C=D+(S<<14&4294967295|S>>>18),S=R+(D^x&(C^D))+M[0]+3921069994&4294967295,R=C+(S<<20&4294967295|S>>>12),S=x+(C^D&(R^C))+M[5]+3593408605&4294967295,x=R+(S<<5&4294967295|S>>>27),S=D+(R^C&(x^R))+M[10]+38016083&4294967295,D=x+(S<<9&4294967295|S>>>23),S=C+(x^R&(D^x))+M[15]+3634488961&4294967295,C=D+(S<<14&4294967295|S>>>18),S=R+(D^x&(C^D))+M[4]+3889429448&4294967295,R=C+(S<<20&4294967295|S>>>12),S=x+(C^D&(R^C))+M[9]+568446438&4294967295,x=R+(S<<5&4294967295|S>>>27),S=D+(R^C&(x^R))+M[14]+3275163606&4294967295,D=x+(S<<9&4294967295|S>>>23),S=C+(x^R&(D^x))+M[3]+4107603335&4294967295,C=D+(S<<14&4294967295|S>>>18),S=R+(D^x&(C^D))+M[8]+1163531501&4294967295,R=C+(S<<20&4294967295|S>>>12),S=x+(C^D&(R^C))+M[13]+2850285829&4294967295,x=R+(S<<5&4294967295|S>>>27),S=D+(R^C&(x^R))+M[2]+4243563512&4294967295,D=x+(S<<9&4294967295|S>>>23),S=C+(x^R&(D^x))+M[7]+1735328473&4294967295,C=D+(S<<14&4294967295|S>>>18),S=R+(D^x&(C^D))+M[12]+2368359562&4294967295,R=C+(S<<20&4294967295|S>>>12),S=x+(R^C^D)+M[5]+4294588738&4294967295,x=R+(S<<4&4294967295|S>>>28),S=D+(x^R^C)+M[8]+2272392833&4294967295,D=x+(S<<11&4294967295|S>>>21),S=C+(D^x^R)+M[11]+1839030562&4294967295,C=D+(S<<16&4294967295|S>>>16),S=R+(C^D^x)+M[14]+4259657740&4294967295,R=C+(S<<23&4294967295|S>>>9),S=x+(R^C^D)+M[1]+2763975236&4294967295,x=R+(S<<4&4294967295|S>>>28),S=D+(x^R^C)+M[4]+1272893353&4294967295,D=x+(S<<11&4294967295|S>>>21),S=C+(D^x^R)+M[7]+4139469664&4294967295,C=D+(S<<16&4294967295|S>>>16),S=R+(C^D^x)+M[10]+3200236656&4294967295,R=C+(S<<23&4294967295|S>>>9),S=x+(R^C^D)+M[13]+681279174&4294967295,x=R+(S<<4&4294967295|S>>>28),S=D+(x^R^C)+M[0]+3936430074&4294967295,D=x+(S<<11&4294967295|S>>>21),S=C+(D^x^R)+M[3]+3572445317&4294967295,C=D+(S<<16&4294967295|S>>>16),S=R+(C^D^x)+M[6]+76029189&4294967295,R=C+(S<<23&4294967295|S>>>9),S=x+(R^C^D)+M[9]+3654602809&4294967295,x=R+(S<<4&4294967295|S>>>28),S=D+(x^R^C)+M[12]+3873151461&4294967295,D=x+(S<<11&4294967295|S>>>21),S=C+(D^x^R)+M[15]+530742520&4294967295,C=D+(S<<16&4294967295|S>>>16),S=R+(C^D^x)+M[2]+3299628645&4294967295,R=C+(S<<23&4294967295|S>>>9),S=x+(C^(R|~D))+M[0]+4096336452&4294967295,x=R+(S<<6&4294967295|S>>>26),S=D+(R^(x|~C))+M[7]+1126891415&4294967295,D=x+(S<<10&4294967295|S>>>22),S=C+(x^(D|~R))+M[14]+2878612391&4294967295,C=D+(S<<15&4294967295|S>>>17),S=R+(D^(C|~x))+M[5]+4237533241&4294967295,R=C+(S<<21&4294967295|S>>>11),S=x+(C^(R|~D))+M[12]+1700485571&4294967295,x=R+(S<<6&4294967295|S>>>26),S=D+(R^(x|~C))+M[3]+2399980690&4294967295,D=x+(S<<10&4294967295|S>>>22),S=C+(x^(D|~R))+M[10]+4293915773&4294967295,C=D+(S<<15&4294967295|S>>>17),S=R+(D^(C|~x))+M[1]+2240044497&4294967295,R=C+(S<<21&4294967295|S>>>11),S=x+(C^(R|~D))+M[8]+1873313359&4294967295,x=R+(S<<6&4294967295|S>>>26),S=D+(R^(x|~C))+M[15]+4264355552&4294967295,D=x+(S<<10&4294967295|S>>>22),S=C+(x^(D|~R))+M[6]+2734768916&4294967295,C=D+(S<<15&4294967295|S>>>17),S=R+(D^(C|~x))+M[13]+1309151649&4294967295,R=C+(S<<21&4294967295|S>>>11),S=x+(C^(R|~D))+M[4]+4149444226&4294967295,x=R+(S<<6&4294967295|S>>>26),S=D+(R^(x|~C))+M[11]+3174756917&4294967295,D=x+(S<<10&4294967295|S>>>22),S=C+(x^(D|~R))+M[2]+718787259&4294967295,C=D+(S<<15&4294967295|S>>>17),S=R+(D^(C|~x))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+D&4294967295}a.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var R=x-this.blockSize,M=this.B,C=this.h,D=0;D<x;){if(C==0)for(;D<=R;)o(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<x;)if(M[C++]=I.charCodeAt(D++),C==this.blockSize){o(this,M),C=0;break}}else for(;D<x;)if(M[C++]=I[D++],C==this.blockSize){o(this,M),C=0;break}}this.h=C,this.o+=x},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var R=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=R&255,R/=256;for(this.u(I),I=Array(16),x=R=0;4>x;++x)for(var M=0;32>M;M+=8)I[R++]=this.g[x]>>>M&255;return I};function h(I,x){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=x(I)}function d(I,x){this.h=x;for(var R=[],M=!0,C=I.length-1;0<=C;C--){var D=I[C]|0;M&&D==x||(R[C]=D,M=!1)}this.g=R}var g={};function _(I){return-128<=I&&128>I?h(I,function(x){return new d([x|0],0>x?-1:0)}):new d([I|0],0>I?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return N;if(0>I)return tt(v(-I));for(var x=[],R=1,M=0;I>=R;M++)x[M]=I/R|0,R*=4294967296;return new d(x,0)}function A(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return tt(A(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(x,8)),M=N,C=0;C<I.length;C+=8){var D=Math.min(8,I.length-C),S=parseInt(I.substring(C,C+D),x);8>D?(D=v(Math.pow(x,D)),M=M.j(D).add(v(S))):(M=M.j(R),M=M.add(v(S)))}return M}var N=_(0),V=_(1),z=_(16777216);s=d.prototype,s.m=function(){if(st(this))return-tt(this).m();for(var I=0,x=1,R=0;R<this.g.length;R++){var M=this.i(R);I+=(0<=M?M:4294967296+M)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(X(this))return"0";if(st(this))return"-"+tt(this).toString(I);for(var x=v(Math.pow(I,6)),R=this,M="";;){var C=W(R,x).g;R=Tt(R,C.j(x));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=C,X(R))return D+M;for(;6>D.length;)D="0"+D;M=D+M}},s.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function X(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function st(I){return I.h==-1}s.l=function(I){return I=Tt(this,I),st(I)?-1:X(I)?0:1};function tt(I){for(var x=I.g.length,R=[],M=0;M<x;M++)R[M]=~I.g[M];return new d(R,~I.h).add(V)}s.abs=function(){return st(this)?tt(this):this},s.add=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],M=0,C=0;C<=x;C++){var D=M+(this.i(C)&65535)+(I.i(C)&65535),S=(D>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);M=S>>>16,D&=65535,S&=65535,R[C]=S<<16|D}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Tt(I,x){return I.add(tt(x))}s.j=function(I){if(X(this)||X(I))return N;if(st(this))return st(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(st(I))return tt(this.j(tt(I)));if(0>this.l(z)&&0>I.l(z))return v(this.m()*I.m());for(var x=this.g.length+I.g.length,R=[],M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var C=0;C<I.g.length;C++){var D=this.i(M)>>>16,S=this.i(M)&65535,Wt=I.i(C)>>>16,te=I.i(C)&65535;R[2*M+2*C]+=S*te,ht(R,2*M+2*C),R[2*M+2*C+1]+=D*te,ht(R,2*M+2*C+1),R[2*M+2*C+1]+=S*Wt,ht(R,2*M+2*C+1),R[2*M+2*C+2]+=D*Wt,ht(R,2*M+2*C+2)}for(M=0;M<x;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=x;M<2*x;M++)R[M]=0;return new d(R,0)};function ht(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function mt(I,x){this.g=I,this.h=x}function W(I,x){if(X(x))throw Error("division by zero");if(X(I))return new mt(N,N);if(st(I))return x=W(tt(I),x),new mt(tt(x.g),tt(x.h));if(st(x))return x=W(I,tt(x)),new mt(tt(x.g),x.h);if(30<I.g.length){if(st(I)||st(x))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=x;0>=M.l(I);)R=J(R),M=J(M);var C=bt(R,1),D=bt(M,1);for(M=bt(M,2),R=bt(R,2);!X(M);){var S=D.add(M);0>=S.l(I)&&(C=C.add(R),D=S),M=bt(M,1),R=bt(R,1)}return x=Tt(I,C.j(x)),new mt(C,x)}for(C=N;0<=I.l(x);){for(R=Math.max(1,Math.floor(I.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),D=v(R),S=D.j(x);st(S)||0<S.l(I);)R-=M,D=v(R),S=D.j(x);X(D)&&(D=V),C=C.add(D),I=Tt(I,S)}return new mt(C,I)}s.A=function(I){return W(this,I).h},s.and=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],M=0;M<x;M++)R[M]=this.i(M)&I.i(M);return new d(R,this.h&I.h)},s.or=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],M=0;M<x;M++)R[M]=this.i(M)|I.i(M);return new d(R,this.h|I.h)},s.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),R=[],M=0;M<x;M++)R[M]=this.i(M)^I.i(M);return new d(R,this.h^I.h)};function J(I){for(var x=I.g.length+1,R=[],M=0;M<x;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new d(R,I.h)}function bt(I,x){var R=x>>5;x%=32;for(var M=I.g.length-R,C=[],D=0;D<M;D++)C[D]=0<x?I.i(D+R)>>>x|I.i(D+R+1)<<32-x:I.i(D+R);return new d(C,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,U0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,fr=d}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k0,Ll,L0,Uu,Pf,P0,z0,B0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in p))break t;p=p[k]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,k={next:function(){if(!T&&p<u.length){var H=p++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,V.apply(null,arguments)}function z(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,k,H){for(var nt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)nt[Ot-2]=arguments[Ot];return m.prototype[k].apply(T,nt)}}function st(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const k=u.length||0,H=T.length||0;u.length=k+H;for(let nt=0;nt<H;nt++)u[k+nt]=T[nt]}else u.push(T)}}class Tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ht(u){return/^[\s\xa0]*$/.test(u)}function mt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function W(u){return W[" "](u),u}W[" "]=function(){};var J=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function bt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function I(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function x(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let p,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(p in T)u[p]=T[p];for(let H=0;H<R.length;H++)p=R[H],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function C(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function D(u){g.setTimeout(()=>{throw u},0)}function S(){var u=Nt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Wt{constructor(){this.h=this.g=null}add(m,p){const T=te.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var te=new Tt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ut=!1,Nt=new Wt,O=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(Y)}};var Y=()=>{for(var u;u=S();){try{u.h.call(u.g)}catch(p){D(p)}var m=te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function xt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(J){t:{try{W(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xt.aa.h.call(this)}}X(xt,et);var vt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ft=0;function fn(u,m,p,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=k,this.key=++Ft,this.da=this.fa=!1}function Ln(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Rn(u){this.src=u,this.g={},this.h=0}Rn.prototype.add=function(u,m,p,T,k){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var nt=Er(u,m,T,k);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new fn(m,this.src,H,!!T,k),m.fa=p,u.push(m)),m};function br(u,m){var p=m.type;if(p in u.g){var T=u.g[p],k=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=k)&&Array.prototype.splice.call(T,k,1),H&&(Ln(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Er(u,m,p,T){for(var k=0;k<u.length;++k){var H=u[k];if(!H.da&&H.listener==m&&H.capture==!!p&&H.ha==T)return k}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),Ca={};function ao(u,m,p,T,k){if(Array.isArray(m)){for(var H=0;H<m.length;H++)ao(u,m[H],p,T,k);return null}return p=lo(p),u&&u[de]?u.K(m,p,v(T)?!!T.capture:!1,k):dn(u,m,p,!1,T,k)}function dn(u,m,p,T,k,H){if(!m)throw Error("Invalid event type");var nt=v(k)?!!k.capture:!!k,Ot=ds(u);if(Ot||(u[Tr]=Ot=new Rn(u)),p=Ot.add(m,p,T,nt,H),p.proxy)return p;if(T=vc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ft||(k=nt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Ar(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function vc(){function u(p){return m.call(u.src,u.listener,p)}const m=_c;return u}function Na(u,m,p,T,k){if(Array.isArray(m))for(var H=0;H<m.length;H++)Na(u,m[H],p,T,k);else T=v(T)?!!T.capture:!!T,p=lo(p),u&&u[de]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],p=Er(H,p,T,k),-1<p&&(Ln(H[p]),Array.prototype.splice.call(H,p,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=ds(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Er(m,p,T,k)),(p=-1<u?m[u]:null)&&fs(p))}function fs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])br(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ar(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ds(m))?(br(p,u),p.h==0&&(p.src=null,m[Tr]=null)):Ln(u)}}}function Ar(u){return u in Ca?Ca[u]:Ca[u]="on"+u}function _c(u,m){if(u.da)u=!0;else{m=new xt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&fs(u),u=p.call(T,m)}return u}function ds(u){return u=u[Tr],u instanceof Rn?u:null}var Da="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(u){return typeof u=="function"?u:(u[Da]||(u[Da]=function(m){return u.handleEvent(m)}),u[Da])}function ae(){rt.call(this),this.i=new Rn(this),this.M=this,this.F=null}X(ae,rt),ae.prototype[de]=!0,ae.prototype.removeEventListener=function(u,m,p,T){Na(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var k=m;m=new et(T,u),M(m,k)}if(k=!0,p)for(var H=p.length-1;0<=H;H--){var nt=m.g=p[H];k=nn(nt,T,!0,m)&&k}if(nt=m.g=u,k=nn(nt,T,!0,m)&&k,k=nn(nt,T,!1,m)&&k,p)for(H=0;H<p.length;H++)nt=m.g=p[H],k=nn(nt,T,!1,m)&&k}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ln(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,H=0;H<m.length;++H){var nt=m[H];if(nt&&!nt.da&&nt.capture==p){var Ot=nt.listener,Ee=nt.ha||nt.src;nt.fa&&br(u.i,nt),k=Ot.call(Ee,T)!==!1&&k}}return k&&!T.defaultPrevented}function Be(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function oo(u){u.g=Be(()=>{u.g=null,u.i&&(u.i=!1,oo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){rt.call(this),this.h=u,this.g={}}X(xr,rt);var Sr=[];function wr(u){bt(u.g,function(m,p){this.g.hasOwnProperty(p)&&fs(m)},u),u.g={}}xr.prototype.N=function(){xr.aa.N.call(this),wr(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,ms=g.JSON.parse,Rr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Va(){}Va.prototype.h=null;function Ia(u){return u.h||(u.h=u.i())}function Oa(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){et.call(this,"d")}X(ai,et);function Ma(){et.call(this,"c")}X(Ma,et);var Pn={},ja=null;function ji(){return ja=ja||new ae}Pn.La="serverreachability";function gs(u){et.call(this,Pn.La,u)}X(gs,et);function Ui(u){const m=ji();Ht(m,new gs(m))}Pn.STAT_EVENT="statevent";function uo(u,m){et.call(this,Pn.STAT_EVENT,u),this.stat=m}X(uo,et);function ne(u){const m=ji();Ht(m,new uo(m,u))}Pn.Ma="timingevent";function be(u,m){et.call(this,Pn.Ma,u),this.size=m}X(be,et);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Ua(u,m,p,T,k,H){u.info(function(){if(u.g)if(H)for(var nt="",Ot=H.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var Te=Ce.split("_");nt=2<=Te.length&&Te[1]=="type"?nt+(Ce+"="+Mt+"&"):nt+(Ce+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+p+`
`+nt})}function Ec(u,m,p,T,k,H,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+p+`
`+H+" "+nt})}function ki(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cr(u,p)+(T?" "+T:"")})}function co(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Cr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<k.length;nt++)k[nt]=""}}}}return Cn(p)}catch{return m}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Bn(){}X(Bn,Va),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},zn=new Bn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var ka={},ps={};function Nn(u,m,p){u.L=1,u.v=Or(rn(m)),u.m=p,u.P=!0,oi(u,null)}function oi(u,m){u.F=Date.now(),Nr(u),u.A=rn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ha(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ue,u.g=Ro(u.j,p?m:null,!u.m),0<u.O&&(u.M=new bc(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Sr[0]=k.toString()),k=Sr);for(var H=0;H<k.length;H++){var nt=ao(p,k[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ui(),Ua(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||Te!=4||m==7||(m==8||0>=pi?Ui(3):Ui(2)),Pi(this);var p=this.g.Z();this.X=p;e:if(ho(this)){var T=_o(this.g);u="";var k=T.length,H=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),qn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Ec(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)ki(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,p);else{this.o=!1,this.s=3,ne(12),Oe(this),qn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<nt.length;)if(Me=fo(this,nt),Me==ps){Te==4&&(this.s=4,ne(14),p=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ka){this.s=4,ne(15),ki(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else ki(this.i,this.l,Me,null),Dr(this,Me);if(ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||nt.length!=0||this.h.h||(this.s=1,ne(16),p=!1),this.o=this.o&&p,!p)ki(this.i,this.l,nt,"[Invalid Chunked Response]"),Oe(this),qn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Br(Ce),Ce.M=!0,ne(11))}}else ki(this.i,this.l,nt,null),Dr(this,nt);Te==4&&Oe(this),this.o&&!this.J&&(Te==4?xo(this.j,this):(this.o=!1,Nr(this)))}else wc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Oe(this),qn(this)}}}catch{}finally{}};function ho(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ps:(p=Number(m.substring(p,T)),isNaN(p)?ka:(T+=1,T+p>m.length?ps:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Nr(u){u.S=Date.now()+u.I,mo(u,u.I)}function mo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(V(u.ba,u),m)}function Pi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(co(this.i,this.A),this.L!=2&&(Ui(),ne(17)),Oe(this),this.s=2,qn(this)):mo(this,this.S-u)};function qn(u){u.j.G==0||u.J||xo(u.j,u)}function Oe(u){Pi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,wr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Dr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||La(p.h,u))){if(!u.K&&La(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Cs(p),ws(p);else break t;Ka(p),ne(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(V(p.Za,p),6e3));if(1>=vs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((u.K||p.g==u)&&Cs(p),!ht(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let Mt=k[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Te=Mt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=u.g;if(Me){const Xn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var H=T.h;H.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(_s(H,H.h),H.h=null))}if(T.D){const Za=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(T.ya=Za,Yt(T.I,T.D,Za))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var nt=u;if(T.qa=wo(T,T.J?T.ia:null,T.W),nt.K){Ke(T.h,nt);var Ot=nt,Ee=T.L;Ee&&(Ot.I=Ee),Ot.B&&(Pi(Ot),Nr(Ot)),T.g=nt}else To(T);0<p.i.length&&Rs(p)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(p,7):Fa(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Ui(4)}catch{}}var go=class{constructor(u,m){this.g=u,this.map=m}};function ui(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vs(u){return u.h?1:u.g?u.g.size:0}function La(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _s(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ui.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return st(u.i)}function Tc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function za(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=bs(u),T=Tc(u),k=T.length,H=0;H<k;H++)m.call(void 0,T[H],p&&p[H],u)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),k=null;if(0<=T){var H=u[p].substring(0,T);k=u[p].substring(T+1)}else H=u[p];m(H,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Ir(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.s),this.l=u.l;var m=u.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ci(this,p),this.m=u.m}else u&&(m=String(u).match(Vr))?(this.h=!1,Ir(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),zi(this,m[4]),this.l=gn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Mr(m,Ba,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,Ba,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Mr(p,p.charAt(0)=="/"?xc:qa,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Mr(p,Es)),u.join("")};function rn(u){return new ge(u)}function Ir(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ci(u,m,p){m instanceof hi?(u.i=m,yo(u.i,u.h)):(p||(m=Mr(m,Sc)),u.i=new hi(m,u.h))}function Yt(u,m,p){u.i.set(m,p)}function Or(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,po),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ba=/[#\/\?@]/g,qa=/[#\?:]/g,xc=/[#\?]/g,Sc=/[#\?@]/g,Es=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ac(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=hi.prototype,s.add=function(u,m){pn(this),this.i=null,u=Hn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function fi(u,m){pn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return pn(u),m=Hn(u,m),u.g.has(m)}s.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const k=u[T];for(let H=0;H<k.length;H++)p.push(m[T])}return p},s.V=function(u){pn(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return pn(this),this.i=null,u=Hn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ha(u,m,p){fi(u,m),0<p.length&&(u.i=null,u.g.set(Hn(u,m),st(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const H=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var k=H;nt[T]!==""&&(k+="="+encodeURIComponent(String(nt[T]))),u.push(k)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function yo(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var k=T.toLowerCase();T!=k&&(fi(this,T),Ha(this,k,p))},u)),u.j=m}function jr(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=z(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=z(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=z(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=z(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Dn(u,m){const p=new mn,T=new AbortController,k=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(k),H.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(p)}catch{}}function Ur(){this.g=new Rr}function Gn(u,m,p){const T=p||"";try{za(u,function(k,H){let nt=k;v(k)&&(nt=Cn(k)),m.push(T+H+"="+encodeURIComponent(nt))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Bi,Va),Bi.prototype.g=function(){return new mi(this.l,this.j)},Bi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(mi,ae),s=mi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ga(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ga(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Fn(this),this.readyState==3&&Ga(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},s.Qa=function(u){this.g&&(this.response=u,Qn(this))},s.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qa(u){let m="";return bt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Yt(u,m,p))}function Bt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Bt,ae);var Ts=/^https?$/i,kr=["POST","PUT"];s=Bt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Ia(this.o):Ia(zn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){vo(this,H);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)p.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())p.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(H=>H.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(kr,m,void 0))||T||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of p)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Lr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){vo(this,H)}};function vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,As(u),Yn(u)}function As(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?xs(this):this.bb())},s.bb=function(){xs(this)};function xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Be(u.Ea,0,u);else if(Ht(u,"readystatechange"),vn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=nt===0){var k=String(u.D).match(Vr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Ts.test(k?k.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var H=2<vn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",As(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Lr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Lr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ms(m)}};function _o(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ht(u[T]))continue;var p=C(u[T]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const H=m[k]||[];m[k]=H,H.push(p)}I(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ss(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,u),this.cb=Pr("retryDelaySeedMs",1e4,u),this.Wa=Pr("forwardChannelMaxRetries",2,u),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(u&&u.concurrentRequestLimit),this.Da=new Ur,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ss.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ne(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=wo(this,null,this.W),Rs(this)};function Fa(u){if(bo(u),u.G==3){var m=u.U++,p=rn(u.I);if(Yt(p,"SID",u.K),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),zr(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Or(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ro(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Nr(m)}So(u)}function ws(u){u.g&&(Br(u),u.g.cancel(),u.g=null)}function bo(u){ws(u),u.u&&(g.clearTimeout(u.u),u.u=null),Cs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Rs(u){if(!ys(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||O(),ut||(it(),ut=!0),Nt.add(m,u),u.B=0}}function Rc(u,m){return vs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(V(u.Ga,u,m),Xa(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Ye(this,this.j,u);let H=this.o;if(this.S&&(H?(H=x(H),M(H,this.S)):H=this.S),this.m!==null||this.O||(k.H=H,H=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Eo(this,k,m),p=rn(this.I),Yt(p,"RID",u),Yt(p,"CVER",22),this.D&&Yt(p,"X-HTTP-Session-Id",this.D),zr(this,p),H&&(this.O?m="headers="+encodeURIComponent(String(Qa(H)))+"&"+m:this.m&&Re(p,this.m,H)),_s(this.h,k),this.Ua&&Yt(p,"TYPE","init"),this.P?(Yt(p,"$req",m),Yt(p,"SID","null"),k.T=!0,Nn(k,p,null)):Nn(k,p,m),this.G=2}}else this.G==3&&(u?Ya(this,u):this.i.length==0||ys(this.h)||Ya(this))};function Ya(u,m){var p;m?p=m.l:p=u.U++;const T=rn(u.I);Yt(T,"SID",u.K),Yt(T,"RID",p),Yt(T,"AID",u.T),zr(u,T),u.m&&u.o&&Re(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Eo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_s(u.h,p),Nn(p,T,m)}function zr(u,m){u.H&&bt(u.H,function(p,T){Yt(m,T,p)}),u.l&&za({},function(p,T){Yt(m,T,p)})}function Eo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?V(u.l.Na,u.l,u):null;t:{var k=u.i;let H=-1;for(;;){const nt=["count="+p];H==-1?0<p?(H=k[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Ot=!0;for(let Ee=0;Ee<p;Ee++){let Mt=k[Ee].g;const Ce=k[Ee].map;if(Mt-=H,0>Mt)H=Math.max(0,k[Ee].g-100),Ot=!1;else try{Gn(Ce,nt,"req"+Mt+"_")}catch{T&&T(Ce)}}if(Ot){T=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function To(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||O(),ut||(it(),ut=!0),Nt.add(m,u),u.v=0}}function Ka(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(V(u.Fa,u),Xa(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(V(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),ws(this),Ao(this))};function Br(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),zr(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Or(rn(m)),p.m=null,p.P=!0,oi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,ws(this),Ka(this),ne(19))};function Cs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function xo(u,m){var p=null;if(u.g==m){Cs(u),Br(u),u.g=null;var T=2}else if(La(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=ji(),Ht(T,new be(T,p)),Rs(u)}else To(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Rc(u,m)||T==2&&Ka(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Xa(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),T=u.Xa;const k=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ir(T,"https"),Or(T),k?jr(T.toString(),p):Dn(T.toString(),p)}else ne(2);u.G=0,u.l&&u.l.sa(m),So(u),bo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function So(u){if(u.G=0,u.ka=[],u.l){const m=Pa(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ka,m),tt(u.ka,u.i),u.h.i.length=0,st(u.i),u.i.length=0),u.l.ra()}}function wo(u,m,p){var T=p instanceof ge?rn(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),zi(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var H=new ge(null);T&&Ir(H,T),m&&(H.g=m),k&&zi(H,k),p&&(H.l=p),T=H}return p=u.D,m=u.ya,p&&m&&Yt(T,p,m),Yt(T,"VER",u.la),zr(u,T),T}function Ro(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Bi({eb:p})):new Bt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}s=Co.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ae.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ht(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ht(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}X(Xe,ae),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Fa(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new go(m.Ya++,u)),m.G==3&&Rs(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Fa(this.g),delete this.g,Xe.aa.N.call(this)};function No(u){ai.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(No,ai);function Do(){Ma.call(this),this.status=1}X(Do,Ma);function Kn(u){this.g=u}X(Kn,Co),Kn.prototype.ua=function(){Ht(this.g,"a")},Kn.prototype.ta=function(u){Ht(this.g,new No(u))},Kn.prototype.sa=function(u){Ht(this.g,new Do)},Kn.prototype.ra=function(){Ht(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,B0=function(){return new Ns},z0=function(){return ji()},P0=Pn,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Uu=Li,li.COMPLETE="complete",L0=li,Oa.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Ll=Oa,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,k0=Bt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",xy="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new D0("@firebase/firestore");function ra(){return ss.logLevel}function at(s,...e){if(ss.logLevel<=kt.DEBUG){const i=e.map(ld);ss.debug(`Firestore (${Ta}): ${s}`,...i)}}function Ii(s,...e){if(ss.logLevel<=kt.ERROR){const i=e.map(ld);ss.error(`Firestore (${Ta}): ${s}`,...i)}}function fa(s,...e){if(ss.logLevel<=kt.WARN){const i=e.map(ld);ss.warn(`Firestore (${Ta}): ${s}`,...i)}}function ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,q0(s,a,i)}function q0(s,e,i){let a=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ii(a),new Error(a)}function qt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||q0(e,o,a)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ea{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class qT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class HT{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Di,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Di)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new H0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class GT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new GT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=YT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Rt(s,e){return s<e?-1:s>e?1:0}function zf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Rt(a,o);{const h=G0(),d=KT(h.encode(wy(s,i)),h.encode(wy(e,i)));return d!==0?d:Rt(a,o)}}i+=a>65535?2:1}return Rt(s.length,e.length)}function wy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function KT(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Rt(s[i],e[i]);return Rt(s.length,e.length)}function da(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,Cy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Cy);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ry)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Se(0,0))}static max(){return new Et(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__name__";class ei{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const a=ei.isNumericId(e),o=ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ee extends ei{construct(e,i,a){return new ee(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const XT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ei{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return XT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ny}static keyField(){return new Pe([Ny])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(ee.fromString(e))}static fromName(e){return new dt(ee.fromString(e).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function ZT(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new mr(o,dt.empty(),e)}function $T(s){return new mr(s.readTime,s.key,Xl)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(Et.min(),dt.empty(),Xl)}static max(){return new mr(Et.max(),dt.empty(),Xl)}}function JT(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,e.documentKey),i!==0?i:Rt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==WT)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,a)=>{i(e)})}static reject(e){return new $((i,a)=>{a(e)})}static waitFor(e){return new $((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next(o=>o?$.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new $((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new $((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function e1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ic.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function rc(s){return s==null}function Fu(s){return s===0&&1/s==-1/0}function n1(s){return typeof s=="number"&&Number.isInteger(s)&&!Fu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="";function i1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Dy(e)),e=r1(s.get(i),e);return Dy(e)}function r1(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case F0:i+="";break;default:i+=h}}return i}function Dy(s){return s+F0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ls(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Y0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=o??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Le(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(e){return new Iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new jn([])}unionWith(e){let i=new we(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new K0("Invalid base64 string: "+h):h}}(e);return new ze(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new ze(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const s1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=s1.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fe(s.seconds),nanos:fe(s.nanos)}}function fe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?ze.fromBase64String(s):ze.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",Z0="__type__",$0="__previous_value__",J0="__local_write_time__";function ud(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z0])===null||i===void 0?void 0:i.stringValue)===X0}function sc(s){const e=s.mapValue.fields[$0];return ud(e)?sc(e):e}function Zl(s){const e=gr(s.mapValue.fields[J0].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,i,a,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Yu="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__type__",l1="__max__",Ou={mapValue:{}},tv="__vector__",Ku="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:u1(s)?9007199254740991:o1(s)?10:11:yt(28295,{value:s})}function ri(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=gr(o.timestampValue),g=gr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return pr(o.bytesValue).isEqual(pr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),g=fe(h.doubleValue);return d===g?Fu(d)===Fu(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return da(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Vy(d)!==Vy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ri(d[_],g[_])))return!1;return!0}(s,e);default:return yt(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find(i=>ri(i,e))!==void 0}function ma(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=fe(h.integerValue||h.doubleValue),_=fe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Oy(s.timestampValue,e.timestampValue);case 4:return Oy(Zl(s),Zl(e));case 5:return zf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=pr(h),_=pr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(fe(h.latitude),fe(d.latitude));return g!==0?g:Rt(fe(h.longitude),fe(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return My(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const N=h.fields||{},V=d.fields||{},z=(g=N[Ku])===null||g===void 0?void 0:g.arrayValue,X=(_=V[Ku])===null||_===void 0?void 0:_.arrayValue,st=Rt(((v=z==null?void 0:z.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return st!==0?st:My(z,X)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ou.mapValue&&d===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const V=zf(_[N],A[N]);if(V!==0)return V;const z=ma(g[_[N]],v[A[N]]);if(z!==0)return z}return Rt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw yt(23264,{Pe:i})}}function Oy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Rt(s,e);const i=gr(s),a=gr(e),o=Rt(i.seconds,a.seconds);return o!==0?o:Rt(i.nanos,a.nanos)}function My(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=ma(i[o],a[o]);if(h)return h}return Rt(i.length,a.length)}function ga(s){return Bf(s)}function Bf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return pr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return dt.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Bf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Bf(i.fields[d])}`;return o+"}"}(s.mapValue):yt(61005,{value:s})}function ku(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(s);return e?16+ku(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+ku(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return ls(a.fields,(h,d)=>{o+=h.length+ku(d)}),o}(s.mapValue);default:throw yt(13486,{value:s})}}function jy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qf(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function Uy(s){return!!s&&"nullValue"in s}function ky(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lu(s){return!!s&&"mapValue"in s}function o1(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[W0])===null||i===void 0?void 0:i.stringValue)===tv}function Hl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ls(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Hl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function u1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===l1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Lu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Pe.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Hl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Lu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Lu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ls(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new wn(Hl(this.value))}}function ev(s){const e=[];return ls(s.fields,(i,a)=>{const o=new Pe([i]);if(Lu(a)){const h=ev(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,Et.min(),Et.min(),Et.min(),wn.empty(),0)}static newFoundDocument(e,i,a,o){return new Fe(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,Et.min(),Et.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,Et.min(),Et.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function Ly(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=ma(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Py(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i="asc"){this.field=e,this.dir=i}}function c1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{}class _e extends nv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new f1(e,i,a):i==="array-contains"?new g1(e,a):i==="in"?new p1(e,a):i==="not-in"?new y1(e,a):i==="array-contains-any"?new v1(e,a):new _e(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new d1(e,a):new m1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ma(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(ma(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends nv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new kn(e,i)}matches(e){return iv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iv(s){return s.op==="and"}function rv(s){return h1(s)&&iv(s)}function h1(s){for(const e of s.filters)if(e instanceof kn)return!1;return!0}function Hf(s){if(s instanceof _e)return s.field.canonicalString()+s.op.toString()+ga(s.value);if(rv(s))return s.filters.map(e=>Hf(e)).join(",");{const e=s.filters.map(i=>Hf(i)).join(",");return`${s.op}(${e})`}}function sv(s,e){return s instanceof _e?function(a,o){return o instanceof _e&&a.op===o.op&&a.field.isEqual(o.field)&&ri(a.value,o.value)}(s,e):s instanceof kn?function(a,o){return o instanceof kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&sv(d,o.filters[g]),!0):!1}(s,e):void yt(19439)}function av(s){return s instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${ga(i.value)}`}(s):s instanceof kn?function(i){return i.op.toString()+" {"+i.getFilters().map(av).join(" ,")+"}"}(s):"Filter"}class f1 extends _e{constructor(e,i,a){super(e,i,a),this.key=dt.fromName(a.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class d1 extends _e{constructor(e,i){super(e,"in",i),this.keys=lv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class m1 extends _e{constructor(e,i){super(e,"not-in",i),this.keys=lv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function lv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>dt.fromName(a.referenceValue))}class g1 extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&Jl(i.arrayValue,this.value)}}class p1 extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class y1 extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class v1 extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function zy(s,e=null,i=[],a=[],o=null,h=null,d=null){return new _1(s,e,i,a,o,h,d)}function hd(s){const e=At(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Hf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ga(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ga(a)).join(",")),e.Ie=i}return e.Ie}function fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!c1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!sv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Py(s.startAt,e.startAt)&&Py(s.endAt,e.endAt)}function Gf(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function b1(s,e,i,a,o,h,d,g){return new Sa(s,e,i,a,o,h,d,g)}function dd(s){return new Sa(s)}function By(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ov(s){return s.collectionGroup!==null}function Gl(s){const e=At(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Wl(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Wl(Pe.keyField(),a))}return e.Ee}function ni(s){const e=At(s);return e.de||(e.de=E1(e,Gl(s))),e.de}function E1(s,e){if(s.limitType==="F")return zy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Wl(o.field,h)});const i=s.endAt?new Xu(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xu(s.startAt.position,s.startAt.inclusive):null;return zy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Qf(s,e){const i=s.filters.concat([e]);return new Sa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Ff(s,e,i){return new Sa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ac(s,e){return fd(ni(s),ni(e))&&s.limitType===e.limitType}function uv(s){return`${hd(ni(s))}|lt:${s.limitType}`}function sa(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>av(o)).join(", ")}]`),rc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ga(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ga(o)).join(",")),`Target(${a})`}(ni(s))}; limitType=${s.limitType})`}function lc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):dt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Gl(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=Ly(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Gl(a),o)||a.endAt&&!function(d,g,_){const v=Ly(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Gl(a),o))}(s,e)}function T1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cv(s){return(e,i)=>{let a=!1;for(const o of Gl(s)){const h=A1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function A1(s,e,i){const a=s.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ma(_,v):yt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new se(dt.comparator);function Oi(){return x1}const hv=new se(dt.comparator);function Pl(...s){let e=hv;for(const i of s)e=e.insert(i.key,i);return e}function fv(s){let e=hv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function rs(){return Ql()}function dv(){return Ql()}function Ql(){return new os(s=>s.toString(),(s,e)=>s.isEqual(e))}const S1=new se(dt.comparator),w1=new we(dt.comparator);function It(...s){let e=w1;for(const i of s)e=e.add(i);return e}const R1=new we(Rt);function C1(){return R1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function mv(s){return{integerValue:""+s}}function N1(s,e){return n1(e)?mv(e):md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function D1(s,e,i){return s instanceof Zu?function(o,h){const d={fields:{[Z0]:{stringValue:X0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=sc(h)),h&&(d.fields[$0]=h),{mapValue:d}}(i,e):s instanceof to?pv(s,e):s instanceof eo?yv(s,e):function(o,h){const d=gv(o,h),g=qy(d)+qy(o.Re);return qf(d)&&qf(o.Re)?mv(g):md(o.serializer,g)}(s,e)}function V1(s,e,i){return s instanceof to?pv(s,e):s instanceof eo?yv(s,e):i}function gv(s,e){return s instanceof $u?function(a){return qf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Zu extends oc{}class to extends oc{constructor(e){super(),this.elements=e}}function pv(s,e){const i=vv(e);for(const a of s.elements)i.some(o=>ri(o,a))||i.push(a);return{arrayValue:{values:i}}}class eo extends oc{constructor(e){super(),this.elements=e}}function yv(s,e){let i=vv(e);for(const a of s.elements)i=i.filter(o=>!ri(o,a));return{arrayValue:{values:i}}}class $u extends oc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function qy(s){return fe(s.integerValue||s.doubleValue)}function vv(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function I1(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof to&&o instanceof to||a instanceof eo&&o instanceof eo?da(a.elements,o.elements,ri):a instanceof $u&&o instanceof $u?ri(a.Re,o.Re):a instanceof Zu&&o instanceof Zu}(s.transform,e.transform)}class O1{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class uc{}function _v(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gd(s.key,Un.none()):new no(s.key,s.data,Un.none());{const i=s.data,a=wn.empty();let o=new we(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new us(s.key,a,new jn(o.toArray()),Un.none())}}function M1(s,e,i){s instanceof no?function(o,h,d){const g=o.value.clone(),_=Gy(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof us?function(o,h,d){if(!Pu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Gy(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(bv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(s,e,i,a){return s instanceof no?function(h,d,g,_){if(!Pu(h.precondition,d))return g;const v=h.value.clone(),A=Qy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof us?function(h,d,g,_){if(!Pu(h.precondition,d))return g;const v=Qy(h.fieldTransforms,_,d),A=d.data;return A.setAll(bv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(s,e,i,a):function(h,d,g){return Pu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function j1(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=gv(a.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(a.field,h))}return i||null}function Hy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&da(a,o,(h,d)=>I1(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class no extends uc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends uc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function bv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Gy(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,V1(d,g,i[o]))}return a}function Qy(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,D1(h,d,e))}return a}class gd extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U1 extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&M1(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Fl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=dv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=_v(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(i,a)=>Hy(i,a))&&da(this.baseMutations,e.baseMutations,(i,a)=>Hy(i,a))}}class pd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){qt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return S1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new pd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function z1(s){switch(s){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function Ev(s){if(s===void 0)return Ii("GRPC error has no .code"),Z.UNKNOWN;switch(s){case ve.OK:return Z.OK;case ve.CANCELLED:return Z.CANCELLED;case ve.UNKNOWN:return Z.UNKNOWN;case ve.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ve.INTERNAL:return Z.INTERNAL;case ve.UNAVAILABLE:return Z.UNAVAILABLE;case ve.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ve.NOT_FOUND:return Z.NOT_FOUND;case ve.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ve.ABORTED:return Z.ABORTED;case ve.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ve.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:s})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new fr([4294967295,4294967295],0);function Fy(s){const e=G0().encode(s),i=new U0;return i.update(e),new Uint8Array(i.digest())}function Yy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new fr([i,a],0),new fr([o,h],0)]}class yd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=fr.fromNumber(this.pe)}we(e,i,a){let o=e.add(i.multiply(fr.fromNumber(a)));return o.compare(B1)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Fy(e),[a,o]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,o,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new yd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=Fy(e),[a,o]=Yy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new cc(Et.min(),o,new se(Rt),Oi(),It())}}class io{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new io(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,i,a,o){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=o}}class Tv{constructor(e,i){this.targetId=e,this.Ce=i}}class Av{constructor(e,i,a=ze.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Ky{constructor(){this.Fe=0,this.Me=Xy(),this.xe=ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=It(),i=It(),a=It();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:h})}}),new io(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=Xy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class q1{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new se(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,a=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(Gf(h))if(a===0){const d=new dt(h.path);this.tt(i,d,Fe.newNoDocument(d,Et.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=pr(a).toUint8Array()}catch(_){if(_ instanceof K0)return fa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new yd(d,o,h)}catch(_){return fa(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Gf(g.target)){const _=new dt(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Fe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=It();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new cc(e,i,this.Ze,this.He,a);return this.He=Oi(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new se(Rt),o}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Ky,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new we(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new we(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ky),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Mu(){return new se(dt.comparator)}function Xy(){return new se(dt.comparator)}const H1={asc:"ASCENDING",desc:"DESCENDING"},G1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q1={and:"AND",or:"OR"};class F1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(s,e){return s.useProto3Json||rc(e)?e:{value:e}}function Ju(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Y1(s,e){return Ju(s,e.toTimestamp())}function ii(s){return qt(!!s,49232),Et.fromTimestamp(function(i){const a=gr(i);return new Se(a.seconds,a.nanos)}(s))}function vd(s,e){return Kf(s,e).canonicalString()}function Kf(s,e){const i=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Sv(s){const e=ee.fromString(s);return qt(Dv(e),10190,{key:e.toString()}),e}function Xf(s,e){return vd(s.databaseId,e.path)}function Nf(s,e){const i=Sv(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(Rv(i))}function wv(s,e){return vd(s.databaseId,e)}function K1(s){const e=Sv(s);return e.length===4?ee.emptyPath():Rv(e)}function Zf(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Rv(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zy(s,e,i){return{name:Xf(s,e),fields:i.value.mapValue.fields}}function X1(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),ze.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ze.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Z.UNKNOWN:Ev(v.code);return new lt(A,v.message||"")}(d);i=new Av(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Nf(s,a.document.name),h=ii(a.document.updateTime),d=a.document.createTime?ii(a.document.createTime):Et.min(),g=new wn({mapValue:{fields:a.document.fields}}),_=Fe.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new zu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Nf(s,a.document),h=a.readTime?ii(a.readTime):Et.min(),d=Fe.newNoDocument(o,h),g=a.removedTargetIds||[];i=new zu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Nf(s,a.document),h=a.removedTargetIds||[];i=new zu([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new P1(o,h),g=a.targetId;i=new Tv(g,d)}}return i}function Z1(s,e){let i;if(e instanceof no)i={update:Zy(s,e.key,e.value)};else if(e instanceof gd)i={delete:Xf(s,e.key)};else if(e instanceof us)i={update:Zy(s,e.key,e.data),updateMask:sA(e.fieldMask)};else{if(!(e instanceof U1))return yt(16599,{ft:e.type});i={verify:Xf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Zu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $u)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw yt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Y1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(s,e.precondition)),i}function $1(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Et.min())&&(d=ii(h)),new O1(d,o.transformResults||[])}(i,e))):[]}function J1(s,e){return{documents:[wv(s,e.path)]}}function W1(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=wv(s,o);const h=function(v){if(v.length!==0)return Nv(kn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(V){return{field:aa(V.field),direction:nA(V.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Yf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function tA(s){let e=K1(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const V=Cv(N);return V instanceof kn&&rv(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(V=>function(X){return new Wl(la(X.field),function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(N){let V;return V=typeof N=="object"?N.value:N,rc(V)?null:V}(i.limit));let _=null;i.startAt&&(_=function(N){const V=!!N.before,z=N.values||[];return new Xu(z,V)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const V=!N.before,z=N.values||[];return new Xu(z,V)}(i.endAt)),b1(e,o,d,h,g,"F",_,v)}function eA(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Cv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=la(i.unaryFilter.field);return _e.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=la(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=la(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=la(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(s):s.fieldFilter!==void 0?function(i){return _e.create(la(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return kn.create(i.compositeFilter.filters.map(a=>Cv(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(s):yt(30097,{filter:s})}function nA(s){return H1[s]}function iA(s){return G1[s]}function rA(s){return Q1[s]}function aa(s){return{fieldPath:s.canonicalString()}}function la(s){return Pe.fromServerFormat(s.fieldPath)}function Nv(s){return s instanceof _e?function(i){if(i.op==="=="){if(ky(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NAN"}};if(Uy(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ky(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NOT_NAN"}};if(Uy(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(i.field),op:iA(i.op),value:i.value}}}(s):s instanceof kn?function(i){const a=i.getFilters().map(o=>Nv(o));return a.length===1?a[0]:{compositeFilter:{op:rA(i.op),filters:a}}}(s):yt(54877,{filter:s})}function sA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Dv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,i,a,o,h=Et.min(),d=Et.min(),g=ze.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.wt=e}}function lA(s){const e=tA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.Cn=new uA}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(mr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class uA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new we(ee.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new we(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Vv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new pa(0)}static lr(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",cA=1048576;function Wy([s,e],[i,a]){const o=Rt(s,i);return o===0?Rt(e,a):o}class hA{constructor(e){this.Er=e,this.buffer=new we(Wy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Wy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){at(Jy,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xa(i)?at(Jy,"Ignoring IndexedDB error during garbage collection: ",i):await Aa(i)}await this.mr(3e5)})}}class dA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return $.resolve(ic.le);const a=new hA(i);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve($y)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(a=N,g=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),ra()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function mA(s,e){return new dA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.changes=new os(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Fl(a.mutation,o,jn.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const o=rs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Pl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=rs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=Oi();const d=Ql(),g=function(){return Ql()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof us)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Fl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,jn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var N;return g.set(v,new pA(A,(N=d.get(v))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Ql();let o=new se((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||jn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const N=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,N=dv();A.forEach(V=>{if(!h.has(V)){const z=_v(i.get(V),a.get(V));z!==null&&N.set(V,z),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return $.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ov(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):$.resolve(rs());let g=Xl,_=h;return d.next(v=>$.forEach(v,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{_=_.insert(A,V)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,It())).next(A=>({batchId:g,changes:fv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(a=>{let o=Pl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next(g=>$.forEach(g,_=>{const v=function(N,V){return new Sa(V,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((N,V)=>{d=d.insert(N,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=Pl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Fl(A.mutation,v,jn.empty(),Se.now()),lc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return $.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:lA(o.bundledQuery),readTime:ii(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.overlays=new se(dt.comparator),this.Qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=rs();return $.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=rs(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new se((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=rs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=rs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return $.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new L1(i,a));let h=this.Qr.get(i);h===void 0&&(h=It(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.$r=new we(Ie.Ur),this.Kr=new we(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new dt(new ee([])),a=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new dt(new ee([])),a=new Ie(i,e),o=new Ie(i,e+1);let h=It();return this.Kr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return dt.comparator(e.key,i.key)||Rt(e.Zr,i.Zr)}static Wr(e,i){return Rt(e.Zr,i.Zr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new we(Ie.Ur)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new k1(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ti(a),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?od:this.nr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,o],d=>{const g=this.ei(d.Zr);h.push(g)}),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new we(Rt);return i.forEach(o=>{const h=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),$.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;dt.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new dt(h),0);let g=new we(Rt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Zr)),!0)},d),$.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return $.forEach(i.mutations,o=>{const h=new Ie(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ie(i,0),o=this.Xr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.ii=e,this.docs=function(){return new se(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=Oi();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Oi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||JT($T(A),a)<=0||(o.has(A.key)||lc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,a,o){yt(9500)}si(e,i){return $.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new AA(this)}getSize(e){return $.resolve(this.size)}}class AA extends gA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),$.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.persistence=e,this.oi=new os(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new _d,this.targetCount=0,this.ui=pa.cr()}forEachTarget(e,i){return this.oi.forEach((a,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),$.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new pa(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Tr(i),$.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(h).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,i){this.ci={},this.overlays={},this.li=new ic(0),this.hi=!1,this.hi=!0,this.Pi=new bA,this.referenceDelegate=e(this),this.Ti=new xA(this),this.indexManager=new oA,this.remoteDocumentCache=function(o){return new TA(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new aA(i),this.Ei=new vA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new _A,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new EA(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const o=new SA(this.li.next());return this.referenceDelegate.di(),a(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return $.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class SA extends t1{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Vi=new _d,this.mi=null}static fi(e){return new bd(e)}get gi(){if(this.mi)return this.mi;throw yt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.gi,a=>{const o=dt.fromPath(a);return this.pi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return $.or([()=>$.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Wu{constructor(e,i){this.persistence=e,this.yi=new os(a=>i1(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=mA(this,i)}static fi(e,i){return new Wu(e,i)}di(){}Ai(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return $.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(h=>h?$.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),$.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ku(e.data.value)),i}Dr(e,i,a){return $.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.ds=a,this.As=o}static Rs(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ed(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AE()?8:e1(EE())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new wA;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,o){return a.documentReadCount<this.gs?(ra()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",sa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),$.resolve()):(ra()<=kt.DEBUG&&at("QueryEngine","Query:",sa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(ra()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",sa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):$.resolve())}ws(e,i){if(By(i))return $.resolve(null);let a=ni(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ff(i,null,"F"),a=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,Ff(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,o){return By(i)||o.isEqual(Et.min())?$.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,o)?$.resolve(null):(ra()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sa(i)),this.Fs(e,d,i,ZT(o,Xl)).next(g=>g))})}vs(e,i){let a=new we(cv(e));return i.forEach((o,h)=>{lc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return ra()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",sa(i)),this.ys.getDocumentsMatchingQuery(e,i,mr.min(),a)}Fs(e,i,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",CA=3e8;class NA{constructor(e,i,a,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new se(Rt),this.Os=new os(h=>hd(h),fd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function DA(s,e,i,a){return new NA(s,e,i,a)}async function Ov(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function VA(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const N=v.batch,V=N.keys();let z=$.resolve();return V.forEach(X=>{z=z.next(()=>A.getEntry(_,X)).next(st=>{const tt=v.docVersions.get(X);qt(tt!==null,48541),st.version.compareTo(tt)<0&&(N.applyToRemoteDocument(st,v),st.isValidDocument()&&(st.setReadTime(v.commitVersion),A.addEntry(st)))})}),z.next(()=>g.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Mv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function IA(s,e){const i=At(s),a=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,N)=>{const V=o.get(N);if(!V)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,N)));let z=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?z=z.withResumeToken(ze.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(A.resumeToken,a)),o=o.insert(N,z),function(st,tt,Tt){return st.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=CA?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(V,z,A)&&g.push(i.Ti.updateTargetData(h,z))});let _=Oi(),v=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(OA(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(Et.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(N=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return $.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=o,h))}function OA(s,e,i){let a=It(),o=It();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Oi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):at(Td,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:o}})}function MA(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function jA(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Ti.getTargetData(a,e).next(h=>h?(o=h,$.resolve(o)):i.Ti.allocateTargetId(a).next(d=>(o=new ur(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function $f(s,e,i){const a=At(s),o=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!xa(d))throw d;at(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function t0(s,e,i){const a=At(s);let o=Et.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const N=At(_),V=N.Os.get(A);return V!==void 0?$.resolve(N.xs.get(V)):N.Ti.getTargetData(v,A)}(a,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:It())).next(g=>(UA(a,T1(e),g),{documents:g,$s:h})))}function UA(s,e,i){let a=s.Ns.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class e0{constructor(){this.activeTargetIds=C1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kA{constructor(){this.xo=new e0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new e0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="ConnectivityMonitor";class i0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){at(n0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){at(n0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Jf(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",PA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zA{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Yu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,i,a,o,h){const d=Jf(),g=this.jo(e,i.toUriEncodedString());at(Df,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,h);const{host:v}=new URL(g),A=sd(v);return this.Jo(e,g,_,a,A).then(N=>(at(Df,`Received RPC '${e}' ${d}: `,N),N),N=>{throw fa(Df,`RPC '${e}' ${d} failed with error: `,N,"url: ",g,"request:",a),N})}Yo(e,i,a,o,h,d){return this.zo(e,i,a,o,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const a=PA[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class qA extends zA{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Jf();return new Promise((g,_)=>{const v=new k0;v.setWithCredentials(!0),v.listenOnce(L0.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Uu.NO_ERROR:const N=v.getResponseJson();at(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),g(N);break;case Uu.TIMEOUT:at(Ge,`RPC '${e}' ${d} timed out`),_(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const V=v.getStatus();if(at(Ge,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const X=z==null?void 0:z.error;if(X&&X.status&&X.message){const st=function(Tt){const ht=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ht)>=0?ht:Z.UNKNOWN}(X.status);_(new lt(st,X.message))}else _(new lt(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{at(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);at(Ge,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)})}I_(e,i,a){const o=Jf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=B0(),g=z0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=d.createWebChannel(A,_);this.E_(N);let V=!1,z=!1;const X=new BA({Zo:tt=>{z?at(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,tt):(V||(at(Ge,`Opening RPC '${e}' stream ${o} transport.`),N.open(),V=!0),at(Ge,`RPC '${e}' stream ${o} sending:`,tt),N.send(tt))},Xo:()=>N.close()}),st=(tt,Tt,ht)=>{tt.listen(Tt,mt=>{try{ht(mt)}catch(W){setTimeout(()=>{throw W},0)}})};return st(N,Ll.EventType.OPEN,()=>{z||(at(Ge,`RPC '${e}' stream ${o} transport opened.`),X.__())}),st(N,Ll.EventType.CLOSE,()=>{z||(z=!0,at(Ge,`RPC '${e}' stream ${o} transport closed`),X.u_(),this.d_(N))}),st(N,Ll.EventType.ERROR,tt=>{z||(z=!0,fa(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),X.u_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),st(N,Ll.EventType.MESSAGE,tt=>{var Tt;if(!z){const ht=tt.data[0];qt(!!ht,16349);const mt=ht,W=(mt==null?void 0:mt.error)||((Tt=mt[0])===null||Tt===void 0?void 0:Tt.error);if(W){at(Ge,`RPC '${e}' stream ${o} received error:`,W);const J=W.status;let bt=function(R){const M=ve[R];if(M!==void 0)return Ev(M)}(J),I=W.message;bt===void 0&&(bt=Z.INTERNAL,I="Unknown error status: "+J+" with message "+W.message),z=!0,X.u_(new lt(bt,I)),N.close()}else at(Ge,`RPC '${e}' stream ${o} received:`,ht),X.c_(ht)}}),st(g,P0.STAT_EVENT,tt=>{tt.stat===Pf.PROXY?at(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):tt.stat===Pf.NOPROXY&&at(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.a_()},0),X}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){return new F1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=o,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="PersistentStream";class Uv{constructor(e,i,a,o,h,d,g,_){this.xi=e,this.S_=a,this.D_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new jv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===i&&this.z_(a,o)},a=>{e(()=>{const o=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return at(r0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(at(r0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HA extends Uv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=X1(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ii(d.readTime):Et.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Gf(_)?{documents:J1(h,_)}:{query:W1(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xv(h,d.resumeToken);const v=Yf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Ju(h,d.snapshotVersion.toTimestamp());const v=Yf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=eA(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.Q_(i)}}class GA extends Uv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=$1(e.writeResults,e.commitTime),a=ii(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=Zf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>Z1(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{}class FA extends QA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Kf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())})}Yo(e,i,a,o,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Kf(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class YA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ii(i),this.ua=!1):at("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class KA{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{cs(this)&&(at(as,"Restarting streams for network reachability change."),await async function(_){const v=At(_);v.da.add(4),await ro(v),v.Va.set("Unknown"),v.da.delete(4),await fc(v)}(this))})}),this.Va=new YA(a,o)}}async function fc(s){if(cs(s))for(const e of s.Aa)await e(!0)}async function ro(s){for(const e of s.Aa)await e(!1)}function kv(s,e){const i=At(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),wd(i)?Sd(i):wa(i).N_()&&xd(i,e))}function Ad(s,e){const i=At(s),a=wa(i);i.Ea.delete(e),a.N_()&&Lv(i,e),i.Ea.size===0&&(a.N_()?a.k_():cs(i)&&i.Va.set("Unknown"))}function xd(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wa(s).Z_(e)}function Lv(s,e){s.ma.Ke(e),wa(s).X_(e)}function Sd(s){s.ma=new q1({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),wa(s).start(),s.Va.ca()}function wd(s){return cs(s)&&!wa(s).O_()&&s.Ea.size>0}function cs(s){return At(s).da.size===0}function Pv(s){s.ma=void 0}async function XA(s){s.Va.set("Online")}async function ZA(s){s.Ea.forEach((e,i)=>{xd(s,e)})}async function $A(s,e){Pv(s),wd(s)?(s.Va.Pa(e),Sd(s)):s.Va.set("Unknown")}async function JA(s,e,i){if(s.Va.set("Online"),e instanceof Av&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ea.delete(g),o.ma.removeTarget(g))}(s,e)}catch(a){at(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await tc(s,a)}else if(e instanceof zu?s.ma.Xe(e):e instanceof Tv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(Et.min()))try{const a=await Mv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ea.get(v);A&&h.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ea.get(_);if(!A)return;h.Ea.set(_,A.withResumeToken(ze.EMPTY_BYTE_STRING,A.snapshotVersion)),Lv(h,_);const N=new ur(A.target,_,v,A.sequenceNumber);xd(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){at(as,"Failed to raise snapshot:",a),await tc(s,a)}}async function tc(s,e,i){if(!xa(e))throw e;s.da.add(1),await ro(s),s.Va.set("Offline"),i||(i=()=>Mv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{at(as,"Retrying IndexedDB access"),await i(),s.da.delete(1),await fc(s)})}function zv(s,e){return e().catch(i=>tc(s,i,e))}async function dc(s){const e=At(s),i=vr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:od;for(;WA(e);)try{const o=await MA(e.localStore,a);if(o===null){e.Ia.length===0&&i.k_();break}a=o.batchId,tx(e,o)}catch(o){await tc(e,o)}Bv(e)&&qv(e)}function WA(s){return cs(s)&&s.Ia.length<10}function tx(s,e){s.Ia.push(e);const i=vr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Bv(s){return cs(s)&&!vr(s).O_()&&s.Ia.length>0}function qv(s){vr(s).start()}async function ex(s){vr(s).ia()}async function nx(s){const e=vr(s);for(const i of s.Ia)e.ta(i.mutations)}async function ix(s,e,i){const a=s.Ia.shift(),o=pd.from(a,e,i);await zv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await dc(s)}async function rx(s,e){e&&vr(s).ea&&await async function(a,o){if(function(d){return z1(d)&&d!==Z.ABORTED}(o.code)){const h=a.Ia.shift();vr(a).L_(),await zv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await dc(a)}}(s,e),Bv(s)&&qv(s)}async function s0(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(as,"RemoteStore received new credentials");const a=cs(i);i.da.add(3),await ro(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await fc(i)}async function sx(s,e){const i=At(s);e?(i.da.delete(2),await fc(i)):e||(i.da.add(2),await ro(i),i.Va.set("Unknown"))}function wa(s){return s.fa||(s.fa=function(i,a,o){const h=At(i);return h.oa(),new HA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:XA.bind(null,s),n_:ZA.bind(null,s),i_:$A.bind(null,s),Y_:JA.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),wd(s)?Sd(s):s.Va.set("Unknown")):(await s.fa.stop(),Pv(s))})),s.fa}function vr(s){return s.ga||(s.ga=function(i,a,o){const h=At(i);return h.oa(),new GA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:ex.bind(null,s),i_:rx.bind(null,s),na:nx.bind(null,s),ra:ix.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await dc(s)):(await s.ga.stop(),s.Ia.length>0&&(at(as,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Rd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),xa(s))return new lt(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{static emptySet(e){return new ua(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ua;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.pa=new se(dt.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):yt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class ya{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ya(e,i,ua.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class lx{constructor(){this.queries=l0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),h=o.queries;o.queries=l0(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(a)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function l0(){return new os(s=>uv(s),ac)}async function Hv(s,e){const i=At(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Da()&&e.va()&&(a=2):(h=new ax,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(o,!0);break;case 1:h.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cd(d,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&Nd(i)}async function Gv(s,e){const i=At(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.va()?0:1:!h.Da()&&e.va()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ox(s,e){const i=At(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(o)&&(a=!0);d.ba=o}}a&&Nd(i)}function ux(s,e,i){const a=At(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Nd(s){s.Ca.forEach(e=>{e.next()})}var Wf,o0;(o0=Wf||(Wf={})).xa="default",o0.Cache="cache";class Qv{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ya(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.key=e}}class Yv{constructor(e){this.key=e}}class cx{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.Za=cv(e),this.Xa=new ua(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new a0,o=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const V=o.get(A),z=lc(this.query,N)?N:null,X=!!V&&this.mutatedKeys.has(V.key),st=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let tt=!1;V&&z?V.data.isEqual(z.data)?X!==st&&(a.track({type:3,doc:z}),tt=!0):this.ru(V,z)||(a.track({type:2,doc:z}),tt=!0,(_&&this.Za(z,_)>0||v&&this.Za(z,v)<0)&&(g=!0)):!V&&z?(a.track({type:0,doc:z}),tt=!0):V&&!z&&(a.track({type:1,doc:V}),tt=!0,(_||v)&&(g=!0)),tt&&(z?(d=d.add(z),h=st?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,N)=>function(z,X){const st=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:tt})}};return st(z)-st(X)}(A.type,N.type)||this.Za(A.doc,N.doc)),this.iu(a),o=o!=null&&o;const g=i&&!o?this.su():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new ya(this.query,e.Xa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new a0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=It(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new Yv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new Fv(a))}),i}au(e){this.Ha=e.$s,this.Ya=It();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dd="SyncEngine";class hx{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class fx{constructor(e){this.key=e,this.cu=!1}}class dx{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new os(g=>uv(g),ac),this.Pu=new Map,this.Tu=new Set,this.Iu=new se(dt.comparator),this.Eu=new Map,this.du=new _d,this.Au={},this.Ru=new Map,this.Vu=pa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mx(s,e,i=!0){const a=Wv(s);let o;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.uu()):o=await Kv(a,e,i,!0),o}async function gx(s,e){const i=Wv(s);await Kv(i,e,!0,!1)}async function Kv(s,e,i,a){const o=await jA(s.localStore,ni(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await px(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&kv(s.remoteStore,o),g}async function px(s,e,i,a,o){s.fu=(N,V,z)=>async function(st,tt,Tt,ht){let mt=tt.view.tu(Tt);mt.Cs&&(mt=await t0(st.localStore,tt.query,!1).then(({documents:I})=>tt.view.tu(I,mt)));const W=ht&&ht.targetChanges.get(tt.targetId),J=ht&&ht.targetMismatches.get(tt.targetId)!=null,bt=tt.view.applyChanges(mt,st.isPrimaryClient,W,J);return c0(st,tt.targetId,bt.ou),bt.snapshot}(s,N,V,z);const h=await t0(s.localStore,e,!0),d=new cx(e,h.$s),g=d.tu(h.documents),_=io.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);c0(s,i,v.ou);const A=new hx(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),v.snapshot}async function yx(s,e,i){const a=At(s),o=a.hu.get(e),h=a.Pu.get(o.targetId);if(h.length>1)return a.Pu.set(o.targetId,h.filter(d=>!ac(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await $f(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ad(a.remoteStore,o.targetId),td(a,o.targetId)}).catch(Aa)):(td(a,o.targetId),await $f(a.localStore,o.targetId,!0))}async function vx(s,e){const i=At(s),a=i.hu.get(e),o=i.Pu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ad(i.remoteStore,a.targetId))}async function _x(s,e,i){const a=wx(s);try{const o=await function(d,g){const _=At(d),v=Se.now(),A=g.reduce((z,X)=>z.add(X.key),It());let N,V;return _.persistence.runTransaction("Locally write mutations","readwrite",z=>{let X=Oi(),st=It();return _.Bs.getEntries(z,A).next(tt=>{X=tt,X.forEach((Tt,ht)=>{ht.isValidDocument()||(st=st.add(Tt))})}).next(()=>_.localDocuments.getOverlayedDocuments(z,X)).next(tt=>{N=tt;const Tt=[];for(const ht of g){const mt=j1(ht,N.get(ht.key).overlayedDocument);mt!=null&&Tt.push(new us(ht.key,mt,ev(mt.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(z,v,Tt,g)}).next(tt=>{V=tt;const Tt=tt.applyToLocalDocumentSet(N,st);return _.documentOverlayCache.saveOverlays(z,tt.batchId,Tt)})}).then(()=>({batchId:V.batchId,changes:fv(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Au[d.currentUser.toKey()];v||(v=new se(Rt)),v=v.insert(g,_),d.Au[d.currentUser.toKey()]=v}(a,o.batchId,i),await so(a,o.changes),await dc(a.remoteStore)}catch(o){const h=Cd(o,"Failed to persist write");i.reject(h)}}async function Xv(s,e){const i=At(s);try{const a=await IA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?qt(d.cu,14607):o.removedDocuments.size>0&&(qt(d.cu,42227),d.cu=!1))}),await so(i,a,e)}catch(a){await Aa(a)}}function u0(s,e,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=At(d);_.onlineState=g;let v=!1;_.queries.forEach((A,N)=>{for(const V of N.Sa)V.Fa(g)&&(v=!0)}),v&&Nd(_)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function bx(s,e,i){const a=At(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Eu.get(e),h=o&&o.key;if(h){let d=new se(dt.comparator);d=d.insert(h,Fe.newNoDocument(h,Et.min()));const g=It().add(h),_=new cc(Et.min(),new Map,new se(Rt),d,g);await Xv(a,_),a.Iu=a.Iu.remove(h),a.Eu.delete(e),Vd(a)}else await $f(a.localStore,e,!1).then(()=>td(a,e,i)).catch(Aa)}async function Ex(s,e){const i=At(s),a=e.batch.batchId;try{const o=await VA(i.localStore,e);$v(i,a,null),Zv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await so(i,o)}catch(o){await Aa(o)}}async function Tx(s,e,i){const a=At(s);try{const o=await function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(N=>(qt(N!==null,37113),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);$v(a,e,i),Zv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await so(a,o)}catch(o){await Aa(o)}}function Zv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function $v(s,e,i){const a=At(s);let o=a.Au[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function td(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||Jv(s,a)})}function Jv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(Ad(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),Vd(s))}function c0(s,e,i){for(const a of i)a instanceof Fv?(s.du.addReference(a.key,e),Ax(s,a)):a instanceof Yv?(at(Dd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||Jv(s,a.key)):yt(19791,{pu:a})}function Ax(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(at(Dd,"New document in limbo: "+i),s.Tu.add(a),Vd(s))}function Vd(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new dt(ee.fromString(e)),a=s.Vu.next();s.Eu.set(a,new fx(i)),s.Iu=s.Iu.insert(i,a),kv(s.remoteStore,new ur(ni(dd(i.path)),a,"TargetPurposeLimboResolution",ic.le))}}async function so(s,e,i){const a=At(s),o=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,_)=>{d.push(a.fu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const N=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){o.push(v);const N=Ed.Rs(_.targetId,v);h.push(N)}}))}),await Promise.all(d),a.lu.Y_(o),await async function(_,v){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>$.forEach(v,V=>$.forEach(V.ds,z=>A.persistence.referenceDelegate.addReference(N,V.targetId,z)).next(()=>$.forEach(V.As,z=>A.persistence.referenceDelegate.removeReference(N,V.targetId,z)))))}catch(N){if(!xa(N))throw N;at(Td,"Failed to update sequence numbers: "+N)}for(const N of v){const V=N.targetId;if(!N.fromCache){const z=A.xs.get(V),X=z.snapshotVersion,st=z.withLastLimboFreeSnapshotVersion(X);A.xs=A.xs.insert(V,st)}}}(a.localStore,h))}async function xx(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){at(Dd,"User change. New user:",e.toKey());const a=await Ov(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(_=>{_.reject(new lt(Z.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await so(i,a.ks)}}function Sx(s,e){const i=At(s),a=i.Eu.get(e);if(a&&a.cu)return It().add(a.key);{let o=It();const h=i.Pu.get(e);if(!h)return o;for(const d of h){const g=i.hu.get(d);o=o.unionWith(g.view.eu)}return o}}function Wv(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bx.bind(null,e),e.lu.Y_=ox.bind(null,e.eventManager),e.lu.gu=ux.bind(null,e.eventManager),e}function wx(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tx.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return DA(this.persistence,new RA,e.initialUser,this.serializer)}Su(e){return new Iv(bd.fi,this.serializer)}bu(e){return new kA}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class Rx extends ec{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){qt(this.persistence.referenceDelegate instanceof Wu,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fA(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Iv(a=>Wu.fi(a,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>u0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xx.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lx}()}createDatastore(e){const i=hc(e.databaseInfo.databaseId),a=function(h){return new qA(h)}(e.databaseInfo);return function(h,d,g,_){return new FA(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new KA(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>u0(this.syncEngine,i,0),function(){return i0.C()?new i0:new LA}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const N=new dx(o,h,d,g,_,v);return A&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);at(as,"RemoteStore shutting down."),h.da.add(5),await ro(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class Cx{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{at(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(at(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Cd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function If(s,e){s.asyncQueue.verifyOperationInProgress(),at(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Ov(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function h0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Nx(s);at(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>s0(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>s0(e.remoteStore,o)),s._onlineComponents=e}async function Nx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(_r,"Using user provided OfflineComponentProvider");try{await If(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;fa("Error using user provided cache. Falling back to memory cache: "+i),await If(s,new ec)}}else at(_r,"Using default OfflineComponentProvider"),await If(s,new Rx(void 0));return s._offlineComponents}async function e_(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(_r,"Using user provided OnlineComponentProvider"),await h0(s,s._uninitializedComponentsProvider._online)):(at(_r,"Using default OnlineComponentProvider"),await h0(s,new ed))),s._onlineComponents}function Dx(s){return e_(s).then(e=>e.syncEngine)}async function n_(s){const e=await e_(s),i=e.eventManager;return i.onListen=mx.bind(null,e.syncEngine),i.onUnlisten=yx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=gx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vx.bind(null,e.syncEngine),i}function Vx(s,e,i={}){const a=new Di;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new t_({next:V=>{A.xu(),d.enqueueAndForget(()=>Gv(h,N));const z=V.docs.has(g);!z&&V.fromCache?v.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&V.fromCache&&_&&_.source==="server"?v.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),N=new Qv(dd(g.path),A,{includeMetadataChanges:!0,Qa:!0});return Hv(h,N)}(await n_(s),s.asyncQueue,e,i,a)),a.promise}function Ix(s,e,i={}){const a=new Di;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new t_({next:V=>{A.xu(),d.enqueueAndForget(()=>Gv(h,N)),V.fromCache&&_.source==="server"?v.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(V)},error:V=>v.reject(V)}),N=new Qv(g,A,{includeMetadataChanges:!0,Qa:!0});return Hv(h,N)}(await n_(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(s,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ox(s,e,i,a){if(e===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function d0(s){if(!dt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function m0(s){if(dt.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function mc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Mi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mc(s);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firestore.googleapis.com",g0=!0;class p0{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s_,this.ssl=g0}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cA)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i_((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new BT;switch(a.type){case"firstParty":return new QT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=f0.get(i);a&&(at("ComponentProvider","Removing Datastore"),f0.delete(i),a.terminate())}(this),Promise.resolve()}}function Mx(s,e,i,a={}){var o;s=Mi(s,gc);const h=sd(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(pE(`https://${_}`),bE("Firestore",!0)),d.host!==s_&&d.host!==_&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Hu(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,N;if(typeof a.mockUserToken=="string")A=a.mockUserToken,N=Qe.MOCK_USER;else{A=yE(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Qe(V)}s._authCredentials=new qT(new H0(A,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class dr extends hs{constructor(e,i,a){super(e,i,dd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new dt(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function va(s,e,...i){if(s=ha(s),r_("collection","path",e),s instanceof gc){const a=ee.fromString(e,...i);return m0(a),new dr(s,null,a)}{if(!(s instanceof en||s instanceof dr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(e,...i));return m0(a),new dr(s.firestore,null,a)}}function ca(s,e,...i){if(s=ha(s),arguments.length===1&&(e=Q0.newId()),r_("doc","path",e),s instanceof gc){const a=ee.fromString(e,...i);return d0(a),new en(s,null,new dt(a))}{if(!(s instanceof en||s instanceof dr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ee.fromString(e,...i));return d0(a),new en(s.firestore,s instanceof dr?s.converter:null,new dt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="AsyncQueue";class v0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new jv(this,"async_queue_retry"),this.rc=()=>{const a=Vf();a&&at(y0,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Di;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!xa(e))throw e;at(y0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Ii("INTERNAL UNHANDLED ERROR: ",_0(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=Rd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(o),o}oc(){this.Xu&&yt(47125,{cc:_0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function _0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ra extends gc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new v0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v0(e),this._firestoreClient=void 0,await e}}}function jx(s,e){const i=typeof s=="object"?s:DT(),a=typeof s=="string"?s:Yu,o=ST(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=mE("firestore");h&&Mx(o,...h)}return o}function Id(s){if(s._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ux(s),s._firestoreClient}function Ux(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,A){return new a1(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,i_(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new Cx(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(ze.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new _a(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=/^__.*__$/;class Lx{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,i,this.fieldTransforms):new no(e,this.data,i,this.fieldTransforms)}}function l_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ic:s})}}class Ud{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return nc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(l_(this.Ic)&&kx.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Px{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||hc(e)}bc(e,i,a,o=!1){return new Ud({Ic:e,methodName:i,wc:a,path:Pe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(s){const e=s._freezeSettings(),i=hc(s._databaseId);return new Px(s._databaseId,!!e.ignoreUndefinedProperties,i)}function o_(s,e,i,a,o,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,o);h_("Data must be an object, but it was:",d,a);const g=u_(a,d);let _,v;if(h.merge)_=new jn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const V=Bx(e,N,i);if(!d.contains(V))throw new lt(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Hx(A,V)||A.push(V)}_=new jn(A),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new Lx(new wn(g),_,v)}function zx(s,e,i,a=!1){return Ld(i,s.bc(a?4:3,e))}function Ld(s,e){if(c_(s=ha(s)))return h_("Unsupported field value:",e,s),u_(s,e);if(s instanceof a_)return function(a,o){if(!l_(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Ld(g,o.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=ha(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return N1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Ju(o.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,h)}}if(a instanceof Md)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _a)return{bytesValue:xv(o.serializer,a._byteString)};if(a instanceof en){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:vd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof jd)return function(d,g){return{mapValue:{fields:{[W0]:{stringValue:tv},[Ku]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return md(g.serializer,v)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${mc(a)}`)}(s,e)}function u_(s,e){const i={};return Y0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(s,(a,o)=>{const h=Ld(o,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function c_(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Md||s instanceof _a||s instanceof en||s instanceof a_||s instanceof jd)}function h_(s,e,i){if(!c_(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=mc(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function Bx(s,e,i){if((e=ha(e))instanceof Od)return e._internalPath;if(typeof e=="string")return f_(s,e);throw nc("Field path arguments must be of type string or ",s,!1,void 0,i)}const qx=new RegExp("[~\\*/\\[\\]]");function f_(s,e,i){if(e.search(qx)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Od(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new lt(Z.INVALID_ARGUMENT,g+s+_)}function Hx(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Gx extends d_{data(){return super.data()}}function pc(s,e){return typeof e=="string"?f_(s,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pd{}class m_ extends Pd{}function b0(s,e,...i){let a=[];e instanceof Pd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof zd).length,g=h.filter(_=>_ instanceof yc).length;if(d>1||d>0&&g>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class yc extends m_{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new yc(e,i,a)}_apply(e){const i=this._parse(e);return g_(e._query,i),new hs(e.firestore,e.converter,Qf(e._query,i))}_parse(e){const i=kd(e.firestore);return function(h,d,g,_,v,A,N){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){x0(N,A);const X=[];for(const st of N)X.push(A0(_,h,st));V={arrayValue:{values:X}}}else V=A0(_,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||x0(N,A),V=zx(g,d,N,A==="in"||A==="not-in");return _e.create(v,A,V)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function E0(s,e,i){const a=e,o=pc("where",s);return yc._create(o,a,i)}class zd extends Pd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new zd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)g_(d,_),d=Qf(d,_)}(e._query,i),new hs(e.firestore,e.converter,Qf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bd extends m_{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Bd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(h,d)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Sa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function T0(s,e="asc"){const i=e,a=pc("orderBy",s);return Bd._create(a,i)}function A0(s,e,i){if(typeof(i=ha(i))=="string"){if(i==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ov(e)&&i.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(ee.fromString(i));if(!dt.isDocumentKey(a))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return jy(s,new dt(a))}if(i instanceof en)return jy(s,i._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(i)}.`)}function x0(s,e){if(!Array.isArray(s)||s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g_(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Fx{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ls(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[Ku].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new jd(h)}convertGeoPoint(e){return new Md(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=sc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=gr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ee.fromString(e);qt(Dv(a),9688,{name:e});const o=new $l(a.get(1),a.get(3)),h=new dt(a.popFirst(5));return o.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y_ extends d_{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(pc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Bu extends y_{data(e={}){return super.data(e)}}class Yx{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Bu(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Bu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Bu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Kx(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Kx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(s){s=Mi(s,en);const e=Mi(s.firestore,Ra);return Vx(Id(e),s._key).then(i=>$x(e,s,i))}class v_ extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function ba(s){s=Mi(s,hs);const e=Mi(s.firestore,Ra),i=Id(e),a=new v_(e);return Qx(s._query),Ix(i,s._query).then(o=>new Yx(e,a,s,o))}function nd(s,e,i){s=Mi(s,en);const a=Mi(s.firestore,Ra),o=p_(s.converter,e);return qd(a,[o_(kd(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Un.none())])}function Zx(s){return qd(Mi(s.firestore,Ra),[new gd(s._key,Un.none())])}function xS(s,e){const i=Mi(s.firestore,Ra),a=ca(s),o=p_(s.converter,e);return qd(i,[o_(kd(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then(()=>a)}function qd(s,e){return function(a,o){const h=new Di;return a.asyncQueue.enqueueAndForget(async()=>_x(await Dx(a),o,h)),h.promise}(Id(s),e)}function $x(s,e,i){const a=i.docs.get(e._key),o=new v_(s);return new y_(s,o,e._key,a,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ta=o})(NT),Qu(new Yl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Ra(new HT(a.getProvider("auth-internal")),new FT(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),oa(Ay,xy,e),oa(Ay,xy,"esm2017")})();var Jx="firebase",Wx="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(Jx,Wx,"app");const tS={apiKey:"AIzaSyDN1sTee52txGVYpQwSWgAD7FUr4NNJinQ",authDomain:"summery-23833.firebaseapp.com",projectId:"summery-23833",storageBucket:"summery-23833.firebasestorage.app",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefghijklmnop"},eS=O0(tS),Mn=jx(eS),__="https://api.github.com",nS="harukaze1216",iS="youtube-bgm-research";function rS(){return localStorage.getItem("github_token")||null}function b_(s){return{Authorization:`token ${s}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"}}async function sS(s){const e=rS();if(!e)throw new Error("GitHub Personal Access Tokenが設定されていません。設定ページでトークンを設定してください。");try{const i=aS(s.type,s.severity),a=lS(s),o=await fetch(`${__}/repos/${nS}/${iS}/issues`,{method:"POST",headers:b_(e),body:JSON.stringify({title:s.title,body:a,labels:i})});if(!o.ok){const d=await o.json();throw new Error(`GitHub API Error: ${d.message||o.statusText}`)}const h=await o.json();return{success:!0,issue:{number:h.number,title:h.title,url:h.html_url,state:h.state,createdAt:h.created_at}}}catch(i){throw console.error("GitHub Issue作成エラー:",i),i}}function aS(s,e){const i=[];switch(s){case"bug":i.push("bug");break;case"feature":i.push("enhancement");break;case"question":i.push("question");break;default:i.push("feedback")}switch(e){case"critical":i.push("priority: critical");break;case"high":i.push("priority: high");break;case"medium":i.push("priority: medium");break;case"low":i.push("priority: low");break}return i.push("user-reported"),i}function lS(s){const i=new Date().toLocaleString("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return`## 概要
${s.body}

## Issue詳細

**種別:** ${oS(s.type)}  
**重要度:** ${uS(s.severity)}  
**投稿日時:** ${i}

## 環境情報

**ブラウザ:** ${s.browserInfo||"Unknown"}  
**User Agent:** ${s.userAgent||"Unknown"}  
**URL:** ${window.location.href}

## 再現手順

${s.reproductionSteps||"未記入"}

## 期待する動作

${s.expectedBehavior||"未記入"}

## 実際の動作

${s.actualBehavior||"未記入"}

## 追加情報

${s.additionalInfo||"特になし"}

---
*この Issue は YouTube BGM チャンネル分析アプリから自動投稿されました*`}function oS(s){switch(s){case"bug":return"🐛 バグ報告";case"feature":return"✨ 機能要望";case"question":return"❓ 質問・サポート";default:return"💬 フィードバック"}}function uS(s){switch(s){case"critical":return"🚨 緊急";case"high":return"🔴 高";case"medium":return"🟡 中";case"low":return"🟢 低";default:return"🔵 通常"}}function cS(){const s=navigator.userAgent;let e="Unknown",i="Unknown";if(s.includes("Chrome")){e="Chrome";const a=s.match(/Chrome\/([0-9.]+)/);i=a?a[1]:"Unknown"}else if(s.includes("Firefox")){e="Firefox";const a=s.match(/Firefox\/([0-9.]+)/);i=a?a[1]:"Unknown"}else if(s.includes("Safari")){e="Safari";const a=s.match(/Version\/([0-9.]+)/);i=a?a[1]:"Unknown"}else if(s.includes("Edge")){e="Edge";const a=s.match(/Edge\/([0-9.]+)/);i=a?a[1]:"Unknown"}return`${e} ${i}`}function S0(s){return s&&s.trim()?(localStorage.setItem("github_token",s.trim()),!0):(localStorage.removeItem("github_token"),!1)}function E_(){const s=localStorage.getItem("github_token");return s&&s.trim().length>0}async function hS(s){try{return(await fetch(`${__}/user`,{headers:b_(s)})).ok}catch(e){return console.error("GitHub Token validation error:",e),!1}}const fS=({onClose:s})=>{const[e,i]=Lt.useState({title:"",body:"",type:"bug",severity:"medium",reproductionSteps:"",expectedBehavior:"",actualBehavior:"",additionalInfo:""}),[a,o]=Lt.useState(!1),[h,d]=Lt.useState(null),[g,_]=Lt.useState(!1),v=(z,X)=>{i(st=>({...st,[z]:X}))},A=async z=>{if(z.preventDefault(),!e.title.trim()){alert("タイトルを入力してください");return}if(!e.body.trim()){alert("内容を入力してください");return}if(!E_()){alert("GitHub Personal Access Tokenが設定されていません。設定ページでトークンを設定してください。");return}o(!0),d(null);try{const X={...e,browserInfo:cS(),userAgent:navigator.userAgent},st=await sS(X);d({success:!0,message:"Issueが正常に作成されました！",issue:st.issue}),i({title:"",body:"",type:"bug",severity:"medium",reproductionSteps:"",expectedBehavior:"",actualBehavior:"",additionalInfo:""})}catch(X){console.error("Issue作成エラー:",X),d({success:!1,message:`エラーが発生しました: ${X.message}`})}finally{o(!1)}},N=[{value:"bug",label:"🐛 バグ報告",description:"予期しない動作や不具合"},{value:"feature",label:"✨ 機能要望",description:"新機能や改善の提案"},{value:"question",label:"❓ 質問・サポート",description:"使い方やその他の質問"}],V=[{value:"low",label:"🟢 低",description:"軽微な問題"},{value:"medium",label:"🟡 中",description:"通常の問題"},{value:"high",label:"🔴 高",description:"重要な問題"},{value:"critical",label:"🚨 緊急",description:"アプリが使用不可"}];return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 p-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"🐛 不具合・要望を報告"}),b.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl",children:"×"})]}),b.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"報告はGitHub Issuesに自動投稿されます"})]}),b.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"種別"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:N.map(z=>b.jsxs("label",{className:`cursor-pointer p-3 rounded-lg border-2 transition-colors ${e.type===z.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[b.jsx("input",{type:"radio",name:"type",value:z.value,checked:e.type===z.value,onChange:X=>v("type",X.target.value),className:"sr-only"}),b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:z.label}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:z.description})]},z.value))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"重要度"}),b.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:V.map(z=>b.jsxs("label",{className:`cursor-pointer p-2 rounded-lg border-2 transition-colors ${e.severity===z.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[b.jsx("input",{type:"radio",name:"severity",value:z.value,checked:e.severity===z.value,onChange:X=>v("severity",X.target.value),className:"sr-only"}),b.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white text-center",children:z.label}),b.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-1",children:z.description})]},z.value))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"タイトル *"}),b.jsx("input",{type:"text",value:e.title,onChange:z=>v("title",z.target.value),className:"input-field",placeholder:"問題や要望を簡潔に記述してください",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"内容 *"}),b.jsx("textarea",{value:e.body,onChange:z=>v("body",z.target.value),className:"input-field h-32 resize-none",placeholder:"問題の詳細や要望内容を具体的に記述してください",required:!0})]}),b.jsx("div",{children:b.jsx("button",{type:"button",onClick:()=>_(!g),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium",children:g?"▼ 詳細項目を非表示":"▶ 詳細項目を表示（任意）"})}),g&&b.jsxs("div",{className:"space-y-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"再現手順"}),b.jsx("textarea",{value:e.reproductionSteps,onChange:z=>v("reproductionSteps",z.target.value),className:"input-field h-24 resize-none",placeholder:`1. 〜をクリック
2. 〜を入力
3. 問題が発生`})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"期待する動作"}),b.jsx("textarea",{value:e.expectedBehavior,onChange:z=>v("expectedBehavior",z.target.value),className:"input-field h-20 resize-none",placeholder:"本来どうなるべきかを記述してください"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"実際の動作"}),b.jsx("textarea",{value:e.actualBehavior,onChange:z=>v("actualBehavior",z.target.value),className:"input-field h-20 resize-none",placeholder:"実際に何が起こるかを記述してください"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"追加情報"}),b.jsx("textarea",{value:e.additionalInfo,onChange:z=>v("additionalInfo",z.target.value),className:"input-field h-20 resize-none",placeholder:"スクリーンショットのURL、関連情報など"})]})]}),h&&b.jsxs("div",{className:`p-4 rounded-lg ${h.success?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300"}`,children:[b.jsx("div",{className:"font-medium mb-2",children:h.success?"✅ 成功":"❌ エラー"}),b.jsx("div",{className:"text-sm mb-2",children:h.message}),h.success&&h.issue&&b.jsx("div",{className:"text-sm",children:b.jsxs("a",{href:h.issue.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:["Issue #",h.issue.number," を確認する →"]})})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[b.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"キャンセル"}),b.jsx("button",{type:"submit",disabled:a||!e.title.trim()||!e.body.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:a?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"投稿中..."]}):b.jsx(b.Fragment,{children:"📤 投稿する"})})]})]})]})})},dS=({currentView:s,onViewChange:e})=>{const[i,a]=Lt.useState(!1),[o,h]=Lt.useState(!1);Lt.useEffect(()=>{const _=localStorage.getItem("theme"),v=window.matchMedia("(prefers-color-scheme: dark)").matches;_==="dark"||!_&&v?(a(!0),document.documentElement.classList.add("dark")):(a(!1),document.documentElement.classList.remove("dark"))},[]);const d=()=>{const _=!i;a(_),_?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},g=[{id:"channels",label:"チャンネル一覧",icon:"🎵"},{id:"tracking",label:"トラッキング",icon:"📈"},{id:"settings",label:"設定",icon:"⚙️"}];return b.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors",children:[b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mr-8",children:"🎵 YouTube BGMチャンネル分析"}),b.jsx("nav",{className:"flex space-x-1",children:g.map(_=>b.jsxs("button",{onClick:()=>e(_.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s===_.id?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[b.jsx("span",{className:"mr-2",children:_.icon}),_.label]},_.id))})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"不具合・要望を報告",children:"🐛 フィードバック"}),b.jsx("button",{onClick:d,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"ダークモード切り替え",children:i?"☀️":"🌙"})]})]})}),o&&b.jsx(fS,{onClose:()=>h(!1)})]})},mS=({onAddChannel:s})=>{const[e,i]=Lt.useState(""),[a,o]=Lt.useState(!1),h=async d=>{if(d.preventDefault(),!!e.trim()){o(!0);try{await s(e.trim()),i("")}catch(g){console.error("チャンネル追加エラー:",g)}finally{o(!1)}}};return b.jsxs("div",{className:"card mb-8",children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"チャンネル検索・追加"}),b.jsxs("form",{onSubmit:h,className:"flex gap-4",children:[b.jsx("input",{type:"text",value:e,onChange:d=>i(d.target.value),placeholder:"チャンネルURL または チャンネルID を入力",className:"input-field flex-1",disabled:a}),b.jsx("button",{type:"submit",disabled:a||!e.trim(),className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"分析中..."]}):b.jsx(b.Fragment,{children:"📊 分析追加"})})]})]})},gS=({filters:s,onFiltersChange:e})=>{const i=h=>{e({...s,sortBy:h})},a=h=>{e({...s,filterBy:h})},o=h=>{e({...s,search:h})};return b.jsx("div",{className:"card mb-8",children:b.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700",children:"並び替え:"}),b.jsxs("select",{value:s.sortBy,onChange:h=>i(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.jsx("option",{value:"growth_rate",children:"成長率順"}),b.jsx("option",{value:"subscribers",children:"登録者数順"}),b.jsx("option",{value:"views",children:"再生回数順"}),b.jsx("option",{value:"recent_videos",children:"最新動画数順"}),b.jsx("option",{value:"added_date",children:"追加日順"})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700",children:"フィルター:"}),b.jsxs("select",{value:s.filterBy,onChange:h=>a(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[b.jsx("option",{value:"all",children:"全て"}),b.jsx("option",{value:"growing",children:"成長中"}),b.jsx("option",{value:"large",children:"大規模"}),b.jsx("option",{value:"small",children:"小規模"})]})]}),b.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[b.jsx("label",{className:"text-sm font-medium text-gray-700",children:"検索:"}),b.jsx("input",{type:"text",value:s.search,onChange:h=>o(h.target.value),placeholder:"チャンネル名検索...",className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-1 min-w-0"})]})]})})},pS=({channels:s})=>{const e=s.length,i=s.length>0?Math.round(s.reduce((o,h)=>o+(h.growthRate||0),0)/s.length):0,a=s.length>0?s.reduce((o,h)=>(h.growthRate||0)>(o.growthRate||0)?h:o,s[0]):null;return b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:e}),b.jsx("div",{className:"text-sm text-gray-600",children:"追跡チャンネル数"})]}),b.jsxs("div",{className:"stat-card",children:[b.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[i,"%"]}),b.jsx("div",{className:"text-sm text-gray-600",children:"平均成長率"})]}),b.jsxs("div",{className:"stat-card",children:[b.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",children:a?a.channelTitle:"-"}),b.jsx("div",{className:"text-sm text-gray-600",children:"トップパフォーマー"})]})]})},yS=({channel:s,onChannelClick:e,onAddToTracking:i})=>{const a=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toString(),o=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"}):"-",h=g=>g>=50?"bg-green-100 text-green-800":g>=20?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",d=g=>{if(!g)return!1;const _=g.toDate?g.toDate():new Date(g);return(Date.now()-_.getTime())/(1e3*60*60*24)<=7};return b.jsx("div",{className:"channel-card cursor-pointer",onClick:()=>e(s),children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("img",{src:s.thumbnailUrl||"/default-avatar.png",alt:s.channelTitle,className:"w-16 h-16 rounded-full object-cover flex-shrink-0",onError:g=>{g.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.channelTitle}),d(s.createdAt)&&b.jsx("span",{className:"inline-block px-2 py-1 text-xs font-bold bg-red-100 text-red-800 rounded-full animate-pulse",children:"NEW!"})]}),b.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[b.jsxs("span",{className:"text-sm text-gray-600",children:[a(s.subscriberCount)," 登録者"]}),b.jsx("span",{className:"text-sm text-gray-500",children:"•"}),b.jsxs("span",{className:"text-sm text-gray-600",children:["開設: ",o(s.publishedAt)]})]}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.keywords&&s.keywords.slice(0,3).map((g,_)=>b.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:g},_))}),s.latestVideo&&b.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[b.jsx("span",{className:"font-medium",children:"最新:"})," ",s.latestVideo.title]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${h(s.growthRate||0)}`,children:["成長率 ",s.growthRate||0,"%"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:g=>{g.stopPropagation(),i(s)},className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${s.isTracked?"bg-green-100 text-green-800 border border-green-300":"bg-blue-100 text-blue-800 border border-blue-300 hover:bg-blue-200"}`,disabled:s.isTracked,children:s.isTracked?"追跡中":"追跡に追加"}),b.jsx("button",{onClick:g=>{g.stopPropagation(),window.open(s.channelUrl,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"訪問 →"})]})]})]})]})})},vS=({channels:s,onChannelClick:e,onAddToTracking:i})=>s.length===0?b.jsxs("div",{className:"text-center py-16",children:[b.jsx("div",{className:"text-6xl mb-4",children:"📈"}),b.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"まだチャンネルが追加されていません"}),b.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"上記の検索欄からYouTubeチャンネルを追加して分析を開始してください"})]}):b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(a=>b.jsx(yS,{channel:a,onChannelClick:e,onAddToTracking:i},a.channelId))}),_S=({channel:s,isOpen:e,onClose:i,onRemove:a})=>{if(!e||!s)return null;const o=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toString(),h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}):"-",d=()=>{confirm("このチャンネルを追跡リストから削除しますか？")&&(a(s.id),i())};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"チャンネル詳細"}),b.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[b.jsx("img",{src:s.thumbnailUrl||"/default-avatar.png",alt:s.channelTitle,className:"w-24 h-24 rounded-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/96x96/e5e7eb/9ca3af?text=🎵"}}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.channelTitle}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"登録者数:"}),b.jsx("span",{className:"ml-2 font-semibold",children:o(s.subscriberCount)})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"総再生回数:"}),b.jsx("span",{className:"ml-2 font-semibold",children:o(s.totalViews||0)})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"動画数:"}),b.jsx("span",{className:"ml-2 font-semibold",children:s.videoCount||"-"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"開設日:"}),b.jsx("span",{className:"ml-2 font-semibold",children:h(s.publishedAt)})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-600",children:"初投稿:"}),b.jsx("span",{className:"ml-2 font-semibold",children:h(s.firstVideoDate)})]}),b.jsxs("div",{className:"col-span-2",children:[b.jsx("span",{className:"text-gray-600",children:"成長率:"}),b.jsxs("span",{className:"ml-2 font-semibold text-blue-600",children:[s.growthRate||0,"%"]})]})]})]})]}),s.keywords&&s.keywords.length>0&&b.jsxs("div",{className:"mb-6",children:[b.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:"タグ"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((g,_)=>b.jsx("span",{className:"inline-block px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:g},_))})]}),s.latestVideo&&b.jsxs("div",{className:"mb-6",children:[b.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"最新動画"}),b.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[b.jsx("h6",{className:"font-medium text-gray-900 mb-1",children:s.latestVideo.title}),b.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["投稿日: ",h(s.latestVideo.publishedAt)]}),b.jsx("a",{href:s.latestVideo.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"動画を見る →"})]})]}),s.mostPopularVideo&&b.jsxs("div",{className:"mb-6",children:[b.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"🔥 最も人気の動画"}),b.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:b.jsxs("div",{className:"flex gap-4",children:[s.mostPopularVideo.thumbnailUrl&&b.jsx("img",{src:s.mostPopularVideo.thumbnailUrl,alt:s.mostPopularVideo.title,className:"w-24 h-18 rounded object-cover flex-shrink-0"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h6",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:s.mostPopularVideo.title}),b.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-3",children:[b.jsxs("span",{className:"flex items-center gap-1",children:["👁️ ",o(s.mostPopularVideo.viewCount)," 回視聴"]}),s.mostPopularVideo.likeCount>0&&b.jsxs("span",{className:"flex items-center gap-1",children:["👍 ",o(s.mostPopularVideo.likeCount)]}),s.mostPopularVideo.commentCount>0&&b.jsxs("span",{className:"flex items-center gap-1",children:["💬 ",o(s.mostPopularVideo.commentCount)]})]}),b.jsx("a",{href:s.mostPopularVideo.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-red-600 hover:text-red-700 text-sm font-medium",children:"動画を見る →"})]})]})})]})]}),b.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[b.jsx("button",{onClick:()=>window.open(s.channelUrl,"_blank"),className:"btn-primary flex-1",children:"チャンネル訪問"}),b.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-100 text-red-700 font-medium rounded-lg hover:bg-red-200 transition-colors",children:"追跡削除"})]})]})})},bS=()=>{const[s,e]=Lt.useState({youtubeApiKey:"",githubToken:"",searchKeywords:["BGM","instrumental","background music","ambient","lo-fi","chill","relaxing","study music"],collectionFrequency:"daily",keywordCount:8,videosPerKeyword:40,maxChannelsPerRun:150,monthsThreshold:3,minSubscribers:1e3,maxSubscribers:5e5,minVideos:5,minGrowthRate:10,bgmKeywords:["BGM","instrumental","background music","ambient","lo-fi","chill","relaxing","study music","meditation","sleep music"],bgmExclusions:["lyrics","歌詞","vocal","sing","rap","talk","podcast"],trackingFrequency:"weekly",trackingRetentionDays:365,theme:"light",defaultSort:"growthRate",itemsPerPage:20,enableApiUsageDisplay:!0,maxDailyApiCalls:1e4}),[i,a]=Lt.useState(!0),[o,h]=Lt.useState(!1),[d,g]=Lt.useState(""),[_,v]=Lt.useState("basic"),[A,N]=Lt.useState("unchecked");Lt.useEffect(()=>{V()},[]);const V=async()=>{try{const W=await Xx(ca(Mn,"settings","app_config"));W.exists()&&e(J=>({...J,...W.data()})),E_()&&(N("valid"),e(J=>({...J,githubToken:"●●●●●●●●●●●●"})))}catch(W){console.error("設定の読み込みエラー:",W),g("設定の読み込みに失敗しました")}finally{a(!1)}},z=async()=>{try{if(h(!0),s.githubToken&&s.githubToken!=="●●●●●●●●●●●●")if(await hS(s.githubToken))S0(s.githubToken),N("valid"),g("設定を保存しました（GitHub Token有効）");else{N("invalid"),g("GitHub Tokenが無効です");return}else s.githubToken===""&&(S0(""),N("unchecked"));const W={...s};delete W.githubToken,await nd(ca(Mn,"settings","app_config"),W),(!s.githubToken||s.githubToken==="●●●●●●●●●●●●")&&g("設定を保存しました"),setTimeout(()=>g(""),3e3)}catch(W){console.error("設定の保存エラー:",W),g("設定の保存に失敗しました")}finally{h(!1)}},X=async W=>{try{const J=await ba(va(Mn,"channels")),bt=await ba(va(Mn,"tracking_data")),I=J.docs.map(M=>({id:M.id,...M.data()})),x=bt.docs.map(M=>({id:M.id,...M.data()})),R={channels:I,tracking:x,exportedAt:new Date().toISOString()};if(W==="csv"){const M=st(I);tt(M,"youtube-bgm-channels.csv","text/csv")}else{const M=JSON.stringify(R,null,2);tt(M,"youtube-bgm-data.json","application/json")}g(`${W.toUpperCase()}でエクスポートしました`)}catch(J){console.error("エクスポートエラー:",J),g("エクスポートに失敗しました")}},st=W=>{const J=["チャンネル名","チャンネルID","登録者数","動画数","成長率(%)","開設日","最初の動画日","キーワード","URL"],bt=W.map(I=>[I.channelTitle||"",I.channelId||"",I.subscriberCount||0,I.videoCount||0,I.growthRate||0,I.publishedAt?new Date(I.publishedAt).toLocaleDateString("ja-JP"):"",I.firstVideoDate?new Date(I.firstVideoDate).toLocaleDateString("ja-JP"):"",(I.keywords||[]).join("; "),I.channelUrl||""]);return[J,...bt].map(I=>I.map(x=>`"${String(x).replace(/"/g,'""')}"`).join(",")).join(`
`)},tt=(W,J,bt)=>{const I=new Blob([W],{type:bt}),x=URL.createObjectURL(I),R=document.createElement("a");R.href=x,R.download=J,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(x)},Tt=W=>{const J=prompt(`新しい${W==="search"?"検索":W==="bgm"?"BGM":"除外"}キーワードを入力してください:`);if(J&&J.trim()){const bt=W==="search"?"searchKeywords":W==="bgm"?"bgmKeywords":"bgmExclusions";e(I=>({...I,[bt]:[...I[bt],J.trim()]}))}},ht=(W,J)=>{const bt=W==="search"?"searchKeywords":W==="bgm"?"bgmKeywords":"bgmExclusions";e(I=>({...I,[bt]:I[bt].filter((x,R)=>R!==J)}))},mt=[{id:"basic",label:"基本設定",icon:"⚙️"},{id:"collection",label:"収集設定",icon:"🔍"},{id:"filtering",label:"フィルタリング",icon:"📊"},{id:"bgm",label:"BGM判定",icon:"🎵"},{id:"tracking",label:"トラッキング",icon:"📈"},{id:"display",label:"表示設定",icon:"🎨"},{id:"data",label:"データ管理",icon:"💾"},{id:"security",label:"セキュリティ",icon:"🔒"}];return i?b.jsx("div",{className:"flex items-center justify-center min-h-96",children:b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b.jsx("div",{className:"max-w-6xl mx-auto p-6",children:b.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[b.jsxs("div",{className:"border-b border-gray-200 p-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"設定"}),b.jsx("p",{className:"text-gray-600 mt-1",children:"アプリケーションの動作をカスタマイズできます"}),d&&b.jsx("div",{className:`mt-4 p-3 rounded-md ${d.includes("失敗")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:d})]}),b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"w-64 border-r border-gray-200 p-4",children:b.jsx("nav",{className:"space-y-1",children:mt.map(W=>b.jsxs("button",{onClick:()=>v(W.id),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${_===W.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[b.jsx("span",{className:"mr-2",children:W.icon}),W.label]},W.id))})}),b.jsxs("div",{className:"flex-1 p-6",children:[_==="basic"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"基本設定"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube API キー"}),b.jsx("input",{type:"password",value:s.youtubeApiKey,onChange:W=>e(J=>({...J,youtubeApiKey:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"YouTube Data API v3 キーを入力"}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Google Cloud Consoleで取得したAPIキーを設定してください"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GitHub Personal Access Token"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"password",value:s.githubToken,onChange:W=>e(J=>({...J,githubToken:W.target.value})),className:`w-full px-3 py-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 pr-10 ${A==="valid"?"border-green-300":A==="invalid"?"border-red-300":"border-gray-300"}`,placeholder:"ghp_xxxxxxxxxxxxxxxxxx"}),b.jsxs("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:[A==="valid"&&b.jsx("span",{className:"text-green-500",children:"✓"}),A==="invalid"&&b.jsx("span",{className:"text-red-500",children:"✗"})]})]}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"不具合・要望報告機能でGitHub Issuesに投稿するために必要です"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"GitHub Settings → Developer settings → Personal access tokens で作成"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"検索キーワード"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.searchKeywords.map((W,J)=>b.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[W,b.jsx("button",{onClick:()=>ht("search",J),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},J))}),b.jsx("button",{onClick:()=>Tt("search"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ キーワードを追加"})]})]}),_==="collection"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"収集設定"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"収集頻度"}),b.jsxs("select",{value:s.collectionFrequency,onChange:W=>e(J=>({...J,collectionFrequency:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[b.jsx("option",{value:"daily",children:"毎日"}),b.jsx("option",{value:"weekly",children:"毎週"}),b.jsx("option",{value:"monthly",children:"毎月"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用キーワード数"}),b.jsx("input",{type:"number",value:s.keywordCount,onChange:W=>e(J=>({...J,keywordCount:parseInt(W.target.value)||8})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1",max:"20"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"キーワードあたり動画数"}),b.jsx("input",{type:"number",value:s.videosPerKeyword,onChange:W=>e(J=>({...J,videosPerKeyword:parseInt(W.target.value)||40})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"10",max:"100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大チャンネル処理数"}),b.jsx("input",{type:"number",value:s.maxChannelsPerRun,onChange:W=>e(J=>({...J,maxChannelsPerRun:parseInt(W.target.value)||150})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"50",max:"500"})]})]})]}),_==="filtering"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"フィルタリング設定"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"チャンネル作成期間（ヶ月）"}),b.jsx("input",{type:"number",value:s.monthsThreshold,onChange:W=>e(J=>({...J,monthsThreshold:parseInt(W.target.value)||3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1",max:"12"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小登録者数"}),b.jsx("input",{type:"number",value:s.minSubscribers,onChange:W=>e(J=>({...J,minSubscribers:parseInt(W.target.value)||1e3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"100"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大登録者数"}),b.jsx("input",{type:"number",value:s.maxSubscribers,onChange:W=>e(J=>({...J,maxSubscribers:parseInt(W.target.value)||5e5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1000"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小動画数"}),b.jsx("input",{type:"number",value:s.minVideos,onChange:W=>e(J=>({...J,minVideos:parseInt(W.target.value)||5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小成長率（%）"}),b.jsx("input",{type:"number",value:s.minGrowthRate,onChange:W=>e(J=>({...J,minGrowthRate:parseInt(W.target.value)||10})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"0"})]})]})]}),_==="bgm"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"BGM判定設定"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BGM関連キーワード"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.bgmKeywords.map((W,J)=>b.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[W,b.jsx("button",{onClick:()=>ht("bgm",J),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]},J))}),b.jsx("button",{onClick:()=>Tt("bgm"),className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"+ キーワードを追加"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"除外キーワード"}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.bgmExclusions.map((W,J)=>b.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:[W,b.jsx("button",{onClick:()=>ht("exclusion",J),className:"ml-1 text-red-600 hover:text-red-800",children:"×"})]},J))}),b.jsx("button",{onClick:()=>Tt("exclusion"),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"+ キーワードを追加"})]})]}),_==="tracking"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"トラッキング設定"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"トラッキング頻度"}),b.jsxs("select",{value:s.trackingFrequency,onChange:W=>e(J=>({...J,trackingFrequency:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[b.jsx("option",{value:"daily",children:"毎日"}),b.jsx("option",{value:"weekly",children:"毎週"}),b.jsx("option",{value:"monthly",children:"毎月"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ保持期間（日）"}),b.jsx("input",{type:"number",value:s.trackingRetentionDays,onChange:W=>e(J=>({...J,trackingRetentionDays:parseInt(W.target.value)||365})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"30",max:"1095"})]})]})]}),_==="display"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"表示設定"}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),b.jsxs("select",{value:s.theme,onChange:W=>e(J=>({...J,theme:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[b.jsx("option",{value:"light",children:"ライト"}),b.jsx("option",{value:"dark",children:"ダーク"}),b.jsx("option",{value:"auto",children:"自動"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"デフォルト並び順"}),b.jsxs("select",{value:s.defaultSort,onChange:W=>e(J=>({...J,defaultSort:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[b.jsx("option",{value:"growthRate",children:"成長率順"}),b.jsx("option",{value:"subscriberCount",children:"登録者数順"}),b.jsx("option",{value:"publishedAt",children:"新着順"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1ページの表示件数"}),b.jsxs("select",{value:s.itemsPerPage,onChange:W=>e(J=>({...J,itemsPerPage:parseInt(W.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[b.jsx("option",{value:10,children:"10件"}),b.jsx("option",{value:20,children:"20件"}),b.jsx("option",{value:50,children:"50件"}),b.jsx("option",{value:100,children:"100件"})]})]})]})]}),_==="data"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"データ管理"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データエクスポート"}),b.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"収集したチャンネルデータとトラッキングデータをエクスポートできます"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>X("csv"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"CSV形式でエクスポート"}),b.jsx("button",{onClick:()=>X("json"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"JSON形式でエクスポート"})]})]}),b.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[b.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データバックアップ"}),b.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"定期的にデータのバックアップを作成することをお勧めします"}),b.jsx("button",{onClick:()=>X("json"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"今すぐバックアップ"})]})]})]}),_==="security"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"セキュリティ設定"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",checked:s.enableApiUsageDisplay,onChange:W=>e(J=>({...J,enableApiUsageDisplay:W.target.checked})),className:"mr-2"}),b.jsx("span",{className:"text-sm font-medium text-gray-700",children:"API使用量の表示"})]}),b.jsx("p",{className:"text-sm text-gray-500 ml-6",children:"YouTube API使用量をダッシュボードに表示します"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1日のAPI呼び出し制限"}),b.jsx("input",{type:"number",value:s.maxDailyApiCalls,onChange:W=>e(J=>({...J,maxDailyApiCalls:parseInt(W.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1000",max:"1000000"}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"YouTube APIの1日あたりのクォータ制限を設定"})]})]})]}),b.jsx("div",{className:"flex justify-end mt-8 pt-6 border-t border-gray-200",children:b.jsx("button",{onClick:z,disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:o?"保存中...":"設定を保存"})})]})]})]})})},Of=({trackingData:s,title:e})=>{var o,h,d,g,_;if(!s||s.length===0)return b.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),b.jsx("div",{className:"text-center py-8 text-gray-500",children:"トラッキングデータがありません"})]});const i=Math.max(...s.map(v=>v.value)),a=Math.min(...s.map(v=>v.value));return b.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),b.jsx("div",{className:"mb-4",children:b.jsx("div",{className:"flex items-end h-32 gap-2",children:s.map((v,A)=>{const N=(v.value-a)/(i-a)*100,V=A===s.length-1;return b.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[b.jsx("div",{className:"w-full bg-gray-100 rounded-t",children:b.jsx("div",{className:`w-full rounded-t transition-all duration-300 ${V?"bg-blue-500":"bg-blue-300"}`,style:{height:`${Math.max(N,5)}%`}})}),b.jsx("div",{className:"text-xs text-gray-600 mt-1 text-center",children:new Date(v.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})]},A)})})}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center border-t pt-4",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-gray-600",children:"最新"}),b.jsx("div",{className:"text-lg font-semibold text-blue-600",children:(o=s[s.length-1])==null?void 0:o.value.toLocaleString()})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-gray-600",children:"最高"}),b.jsx("div",{className:"text-lg font-semibold text-green-600",children:i.toLocaleString()})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-sm text-gray-600",children:"成長"}),b.jsx("div",{className:`text-lg font-semibold ${s.length>1?((h=s[s.length-1])==null?void 0:h.value)>((d=s[0])==null?void 0:d.value)?"text-green-600":"text-red-600":"text-gray-600"}`,children:s.length>1?`${((((g=s[s.length-1])==null?void 0:g.value)/((_=s[0])==null?void 0:_.value)-1)*100).toFixed(1)}%`:"N/A"})]})]})]})},ES=({selectedChannelId:s})=>{const[e,i]=Lt.useState({subscriberCount:[],videoCount:[],totalViews:[]}),[a,o]=Lt.useState(!0),[h,d]=Lt.useState([]);Lt.useEffect(()=>{g()},[]),Lt.useEffect(()=>{s&&_(s)},[s]);const g=async()=>{try{const N=(await ba(b0(va(Mn,"tracked_channels"),E0("isActive","==",!0),T0("addedAt","desc")))).docs.map(V=>({id:V.id,...V.data()}));d(N)}catch(A){console.error("追跡チャンネル一覧の取得エラー:",A)}},_=async A=>{try{o(!0);const V=(await ba(b0(va(Mn,"tracking_data"),E0("channelId","==",A),T0("recordedAt","asc")))).docs.map(tt=>tt.data()),z=V.map(tt=>({date:tt.recordedAt.toDate(),value:tt.subscriberCount})),X=V.map(tt=>({date:tt.recordedAt.toDate(),value:tt.videoCount})),st=V.map(tt=>({date:tt.recordedAt.toDate(),value:tt.totalViews}));i({subscriberCount:z,videoCount:X,totalViews:st})}catch(N){console.error("トラッキングデータの取得エラー:",N)}finally{o(!1)}};if(a&&s)return b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"トラッキングデータを読み込み中..."})]});if(!s)return b.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-6xl mb-4",children:"📊"}),b.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"チャンネルを選択してください"}),b.jsx("p",{className:"text-gray-600 mb-6",children:"追跡中のチャンネルから1つを選択すると、成長データを表示します"}),h.length>0&&b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(A=>b.jsx("div",{onClick:()=>_(A.channelId),className:"cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:A.thumbnailUrl||"/default-avatar.png",alt:A.channelTitle,className:"w-12 h-12 rounded-full object-cover",onError:N=>{N.target.src="https://via.placeholder.com/48x48/e5e7eb/9ca3af?text=🎵"}}),b.jsxs("div",{className:"text-left",children:[b.jsx("h4",{className:"font-medium text-gray-900 truncate",children:A.channelTitle}),b.jsxs("p",{className:"text-sm text-gray-600",children:["追跡開始: ",new Date(A.addedAt.toDate()).toLocaleDateString("ja-JP")]})]})]})},A.id))}),h.length===0&&b.jsxs("p",{className:"text-gray-500",children:["まだ追跡中のチャンネルがありません。",b.jsx("br",{}),"チャンネル一覧から「追跡に追加」ボタンを押してチャンネルを追跡しましょう。"]})]})});const v=h.find(A=>A.channelId===s);return b.jsxs("div",{className:"space-y-6",children:[v&&b.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:b.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[b.jsx("img",{src:v.thumbnailUrl||"/default-avatar.png",alt:v.channelTitle,className:"w-16 h-16 rounded-full object-cover",onError:A=>{A.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:v.channelTitle}),b.jsxs("p",{className:"text-gray-600",children:["追跡開始: ",new Date(v.addedAt.toDate()).toLocaleDateString("ja-JP")]})]})]})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[b.jsx(Of,{trackingData:e.subscriberCount,title:"📈 登録者数の推移"}),b.jsx(Of,{trackingData:e.videoCount,title:"🎥 動画数の推移"}),b.jsx(Of,{trackingData:e.totalViews,title:"👁️ 総再生回数の推移"})]})]})};function TS(){const[s,e]=Lt.useState([]),[i,a]=Lt.useState([]),[o,h]=Lt.useState(!0),[d,g]=Lt.useState(null),[_,v]=Lt.useState(null),[A,N]=Lt.useState(new Set),[V,z]=Lt.useState("channels"),[X,st]=Lt.useState(null),[tt,Tt]=Lt.useState({sortBy:"growth_rate",filterBy:"all",search:""});Lt.useEffect(()=>{ht(),mt()},[]),Lt.useEffect(()=>{W()},[s,tt,A]);const ht=async()=>{try{h(!0);const D=(await ba(va(Mn,"bgm_channels"))).docs.map(S=>({id:S.id,...S.data()}));e(D)}catch(C){console.error("チャンネルデータの読み込みエラー:",C)}finally{h(!1)}},mt=async()=>{try{const C=await ba(va(Mn,"tracked_channels")),D=new Set(C.docs.filter(S=>S.data().isActive).map(S=>S.id));N(D)}catch(C){console.error("追跡チャンネルデータの読み込みエラー:",C)}},W=()=>{let C=s.map(D=>({...D,isTracked:A.has(D.channelId)}));switch(tt.search&&(C=C.filter(D=>D.channelTitle.toLowerCase().includes(tt.search.toLowerCase()))),tt.filterBy){case"growing":C=C.filter(D=>(D.growthRate||0)>20);break;case"large":C=C.filter(D=>D.subscriberCount>1e5);break;case"small":C=C.filter(D=>D.subscriberCount<1e4);break}switch(tt.sortBy){case"growth_rate":C.sort((D,S)=>(S.growthRate||0)-(D.growthRate||0));break;case"subscribers":C.sort((D,S)=>S.subscriberCount-D.subscriberCount);break;case"views":C.sort((D,S)=>(S.totalViews||0)-(D.totalViews||0));break;case"added_date":C.sort((D,S)=>{var G,it,ut,Nt;const Wt=((it=(G=D.createdAt)==null?void 0:G.toDate)==null?void 0:it.call(G))||new Date(D.createdAt);return(((Nt=(ut=S.createdAt)==null?void 0:ut.toDate)==null?void 0:Nt.call(ut))||new Date(S.createdAt))-Wt});break}a(C)},J=async C=>{try{const{extractChannelId:D,fetchChannelInfo:S,fetchChannelFirstVideo:Wt,checkChannelExists:te,isBGMChannel:G,calculateGrowthRate:it,addChannelToFirestore:ut}=await cy(async()=>{const{extractChannelId:xt,fetchChannelInfo:vt,fetchChannelFirstVideo:de,checkChannelExists:Ft,isBGMChannel:fn,calculateGrowthRate:Ln,addChannelToFirestore:Rn}=await import("./channelService-C_nHcmuF.js");return{extractChannelId:xt,fetchChannelInfo:vt,fetchChannelFirstVideo:de,checkChannelExists:Ft,isBGMChannel:fn,calculateGrowthRate:Ln,addChannelToFirestore:Rn}},[]),Nt=D(C);if(await te(Nt)){alert("このチャンネルは既に追加されています");return}const Y=await S(Nt);if(!G(Y.channelTitle,Y.description)&&!confirm("このチャンネルはBGM関連ではない可能性があります。追加しますか？"))return;const rt=await Wt(Y.uploadsPlaylistId),et=it(Y,rt),ft={...Y,firstVideoDate:(rt==null?void 0:rt.publishedAt)||Y.publishedAt,growthRate:et,keywords:[],uploadsPlaylistId:Y.uploadsPlaylistId};await ut(ft),await ht(),alert(`✅ チャンネル「${Y.channelTitle}」を追加しました`)}catch(D){console.error("チャンネル追加エラー:",D),alert(`❌ チャンネル追加に失敗しました: ${D.message}`)}},bt=async C=>{try{let D=C;if(C.startsWith("UC")&&C.length===24){const S=s.find(Wt=>Wt.channelId===C);if(S)D=S.id;else{console.error("削除対象のチャンネルが見つかりません");return}}await Zx(ca(Mn,"bgm_channels",D)),await ht(),console.log(`✅ チャンネルを削除しました: ${D}`)}catch(D){console.error("チャンネル削除エラー:",D),alert("チャンネルの削除に失敗しました")}},I=async C=>{try{if(A.has(C.channelId))return;await nd(ca(Mn,"tracked_channels",C.channelId),{channelId:C.channelId,channelTitle:C.channelTitle,channelUrl:C.channelUrl,thumbnailUrl:C.thumbnailUrl,addedAt:new Date,isActive:!0}),await nd(ca(Mn,"tracking_data",`${C.channelId}_${new Date().toISOString().split("T")[0]}`),{channelId:C.channelId,subscriberCount:C.subscriberCount,videoCount:C.videoCount,totalViews:C.totalViews,recordedAt:new Date}),N(D=>new Set([...D,C.channelId])),console.log(`✅ Added to tracking: ${C.channelTitle}`)}catch(D){console.error("追跡追加エラー:",D)}},x=async C=>{g(C),v({...C,mostPopularVideo:{title:"最も人気の動画（取得中...）",viewCount:0,thumbnailUrl:"",url:""}});try{const{fetchChannelMostPopularVideo:D}=await cy(async()=>{const{fetchChannelMostPopularVideo:Wt}=await import("./channelService-C_nHcmuF.js");return{fetchChannelMostPopularVideo:Wt}},[]),S=await D(C.uploadsPlaylistId);v(S?{...C,mostPopularVideo:S}:{...C,mostPopularVideo:{title:"人気動画が見つかりませんでした",viewCount:0,thumbnailUrl:"",url:""}})}catch(D){console.error("人気動画取得エラー:",D),v({...C,mostPopularVideo:{title:"人気動画の取得に失敗しました",viewCount:0,thumbnailUrl:"",url:""}})}},R=()=>{g(null),v(null)};if(o)return b.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-600",children:"チャンネルデータを読み込み中..."})]})});const M=()=>{switch(V){case"settings":return b.jsx(bS,{});case"tracking":return b.jsx(ES,{selectedChannelId:X});default:return b.jsxs(b.Fragment,{children:[b.jsx(mS,{onAddChannel:J}),b.jsx(gS,{filters:tt,onFiltersChange:Tt}),b.jsx(pS,{channels:i}),b.jsx(vS,{channels:i,onChannelClick:x,onAddToTracking:I})]})}};return b.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[b.jsx(dS,{currentView:V,onViewChange:z}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:M()}),b.jsx(_S,{channel:_||d,isOpen:!!d,onClose:R,onRemove:bt})]})}eE.createRoot(document.getElementById("root")).render(b.jsx(Lt.StrictMode,{children:b.jsx(TS,{})}));export{xS as a,va as c,Mn as d,ba as g,b0 as q,E0 as w};
