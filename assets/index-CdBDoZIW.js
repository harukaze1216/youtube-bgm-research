(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var vf={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function zE(){if($p)return Ml;$p=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Ml.Fragment=e,Ml.jsx=i,Ml.jsxs=i,Ml}var Jp;function PE(){return Jp||(Jp=1,vf.exports=zE()),vf.exports}var T=PE(),Ef={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function BE(){if(Wp)return St;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,rt={};function J(D,W,st){this.props=D,this.context=W,this.refs=rt,this.updater=st||G}J.prototype.isReactComponent={},J.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function bt(){}bt.prototype=J.prototype;function F(D,W,st){this.props=D,this.context=W,this.refs=rt,this.updater=st||G}var $=F.prototype=new bt;$.constructor=F,tt($,J.prototype),$.isPureReactComponent=!0;var _t=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function M(D,W,st,et,dt,wt){return st=wt.ref,{$$typeof:s,type:D,key:W,ref:st!==void 0?st:null,props:wt}}function S(D,W){return M(D.type,W,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return W[st]})}var w=/\/+/g;function V(D,W){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):W.toString(36)}function x(){}function _e(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(x,x):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,W,st,et,dt){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case s:case e:vt=!0;break;case A:return vt=D._init,ne(vt(D._payload),W,st,et,dt)}}if(vt)return dt=dt(D),vt=et===""?"."+V(D,0):et,_t(dt)?(st="",vt!=null&&(st=vt.replace(w,"$&/")+"/"),ne(dt,W,st,"",function(jn){return jn})):dt!=null&&(C(dt)&&(dt=S(dt,st+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(w,"$&/")+"/")+vt)),W.push(dt)),1;vt=0;var Re=et===""?".":et+":";if(_t(D))for(var Zt=0;Zt<D.length;Zt++)et=D[Zt],wt=Re+V(et,Zt),vt+=ne(et,W,st,wt,dt);else if(Zt=I(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(et=D.next()).done;)et=et.value,wt=Re+V(et,Zt++),vt+=ne(et,W,st,wt,dt);else if(wt==="object"){if(typeof D.then=="function")return ne(_e(D),W,st,et,dt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(D,W,st){if(D==null)return D;var et=[],dt=0;return ne(D,et,"","",function(wt){return W.call(st,wt,dt++)}),et}function it(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function It(){}return St.Children={map:H,forEach:function(D,W,st){H(D,function(){W.apply(this,arguments)},st)},count:function(D){var W=0;return H(D,function(){W++}),W},toArray:function(D){return H(D,function(W){return W})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=J,St.Fragment=i,St.Profiler=o,St.PureComponent=F,St.StrictMode=a,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return at.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,W,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=tt({},D.props),dt=D.key,wt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(wt=void 0),W.key!==void 0&&(dt=""+W.key),W)!At.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(et[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];et.children=Re}return M(D.type,dt,void 0,void 0,wt,et)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},St.createElement=function(D,W,st){var et,dt={},wt=null;if(W!=null)for(et in W.key!==void 0&&(wt=""+W.key),W)At.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(dt[et]=W[et]);var vt=arguments.length-2;if(vt===1)dt.children=st;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];dt.children=Re}if(D&&D.defaultProps)for(et in vt=D.defaultProps,vt)dt[et]===void 0&&(dt[et]=vt[et]);return M(D,wt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:g,render:D}},St.isValidElement=C,St.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:it}},St.memo=function(D,W){return{$$typeof:v,type:D,compare:W===void 0?null:W}},St.startTransition=function(D){var W=at.T,st={};at.T=st;try{var et=D(),dt=at.S;dt!==null&&dt(st,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(It,ct)}catch(wt){ct(wt)}finally{at.T=W}},St.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},St.use=function(D){return at.H.use(D)},St.useActionState=function(D,W,st){return at.H.useActionState(D,W,st)},St.useCallback=function(D,W){return at.H.useCallback(D,W)},St.useContext=function(D){return at.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,W){return at.H.useDeferredValue(D,W)},St.useEffect=function(D,W,st){var et=at.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,W)},St.useId=function(){return at.H.useId()},St.useImperativeHandle=function(D,W,st){return at.H.useImperativeHandle(D,W,st)},St.useInsertionEffect=function(D,W){return at.H.useInsertionEffect(D,W)},St.useLayoutEffect=function(D,W){return at.H.useLayoutEffect(D,W)},St.useMemo=function(D,W){return at.H.useMemo(D,W)},St.useOptimistic=function(D,W){return at.H.useOptimistic(D,W)},St.useReducer=function(D,W,st){return at.H.useReducer(D,W,st)},St.useRef=function(D){return at.H.useRef(D)},St.useState=function(D){return at.H.useState(D)},St.useSyncExternalStore=function(D,W,st){return at.H.useSyncExternalStore(D,W,st)},St.useTransition=function(){return at.H.useTransition()},St.version="19.1.0",St}var ty;function id(){return ty||(ty=1,Ef.exports=BE()),Ef.exports}var Jt=id(),Tf={exports:{}},jl={},bf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function kE(){return ey||(ey=1,function(s){function e(H,it){var ct=H.length;H.push(it);t:for(;0<ct;){var It=ct-1>>>1,D=H[It];if(0<o(D,it))H[It]=it,H[ct]=D,ct=It;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var it=H[0],ct=H.pop();if(ct!==it){H[0]=ct;t:for(var It=0,D=H.length,W=D>>>1;It<W;){var st=2*(It+1)-1,et=H[st],dt=st+1,wt=H[dt];if(0>o(et,ct))dt<D&&0>o(wt,et)?(H[It]=wt,H[dt]=ct,It=dt):(H[It]=et,H[st]=ct,It=st);else if(dt<D&&0>o(wt,ct))H[It]=wt,H[dt]=ct,It=dt;else break t}}return it}function o(H,it){var ct=H.sortIndex-it.sortIndex;return ct!==0?ct:H.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,N=null,I=3,G=!1,tt=!1,rt=!1,J=!1,bt=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function _t(H){for(var it=i(v);it!==null;){if(it.callback===null)a(v);else if(it.startTime<=H)a(v),it.sortIndex=it.expirationTime,e(_,it);else break;it=i(v)}}function at(H){if(rt=!1,_t(H),!tt)if(i(_)!==null)tt=!0,At||(At=!0,V());else{var it=i(v);it!==null&&ne(at,it.startTime-H)}}var At=!1,M=-1,S=5,C=-1;function j(){return J?!0:!(s.unstable_now()-C<S)}function w(){if(J=!1,At){var H=s.unstable_now();C=H;var it=!0;try{t:{tt=!1,rt&&(rt=!1,F(M),M=-1),G=!0;var ct=I;try{e:{for(_t(H),N=i(_);N!==null&&!(N.expirationTime>H&&j());){var It=N.callback;if(typeof It=="function"){N.callback=null,I=N.priorityLevel;var D=It(N.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){N.callback=D,_t(H),it=!0;break e}N===i(_)&&a(_),_t(H)}else a(_);N=i(_)}if(N!==null)it=!0;else{var W=i(v);W!==null&&ne(at,W.startTime-H),it=!1}}break t}finally{N=null,I=ct,G=!1}it=void 0}}finally{it?V():At=!1}}}var V;if(typeof $=="function")V=function(){$(w)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,_e=x.port2;x.port1.onmessage=w,V=function(){_e.postMessage(null)}}else V=function(){bt(w,0)};function ne(H,it){M=bt(function(){H(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var it=3;break;default:it=I}var ct=I;I=it;try{return H()}finally{I=ct}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=I;I=H;try{return it()}finally{I=ct}},s.unstable_scheduleCallback=function(H,it,ct){var It=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?It+ct:It):ct=It,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,H={id:A++,callback:it,priorityLevel:H,startTime:ct,expirationTime:D,sortIndex:-1},ct>It?(H.sortIndex=ct,e(v,H),i(_)===null&&H===i(v)&&(rt?(F(M),M=-1):rt=!0,ne(at,ct-It))):(H.sortIndex=D,e(_,H),tt||G||(tt=!0,At||(At=!0,V()))),H},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(H){var it=I;return function(){var ct=I;I=it;try{return H.apply(this,arguments)}finally{I=ct}}}}(Af)),Af}var ny;function qE(){return ny||(ny=1,bf.exports=kE()),bf.exports}var Sf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function HE(){if(iy)return He;iy=1;var s=id();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:I,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:N,integrity:I,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var ry;function GE(){if(ry)return Sf.exports;ry=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Sf.exports=HE(),Sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function QE(){if(sy)return jl;sy=1;var s=qE(),e=id(),i=GE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function _e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case J:return"Profiler";case rt:return"StrictMode";case at:return"Suspense";case At:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case $:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case _t:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:_e(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return _e(t(n))}catch{}}return null}var ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},It=[],D=-1;function W(t){return{current:t}}function st(t){0>D||(t.current=It[D],It[D]=null,D--)}function et(t,n){D++,It[D]=t.current,t.current=n}var dt=W(null),wt=W(null),vt=W(null),Re=W(null);function Zt(t,n){switch(et(vt,n),et(wt,t),et(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xp(n),t=Rp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(dt),et(dt,t)}function jn(){st(dt),st(wt),st(vt)}function Oi(t){t.memoizedState!==null&&et(Re,t);var n=dt.current,r=Rp(n,t.type);n!==r&&(et(wt,t),et(dt,r))}function ii(t){wt.current===t&&(st(dt),st(wt)),Re.current===t&&(st(Re),Nl._currentValue=ct)}var Er=Object.prototype.hasOwnProperty,Tr=s.unstable_scheduleCallback,br=s.unstable_cancelCallback,Ra=s.unstable_shouldYield,ao=s.unstable_requestPaint,fn=s.unstable_now,_c=s.unstable_getCurrentPriorityLevel,wa=s.unstable_ImmediatePriority,fs=s.unstable_UserBlockingPriority,Ar=s.unstable_NormalPriority,vc=s.unstable_LowPriority,ds=s.unstable_IdlePriority,Ca=s.log,lo=s.unstable_setDisableYieldValue,se=null,qt=null;function nn(t){if(typeof Ca=="function"&&lo(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var ke=Math.clz32?Math.clz32:Sr,oo=Math.log,Ec=Math.LN2;function Sr(t){return t>>>=0,t===0?32:31-(oo(t)/Ec|0)|0}var xr=256,Rr=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ms(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Rn(l):(y&=E,y!==0?c=Rn(y):r||(r=E&~t,r!==0&&(c=Rn(r))))):(E=l&~f,E!==0?c=Rn(E):y!==0?c=Rn(y):r||(r=l&~t,r!==0&&(c=Rn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function wr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Na(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Da(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Va(){var t=Rr;return Rr<<=1,(Rr&62914560)===0&&(Rr=4194304),t}function ri(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ia(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-ke(r),K=1<<Q;E[Q]=0,R[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var k=B[Q];k!==null&&(k.lane&=-536870913)}r&=~K}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Oa(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Qp(t.type))}function uo(t,n){var r=it.p;try{return it.p=t,n()}finally{it.p=r}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,fe="__reactProps$"+te,dn="__reactContainer$"+te,Ma="__reactEvents$"+te,Tc="__reactListeners$"+te,Ui="__reactHandles$"+te,co="__reactResources$"+te,Cr="__reactMarker$"+te;function Li(t){delete t[ve],delete t[fe],delete t[Ma],delete t[Tc],delete t[Ui]}function ai(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[dn]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Dp(t);t!==null;){if(r=t[ve])return r;t=Dp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[ve]||t[dn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[co];return n||(n=t[co]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Cr]=!0}var ja=new Set,ps={};function wn(t,n){li(t,n),li(t+"Capture",n)}function li(t,n){for(ps[t]=n,t=0;t<n.length;t++)ja.add(n[t])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Nr={};function mo(t){return Er.call(Nr,t)?!0:Er.call(fo,t)?!1:ho.test(t)?Nr[t]=!0:(fo[t]=!0,!1)}function zi(t,n,r){if(mo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Dr,go;function oi(t){if(Dr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Dr=n&&n[1]||"",go=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dr+t+go}var ys=!1;function _s(t,n){if(!t||ys)return"";ys=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===P.length)for(l=R.length-1,c=P.length-1;1<=l&&0<=c&&R[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==P[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{ys=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?oi(r):""}function Ua(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return _s(t.type,!1);case 11:return _s(t.type.render,!1);case 1:return _s(t.type,!0);case 31:return oi("Activity");default:return""}}function vs(t){try{var n="";do n+=Ua(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function La(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bc(t){var n=La(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Es(t){t._valueTracker||(t._valueTracker=bc(t))}function za(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=La(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Vr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ac=/[\n"\\]/g;function de(t){return t.replace(Ac,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Pi(t,y,Ke(n)):r!=null?Pi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Ir(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Pi(t,n,r){n==="number"&&Vr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ui(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Or(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ne(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function mn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Mr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Mr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pa(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&po(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&po(t,f,n[f])}function Ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ci=null;function gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function ka(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&za(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(t,!!r.multiple,n,!1)}}}var Bn=!1;function yo(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(hi!==null||fi!==null)&&(cu(),hi&&(n=hi,t=fi,fi=hi=null,ka(n),t)))for(n=0;n<t.length;n++)ka(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pn=!1;if(Cn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){pn=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{pn=!1}var kn=null,Bi=null,di=null;function qa(){if(di)return di;var t,n=Bi,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Ha(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Ha,this.isPropagationStopped=Ha,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=we(Bt),Lr=A({},Bt,{view:0,detail:0}),_o=we(Lr),As,Ss,Gn,zr=A({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(As=t.screenX-Gn.screenX,Ss=t.screenY-Gn.screenY):Ss=As=0,Gn=t),As)},movementY:function(t){return"movementY"in t?t.movementY:Ss}}),yn=we(zr),vo=A({},zr,{dataTransfer:0}),Rc=we(vo),Pr=A({},Lr,{relatedTarget:0}),xs=we(Pr),Ga=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Rs=we(Ga),Eo=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ws=we(Eo),wc=A({},Bt,{data:0}),Qa=we(wc),Br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fa(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bo[t])?!!n[t]:!1}function kr(){return Fa}var Ao=A({},Lr,{key:function(t){if(t.key){var n=Br[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?To[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cs=we(Ao),So=A({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ya=we(So),mi=A({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),xo=we(mi),Ro=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=we(Ro),Co=A({},zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ns=we(Co),Xe=A({},Bt,{newState:0,oldState:0}),No=we(Xe),Do=[9,13,27,32],Qn=Cn&&"CompositionEvent"in window,u=null;Cn&&"documentMode"in document&&(u=document.documentMode);var m=Cn&&"TextEvent"in window&&!u,p=Cn&&(!Qn||u&&8<u&&11>=u),b=" ",L=!1;function q(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ee(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(L=!0,b);case"textInput":return t=n.data,t===b&&L?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Qn&&q(t,n)?(t=qa(),di=Bi=kn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=pu(n,"onChange"),0<n.length&&(r=new bs("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Fn=null;function Ka(t){Ep(t,0)}function Vo(t){var n=zn(t);if(za(n))return t}function kd(t,n){if(t==="change")return n}var qd=!1;if(Cn){var Cc;if(Cn){var Nc="oninput"in document;if(!Nc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Nc=typeof Hd.oninput=="function"}Cc=Nc}else Cc=!1;qd=Cc&&(!document.documentMode||9<document.documentMode)}function Gd(){Me&&(Me.detachEvent("onpropertychange",Qd),Fn=Me=null)}function Qd(t){if(t.propertyName==="value"&&Vo(Fn)){var n=[];gi(n,Fn,t,gn(t)),yo(Ka,n)}}function m0(t,n,r){t==="focusin"?(Gd(),Me=n,Fn=r,Me.attachEvent("onpropertychange",Qd)):t==="focusout"&&Gd()}function g0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Fn)}function p0(t,n){if(t==="click")return Vo(n)}function y0(t,n){if(t==="input"||t==="change")return Vo(n)}function _0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:_0;function Xa(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Er.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yd(t,n){var r=Fd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Fd(r)}}function Kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Vr(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var v0=Cn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Vc=null,Za=null,Ic=!1;function Zd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ic||Ds==null||Ds!==Vr(l)||(l=Ds,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Za&&Xa(Za,l)||(Za=l,l=pu(Vc,"onSelect"),0<l.length&&(n=new bs("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ds)))}function qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Vs={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Oc={},$d={};Cn&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Hr(t){if(Oc[t])return Oc[t];if(!Vs[t])return t;var n=Vs[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in $d)return Oc[t]=n[r];return t}var Jd=Hr("animationend"),Wd=Hr("animationiteration"),tm=Hr("animationstart"),E0=Hr("transitionrun"),T0=Hr("transitionstart"),b0=Hr("transitioncancel"),em=Hr("transitionend"),nm=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Nn(t,n){nm.set(t,n),wn(n,[t])}var im=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=im.get(t);return r!==void 0?r:(n={value:t,source:n,stack:vs(n)},im.set(t,n),n)}return{value:t,source:n,stack:vs(n)}}var vn=[],Is=0,jc=0;function Io(){for(var t=Is,n=jc=Is=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&rm(r,c,f)}}function Oo(t,n,r,l){vn[Is++]=t,vn[Is++]=n,vn[Is++]=r,vn[Is++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uc(t,n,r,l){return Oo(t,n,r,l),Mo(t)}function Os(t,n){return Oo(t,null,null,n),Mo(t)}function rm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Mo(t){if(50<Tl)throw Tl=0,qh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ms={};function A0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,r,l){return new A0(t,n,r,l)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,n){var r=t.alternate;return r===null?(r=an(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function sm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Lc(t)&&(y=1);else if(typeof t=="string")y=xE(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=an(31,r,n,c),t.elementType=C,t.lanes=f,t;case tt:return Gr(r.children,c,f,n);case rt:y=8,c|=24;break;case J:return t=an(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case at:return t=an(13,r,n,c),t.elementType=at,t.lanes=f,t;case At:return t=an(19,r,n,c),t.elementType=At,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case $:y=10;break t;case F:y=9;break t;case _t:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=an(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Gr(t,n,r,l){return t=an(7,t,l,n),t.lanes=r,t}function zc(t,n,r){return t=an(6,t,null,n),t.lanes=r,t}function Pc(t,n,r){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var js=[],Us=0,Uo=null,Lo=0,En=[],Tn=0,Qr=null,yi=1,_i="";function Fr(t,n){js[Us++]=Lo,js[Us++]=Uo,Uo=t,Lo=n}function am(t,n,r){En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Qr,Qr=t;var l=yi;t=_i;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-ke(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Bc(t){t.return!==null&&(Fr(t,1),am(t,1,0))}function kc(t){for(;t===Uo;)Uo=js[--Us],js[Us]=null,Lo=js[--Us],js[Us]=null;for(;t===Qr;)Qr=En[--Tn],En[Tn]=null,_i=En[--Tn],En[Tn]=null,yi=En[--Tn],En[Tn]=null}var Ze=null,ae=null,Pt=!1,Yr=null,Yn=!1,qc=Error(a(519));function Kr(t){var n=Error(a(418,""));throw Wa(_n(n,t)),qc}function lm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Al.length;r++)Dt(Al[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Ir(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Es(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Or(n,l.value,l.defaultValue,l.children),Es(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Sp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=yu),n=!0):n=!1,n||Kr(t)}function om(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ze=Ze.return}}function $a(t){if(t!==Ze)return!1;if(!Pt)return om(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||sf(t.type,t.memoizedProps)),r=!r),r&&ae&&Kr(t),om(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=Vn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,nr(t.type)?(t=uf,uf=null,ae=t):ae=n):ae=Ze?Vn(t.stateNode.nextSibling):null;return!0}function Ja(){ae=Ze=null,Pt=!1}function um(){var t=Yr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Yr=null),t}function Wa(t){Yr===null?Yr=[t]:Yr.push(t)}var Hc=W(null),Xr=null,vi=null;function ki(t,n,r){et(Hc,n._currentValue),n._currentValue=r}function Ei(t){t._currentValue=Hc.current,st(Hc)}function Gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Gc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Gc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function tl(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}c=c.return}t!==null&&Qc(n,t,r,l),n.flags|=262144}function zo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Xr=t,vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return cm(Xr,t)}function Po(t,n){return Xr===null&&Zr(t),cm(t,n)}function cm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},vi===null){if(t===null)throw Error(a(308));vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vi=vi.next=n;return r}var S0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},x0=s.unstable_scheduleCallback,R0=s.unstable_NormalPriority,be={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new S0,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&x0(R0,function(){t.controller.abort()})}var nl=null,Yc=0,Ls=0,zs=null;function w0(t,n){if(nl===null){var r=nl=[];Yc=0,Ls=Xh(),zs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,n.then(hm,hm),n}function hm(){if(--Yc===0&&nl!==null){zs!==null&&(zs.status="fulfilled");var t=nl;nl=null,Ls=0,zs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function C0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var fm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&w0(t,n),fm!==null&&fm(t,n)};var $r=W(null);function Kc(){var t=$r.current;return t!==null?t:$t.pooledCache}function Bo(t,n){n===null?et($r,$r.current):et($r,n.pool)}function dm(){var t=Kc();return t===null?null:{parent:be._currentValue,pool:t}}var il=Error(a(460)),mm=Error(a(474)),ko=Error(a(542)),Xc={then:function(){}};function gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qo(){}function pm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(qo,qo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t;default:if(typeof n.status=="string")n.then(qo,qo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_m(t),t}throw rl=n,il}}var rl=null;function ym(){if(rl===null)throw Error(a(459));var t=rl;return rl=null,t}function _m(t){if(t===il||t===ko)throw Error(a(483))}var qi=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Mo(t),rm(t,null,r),n}return Oo(t,l,n,r),Mo(t)}function sl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Oa(t,r)}}function Jc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wc=!1;function al(){if(Wc){var t=zs;if(t!==null)throw t}}function ll(t,n,r,l){Wc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;y=0,Q=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(jt&B)===B:(l&B)===B){B!==0&&B===Ls&&(Wc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;B=n;var Kt=r;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){K=yt.call(Kt,K,B);break t}K=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,B=typeof yt=="function"?yt.call(Kt,K,B):yt,B==null)break t;K=A({},K,B);break t;case 2:qi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=k,R=K):Q=Q.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(R=K),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Ji|=y,t.lanes=y,t.memoizedState=K}}function vm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Em(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)vm(r[t],n)}var Ps=W(null),Ho=W(0);function Tm(t,n){t=wi,et(Ho,t),et(Ps,n),wi=t|n.baseLanes}function th(){et(Ho,wi),et(Ps,Ps.current)}function eh(){wi=Ho.current,st(Ps),st(Ho)}var Qi=0,xt=null,Ft=null,me=null,Go=!1,Bs=!1,Jr=!1,Qo=0,ol=0,ks=null,N0=0;function ue(){throw Error(a(321))}function nh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function ih(t,n,r,l,c,f){return Qi=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?rg:sg,Jr=!1,f=r(l,c),Jr=!1,Bs&&(f=Am(n,r,l,c)),bm(t),f}function bm(t){H.H=$o;var n=Ft!==null&&Ft.next!==null;if(Qi=0,me=Ft=xt=null,Go=!1,ol=0,ks=null,n)throw Error(a(300));t===null||Ne||(t=t.dependencies,t!==null&&zo(t)&&(Ne=!0))}function Am(t,n,r,l){xt=t;var c=0;do{if(Bs&&(ks=null),ol=0,Bs=!1,25<=c)throw Error(a(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=U0,f=n(r,l)}while(Bs);return f}function D0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(xt.flags|=1024),n}function rh(){var t=Qo!==0;return Qo=0,t}function sh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ah(t){if(Go){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Go=!1}Qi=0,me=Ft=xt=null,Bs=!1,ol=Qo=0,ks=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?xt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?xt.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw xt.alternate===null?Error(a(467)):Error(a(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?xt.memoizedState=me=t:me=me.next=t}return me}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ol;return ol+=1,ks===null&&(ks=[]),t=pm(ks,t,n),n=xt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?rg:sg),t}function Fo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===$)return qe(t)}throw Error(a(438,String(t)))}function oh(t){var n=null,r=xt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lh(),xt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=j;return n.index++,r}function Ti(t,n){return typeof n=="function"?n(t):n}function Yo(t){var n=ge();return uh(n,Ft,t)}function uh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,P=n,Q=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(jt&K)===K:(Qi&K)===K){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ls&&(Q=!0);else if((Qi&B)===B){P=P.next,B===Ls&&(Q=!0);continue}else K={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,y=f):R=R.next=K,xt.lanes|=B,Ji|=B;K=P.action,Jr&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else B={lane:K,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,xt.lanes|=K,Ji|=K;P=P.next}while(P!==null&&P!==n);if(R===null?y=f:R.next=E,!sn(f,t.memoizedState)&&(Ne=!0,Q&&(r=zs,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Sm(t,n,r){var l=xt,c=ge(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ne=!0),c=c.queue;var E=wm.bind(null,l,c,t);if(cl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,qs(9,Ko(),Rm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Qi&124)!==0||xm(l,n,r)}return r}function xm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=xt.updateQueue,n===null?(n=lh(),xt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Rm(t,n,r,l){n.value=r,n.getSnapshot=l,Cm(n)&&Nm(t)}function wm(t,n,r){return r(function(){Cm(n)&&Nm(t)})}function Cm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Nm(t){var n=Os(t,2);n!==null&&hn(n,t,2)}function hh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Jr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},n}function Dm(t,n,r,l){return t.baseState=r,uh(t,Ft,typeof l=="function"?l:Ti)}function V0(t,n,r,l,c){if(Zo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Vm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Vm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),R=H.S;R!==null&&R(y,E),Im(t,n,E)}catch(P){fh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Im(t,n,f)}catch(P){fh(t,n,P)}}function Im(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Om(t,n,l)},function(l){return fh(t,n,l)}):Om(t,n,r)}function Om(t,n,r){n.status="fulfilled",n.value=r,Mm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Vm(t,r)))}function fh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Mm(n),n=n.next;while(n!==l)}t.action=null}function Mm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jm(t,n){return n}function Um(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=xt;if(Pt){if(ae){e:{for(var c=ae,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Vn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Vn(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:n},r.queue=l,r=eg.bind(null,xt,l),l.dispatch=r,l=hh(!1),f=yh.bind(null,xt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=V0.bind(null,xt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Lm(t){var n=ge();return zm(n,Ft,t)}function zm(t,n,r){if(n=uh(t,n,jm)[0],t=Yo(Ti)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ul(n)}catch(y){throw y===il?ko:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(xt.flags|=2048,qs(9,Ko(),I0.bind(null,c,r),null)),[l,f,t]}function I0(t,n){t.action=n}function Pm(t){var n=ge(),r=Ft;if(r!==null)return zm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=lh(),xt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ko(){return{destroy:void 0,resource:void 0}}function Bm(){return ge().memoizedState}function Xo(t,n,r,l){var c=$e();l=l===void 0?null:l,xt.flags|=t,c.memoizedState=qs(1|n,Ko(),r,l)}function cl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&nh(l,Ft.memoizedState.deps)?c.memoizedState=qs(n,f,r,l):(xt.flags|=t,c.memoizedState=qs(1|n,f,r,l))}function km(t,n){Xo(8390656,8,t,n)}function qm(t,n){cl(2048,8,t,n)}function Hm(t,n){return cl(4,2,t,n)}function Gm(t,n){return cl(4,4,t,n)}function Qm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Fm(t,n,r){r=r!=null?r.concat([t]):null,cl(4,4,Qm.bind(null,n,t),r)}function dh(){}function Ym(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&nh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Km(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&nh(n,l[1]))return l[0];if(l=t(),Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function mh(t,n,r){return r===void 0||(Qi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=$g(),xt.lanes|=t,Ji|=t,r)}function Xm(t,n,r,l){return sn(r,n)?r:Ps.current!==null?(t=mh(t,r,l),sn(t,n)||(Ne=!0),t):(Qi&42)===0?(Ne=!0,t.memoizedState=r):(t=$g(),xt.lanes|=t,Ji|=t,n)}function Zm(t,n,r,l,c){var f=it.p;it.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,yh(t,!1,n,r);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=C0(R,l);hl(t,n,Q,cn(t))}else hl(t,n,l,cn(t))}catch(K){hl(t,n,{then:function(){},status:"rejected",reason:K},cn())}finally{it.p=f,H.T=y}}function O0(){}function gh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=$m(t).queue;Zm(t,c,n,ct,r===null?O0:function(){return Jm(t),r(l)})}function $m(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:ct},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Jm(t){var n=$m(t).next.queue;hl(t,n,{},cn())}function ph(){return qe(Nl)}function Wm(){return ge().memoizedState}function tg(){return ge().memoizedState}function M0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Hi(r);var l=Gi(n,t,r);l!==null&&(hn(l,n,r),sl(l,n,r)),n={cache:Fc()},t.payload=n;return}n=n.return}}function j0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Zo(t)?ng(n,r):(r=Uc(t,n,r,l),r!==null&&(hn(r,t,l),ig(r,n,l)))}function eg(t,n,r){var l=cn();hl(t,n,r,l)}function hl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zo(t))ng(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Oo(t,n,c,0),$t===null&&Io(),!1}catch{}finally{}if(r=Uc(t,n,c,l),r!==null)return hn(r,t,l),ig(r,n,l),!0}return!1}function yh(t,n,r,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},Zo(t)){if(n)throw Error(a(479))}else n=Uc(t,r,l,2),n!==null&&hn(n,t,2)}function Zo(t){var n=t.alternate;return t===xt||n!==null&&n===xt}function ng(t,n){Bs=Go=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ig(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Oa(t,r)}}var $o={readContext:qe,use:Fo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},rg={readContext:qe,use:Fo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:km,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xo(4194308,4,Qm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xo(4194308,4,t,n)},useInsertionEffect:function(t,n){Xo(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Jr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Jr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=j0.bind(null,xt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=hh(t);var n=t.queue,r=eg.bind(null,xt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dh,useDeferredValue:function(t,n){var r=$e();return mh(r,t,n)},useTransition:function(){var t=hh(!1);return t=Zm.bind(null,xt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=xt,c=$e();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(jt&124)!==0||xm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,km(wm.bind(null,l,f,t),[t]),l.flags|=2048,qs(9,Ko(),Rm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Pt){var r=_i,l=yi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Qo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=N0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ph,useFormState:Um,useActionState:Um,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yh.bind(null,xt,!0,r),r.dispatch=n,[t,n]},useMemoCache:oh,useCacheRefresh:function(){return $e().memoizedState=M0.bind(null,xt)}},sg={readContext:qe,use:Fo,useCallback:Ym,useContext:qe,useEffect:qm,useImperativeHandle:Fm,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Km,useReducer:Yo,useRef:Bm,useState:function(){return Yo(Ti)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Xm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Yo(Ti)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Sm,useId:Wm,useHostTransitionStatus:ph,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var r=ge();return Dm(r,Ft,t,n)},useMemoCache:oh,useCacheRefresh:tg},U0={readContext:qe,use:Fo,useCallback:Ym,useContext:qe,useEffect:qm,useImperativeHandle:Fm,useInsertionEffect:Hm,useLayoutEffect:Gm,useMemo:Km,useReducer:ch,useRef:Bm,useState:function(){return ch(Ti)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Ft===null?mh(r,t,n):Xm(r,Ft.memoizedState,t,n)},useTransition:function(){var t=ch(Ti)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:Sm,useId:Wm,useHostTransitionStatus:ph,useFormState:Pm,useActionState:Pm,useOptimistic:function(t,n){var r=ge();return Ft!==null?Dm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:oh,useCacheRefresh:tg},Hs=null,fl=0;function Jo(t){var n=fl;return fl+=1,Hs===null&&(Hs=[]),pm(Hs,t,n)}function dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wo(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ag(t){var n=t._init;return n(t._payload)}function lg(t){function n(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function r(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function c(U,O){return U=pi(U,O),U.index=0,U.sibling=null,U}function f(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,z,Y){return O===null||O.tag!==6?(O=zc(z,U.mode,Y),O.return=U,O):(O=c(O,z),O.return=U,O)}function R(U,O,z,Y){var ut=z.type;return ut===tt?Q(U,O,z.props.children,Y,z.key):O!==null&&(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&ag(ut)===O.type)?(O=c(O,z.props),dl(O,z),O.return=U,O):(O=jo(z.type,z.key,z.props,null,U.mode,Y),dl(O,z),O.return=U,O)}function P(U,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Pc(z,U.mode,Y),O.return=U,O):(O=c(O,z.children||[]),O.return=U,O)}function Q(U,O,z,Y,ut){return O===null||O.tag!==7?(O=Gr(z,U.mode,Y,ut),O.return=U,O):(O=c(O,z),O.return=U,O)}function K(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zc(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return z=jo(O.type,O.key,O.props,null,U.mode,z),dl(z,O),z.return=U,z;case G:return O=Pc(O,U.mode,z),O.return=U,O;case S:var Y=O._init;return O=Y(O._payload),K(U,O,z)}if(ne(O)||V(O))return O=Gr(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return K(U,Jo(O),z);if(O.$$typeof===$)return K(U,Po(U,O),z);Wo(U,O)}return null}function B(U,O,z,Y){var ut=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:E(U,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===ut?R(U,O,z,Y):null;case G:return z.key===ut?P(U,O,z,Y):null;case S:return ut=z._init,z=ut(z._payload),B(U,O,z,Y)}if(ne(z)||V(z))return ut!==null?null:Q(U,O,z,Y,null);if(typeof z.then=="function")return B(U,O,Jo(z),Y);if(z.$$typeof===$)return B(U,O,Po(U,z),Y);Wo(U,z)}return null}function k(U,O,z,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(z)||null,E(O,U,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case I:return U=U.get(Y.key===null?z:Y.key)||null,R(O,U,Y,ut);case G:return U=U.get(Y.key===null?z:Y.key)||null,P(O,U,Y,ut);case S:var Ct=Y._init;return Y=Ct(Y._payload),k(U,O,z,Y,ut)}if(ne(Y)||V(Y))return U=U.get(z)||null,Q(O,U,Y,ut,null);if(typeof Y.then=="function")return k(U,O,z,Jo(Y),ut);if(Y.$$typeof===$)return k(U,O,z,Po(O,Y),ut);Wo(O,Y)}return null}function yt(U,O,z,Y){for(var ut=null,Ct=null,ht=O,gt=O=0,Ve=null;ht!==null&&gt<z.length;gt++){ht.index>gt?(Ve=ht,ht=null):Ve=ht.sibling;var zt=B(U,ht,z[gt],Y);if(zt===null){ht===null&&(ht=Ve);break}t&&ht&&zt.alternate===null&&n(U,ht),O=f(zt,O,gt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt,ht=Ve}if(gt===z.length)return r(U,ht),Pt&&Fr(U,gt),ut;if(ht===null){for(;gt<z.length;gt++)ht=K(U,z[gt],Y),ht!==null&&(O=f(ht,O,gt),Ct===null?ut=ht:Ct.sibling=ht,Ct=ht);return Pt&&Fr(U,gt),ut}for(ht=l(ht);gt<z.length;gt++)Ve=k(ht,U,gt,z[gt],Y),Ve!==null&&(t&&Ve.alternate!==null&&ht.delete(Ve.key===null?gt:Ve.key),O=f(Ve,O,gt),Ct===null?ut=Ve:Ct.sibling=Ve,Ct=Ve);return t&&ht.forEach(function(lr){return n(U,lr)}),Pt&&Fr(U,gt),ut}function mt(U,O,z,Y){if(z==null)throw Error(a(151));for(var ut=null,Ct=null,ht=O,gt=O=0,Ve=null,zt=z.next();ht!==null&&!zt.done;gt++,zt=z.next()){ht.index>gt?(Ve=ht,ht=null):Ve=ht.sibling;var lr=B(U,ht,zt.value,Y);if(lr===null){ht===null&&(ht=Ve);break}t&&ht&&lr.alternate===null&&n(U,ht),O=f(lr,O,gt),Ct===null?ut=lr:Ct.sibling=lr,Ct=lr,ht=Ve}if(zt.done)return r(U,ht),Pt&&Fr(U,gt),ut;if(ht===null){for(;!zt.done;gt++,zt=z.next())zt=K(U,zt.value,Y),zt!==null&&(O=f(zt,O,gt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt);return Pt&&Fr(U,gt),ut}for(ht=l(ht);!zt.done;gt++,zt=z.next())zt=k(ht,U,gt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?gt:zt.key),O=f(zt,O,gt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt);return t&&ht.forEach(function(LE){return n(U,LE)}),Pt&&Fr(U,gt),ut}function Kt(U,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===tt&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var ut=z.key;O!==null;){if(O.key===ut){if(ut=z.type,ut===tt){if(O.tag===7){r(U,O.sibling),Y=c(O,z.props.children),Y.return=U,U=Y;break t}}else if(O.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&ag(ut)===O.type){r(U,O.sibling),Y=c(O,z.props),dl(Y,z),Y.return=U,U=Y;break t}r(U,O);break}else n(U,O);O=O.sibling}z.type===tt?(Y=Gr(z.props.children,U.mode,Y,z.key),Y.return=U,U=Y):(Y=jo(z.type,z.key,z.props,null,U.mode,Y),dl(Y,z),Y.return=U,U=Y)}return y(U);case G:t:{for(ut=z.key;O!==null;){if(O.key===ut)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){r(U,O.sibling),Y=c(O,z.children||[]),Y.return=U,U=Y;break t}else{r(U,O);break}else n(U,O);O=O.sibling}Y=Pc(z,U.mode,Y),Y.return=U,U=Y}return y(U);case S:return ut=z._init,z=ut(z._payload),Kt(U,O,z,Y)}if(ne(z))return yt(U,O,z,Y);if(V(z)){if(ut=V(z),typeof ut!="function")throw Error(a(150));return z=ut.call(z),mt(U,O,z,Y)}if(typeof z.then=="function")return Kt(U,O,Jo(z),Y);if(z.$$typeof===$)return Kt(U,O,Po(U,z),Y);Wo(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(r(U,O.sibling),Y=c(O,z),Y.return=U,U=Y):(r(U,O),Y=zc(z,U.mode,Y),Y.return=U,U=Y),y(U)):r(U,O)}return function(U,O,z,Y){try{fl=0;var ut=Kt(U,O,z,Y);return Hs=null,ut}catch(ht){if(ht===il||ht===ko)throw ht;var Ct=an(29,ht,null,U.mode);return Ct.lanes=Y,Ct.return=U,Ct}finally{}}}var Gs=lg(!0),og=lg(!1),bn=W(null),Kn=null;function Fi(t){var n=t.alternate;et(Ae,Ae.current&1),et(bn,t),Kn===null&&(n===null||Ps.current!==null||n.memoizedState!==null)&&(Kn=t)}function ug(t){if(t.tag===22){if(et(Ae,Ae.current),et(bn,t),Kn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Kn=t)}}else Yi()}function Yi(){et(Ae,Ae.current),et(bn,bn.current)}function bi(t){st(bn),Kn===t&&(Kn=null),st(Ae)}var Ae=W(0);function tu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||of(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _h(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Hi(l);c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(hn(n,t,l),sl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Hi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Gi(t,c,l),n!==null&&(hn(n,t,l),sl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Hi(r);l.tag=2,n!=null&&(l.callback=n),n=Gi(t,l,r),n!==null&&(hn(n,t,r),sl(n,t,r))}};function cg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Xa(r,l)||!Xa(c,f):!0}function hg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&vh.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){eu(t)}function dg(t){console.error(t)}function mg(t){eu(t)}function nu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eh(t,n,r){return r=Hi(r),r.tag=3,r.payload={element:null},r.callback=function(){nu(t,n)},r}function pg(t){return t=Hi(t),t.tag=3,t}function yg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){gg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){gg(n,r,l),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function L0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&tl(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Kn===null?Gh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Fh(t,l,c)),!1;case 22:return r.flags|=65536,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Fh(t,l,c)),!1}throw Error(a(435,r.tag))}return Fh(t,l,c),Gh(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==qc&&(t=Error(a(422),{cause:l}),Wa(_n(t,r)))):(l!==qc&&(n=Error(a(423),{cause:l}),Wa(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=Eh(t.stateNode,l,c),Jc(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,r),El===null?El=[f]:El.push(f),le!==4&&(le=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Eh(r.stateNode,l,t),Jc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wi===null||!Wi.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=pg(c),yg(c,t,r,l),Jc(r,c),!1}r=r.return}while(r!==null);return!1}var _g=Error(a(461)),Ne=!1;function je(t,n,r,l){n.child=t===null?og(n,null,r,l):Gs(n,t.child,r,l)}function vg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Zr(n),l=ih(t,n,r,y,f,c),E=rh(),t!==null&&!Ne?(sh(t,n,c),Ai(t,n,c)):(Pt&&E&&Bc(n),n.flags|=1,je(t,n,l,c),n.child)}function Eg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Lc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Tg(t,n,f,l,c)):(t=jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xa,r(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=pi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Xa(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return Th(t,n,r,l,c)}function bg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ag(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bo(n,f!==null?f.cachePool:null),f!==null?Tm(n,f):th(),ug(n);else return n.lanes=n.childLanes=536870912,Ag(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Bo(n,f.cachePool),Tm(n,f),Yi(),n.memoizedState=null):(t!==null&&Bo(n,null),th(),Yi());return je(t,n,c,r),n.child}function Ag(t,n,r,l){var c=Kc();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Bo(n,null),th(),ug(n),t!==null&&tl(t,n,l,!0),null}function iu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Th(t,n,r,l,c){return Zr(n),r=ih(t,n,r,l,void 0,c),l=rh(),t!==null&&!Ne?(sh(t,n,c),Ai(t,n,c)):(Pt&&l&&Bc(n),n.flags|=1,je(t,n,r,c),n.child)}function Sg(t,n,r,l,c,f){return Zr(n),n.updateQueue=null,r=Am(n,l,r,c),bm(t),l=rh(),t!==null&&!Ne?(sh(t,n,f),Ai(t,n,f)):(Pt&&l&&Bc(n),n.flags|=1,je(t,n,r,f),n.child)}function xg(t,n,r,l,c){if(Zr(n),n.stateNode===null){var f=Ms,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ms,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(_h(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vh.enqueueReplaceState(f,f.state,null),ll(n,l,f,c),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Wr(r,E);f.props=R;var P=f.context,Q=r.contextType;y=Ms,typeof Q=="object"&&Q!==null&&(y=qe(Q));var K=r.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&hg(n,f,l,y),qi=!1;var B=n.memoizedState;f.state=B,ll(n,l,f,c),al(),P=n.memoizedState,E||B!==P||qi?(typeof K=="function"&&(_h(n,r,K,l),P=n.memoizedState),(R=qi||cg(n,r,R,l,B,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,$c(t,n),y=n.memoizedProps,Q=Wr(r,y),f.props=Q,K=n.pendingProps,B=f.context,P=r.contextType,R=Ms,typeof P=="object"&&P!==null&&(R=qe(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==R)&&hg(n,f,l,R),qi=!1,B=n.memoizedState,f.state=B,ll(n,l,f,c),al();var k=n.memoizedState;y!==K||B!==k||qi||t!==null&&t.dependencies!==null&&zo(t.dependencies)?(typeof E=="function"&&(_h(n,r,E,l),k=n.memoizedState),(Q=qi||cg(n,r,Q,l,B,k,R)||t!==null&&t.dependencies!==null&&zo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Gs(n,t.child,null,c),n.child=Gs(n,null,r,c)):je(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Rg(t,n,r,l){return Ja(),n.flags|=256,je(t,n,r,l),n.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(t){return{baseLanes:t,cachePool:dm()}}function Sh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=An),t}function wg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Fi(n):Yi(),Pt){var E=ae,R;if(R=E){t:{for(R=E,E=Yn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Vn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},R=an(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Ze=n,ae=null,R=!0):R=!1}R||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return of(E)?n.lanes=32:n.lanes=536870912,null;bi(n)}return E=l.children,l=l.fallback,c?(Yi(),c=n.mode,E=ru({mode:"hidden",children:E},c),l=Gr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ah(r),c.childLanes=Sh(t,y,r),n.memoizedState=bh,l):(Fi(n),xh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Fi(n),n.flags&=-257,n=Rh(t,n,r)):n.memoizedState!==null?(Yi(),n.child=t.child,n.flags|=128,n=null):(Yi(),c=l.fallback,E=n.mode,l=ru({mode:"visible",children:l.children},E),c=Gr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Gs(n,t.child,null,r),l=n.child,l.memoizedState=Ah(r),l.childLanes=Sh(t,y,r),n.memoizedState=bh,n=c);else if(Fi(n),of(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Wa({value:l,source:null,stack:null}),n=Rh(t,n,r)}else if(Ne||tl(t,n,r,!1),y=(r&t.childLanes)!==0,Ne||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Os(t,l),hn(y,t,l),_g;E.data==="$?"||Gh(),n=Rh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ae=Vn(E.nextSibling),Ze=n,Pt=!0,Yr=null,Yn=!1,t!==null&&(En[Tn++]=yi,En[Tn++]=_i,En[Tn++]=Qr,yi=t.id,_i=t.overflow,Qr=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(Yi(),c=l.fallback,E=n.mode,R=t.child,P=R.sibling,l=pi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=pi(P,c):(c=Gr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ah(r):(R=E.cachePool,R!==null?(P=be._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=dm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Sh(t,y,r),n.memoizedState=bh,l):(Fi(n),r=t.child,t=r.sibling,r=pi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function xh(t,n){return n=ru({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ru(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rh(t,n,r){return Gs(n,t.child,null,r),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Cg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gc(t.return,n,r)}function wh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Ng(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(je(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cg(t,r,n);else if(t.tag===19)Cg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&tu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),wh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&tu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}wh(n,!0,r,null,f);break;case"together":wh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ji|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(tl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=pi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=pi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zo(t)))}function z0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ki(n,be,t.memoizedState.cache),Ja();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Fi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?wg(t,n,r):(Fi(n),t=Ai(t,n,r),t!==null?t.sibling:null);Fi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(tl(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Ng(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,r);case 24:ki(n,be,t.memoizedState.cache)}return Ai(t,n,r)}function Dg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ne=!1,z0(t,n,r);Ne=(t.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&am(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Lc(l)?(t=Wr(l,t),n.tag=1,n=xg(null,n,l,t,r)):(n.tag=0,n=Th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===_t){n.tag=11,n=vg(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=Eg(null,n,l,t,r);break t}}throw n=_e(l)||l,Error(a(306,n,""))}}return n;case 0:return Th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),xg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,$c(t,n),ll(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ki(n,be,l),l!==f.cache&&Qc(n,[be],r,!0),al(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Rg(t,n,l,r);break t}else if(l!==c){c=_n(Error(a(424)),n),Wa(c),n=Rg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Vn(t.firstChild),Ze=n,Pt=!0,Yr=null,Yn=!0,r=og(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ja(),l===c){n=Ai(t,n,r);break t}je(t,n,l,r)}n=n.child}return n;case 26:return iu(t,n),t===null?(r=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=_u(vt.current).createElement(r),l[ve]=n,l[fe]=t,Le(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Mp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Pt&&(l=n.stateNode=Vp(n.type,n.pendingProps,vt.current),Ze=n,Yn=!0,c=ae,nr(n.type)?(uf=c,ae=Vn(l.firstChild)):ae=c),je(t,n,n.pendingProps.children,r),iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=fE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,ae=Vn(l.firstChild),Yn=!1,c=!0):c=!1),c||Kr(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,sf(c,f)?l=null:y!==null&&sf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ih(t,n,D0,null,null,r),Nl._currentValue=c),iu(t,n),je(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=dE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,ae=null,t=!0):t=!1),t||Kr(n)),null;case 13:return wg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Gs(n,null,l,r):je(t,n,l,r),n.child;case 11:return vg(t,n,n.type,n.pendingProps,r);case 7:return je(t,n,n.pendingProps,r),n.child;case 8:return je(t,n,n.pendingProps.children,r),n.child;case 12:return je(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ki(n,n.type,l.value),je(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Zr(n),c=qe(c),l=l(c),n.flags|=1,je(t,n,l,r),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,r);case 15:return Tg(t,n,n.type,n.pendingProps,r);case 19:return Ng(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=ru(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=pi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return bg(t,n,r);case 24:return Zr(n),l=qe(be),t===null?(c=Kc(),c===null&&(c=$t,f=Fc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),ki(n,be,c)):((t.lanes&r)!==0&&($c(t,n),ll(n,null,null,r),al()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ki(n,be,l)):(l=f.cache,ki(n,be,l),l!==c.cache&&Qc(n,[be],r,!0))),je(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pp(n)){if(n=bn.current,n!==null&&((jt&4194048)===jt?Kn!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Kn))throw rl=Xc,mm;t.flags|=8192}}function su(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Va():536870912,t.lanes|=n,Ks|=n)}function ml(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function P0(t,n,r){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ei(be),jn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($a(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,um())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ie(n),Vg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ie(n),Vg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ie(n),n.flags&=-16777217),null;case 27:ii(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}t=dt.current,$a(n)?lm(n):(t=Vp(c,l,r),n.stateNode=t,Si(n))}return ie(n),null;case 5:if(ii(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(t=dt.current,$a(n))lm(n);else{switch(c=_u(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ve]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,$a(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Sp(t.nodeValue,r)),t||Kr(n)}else t=_u(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=$a(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ve]=n}else Ja(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=um(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bi(n),n):(bi(n),null)}if(bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),su(n,n.updateQueue),ie(n),null;case 4:return jn(),t===null&&Wh(n.stateNode.containerInfo),ie(n),null;case 10:return Ei(n.type),ie(n),null;case 19:if(st(Ae),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ml(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=tu(t),f!==null){for(n.flags|=128,ml(c,!1),t=f.updateQueue,n.updateQueue=t,su(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)sm(r,t),r=r.sibling;return et(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&fn()>ou&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304)}else{if(!l)if(t=tu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,su(n,t),ml(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ie(n),null}else 2*fn()-c.renderingStartTime>ou&&r!==536870912&&(n.flags|=128,l=!0,ml(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=fn(),n.sibling=null,t=Ae.current,et(Ae,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return bi(n),eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&su(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&st($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ei(be),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function B0(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ei(be),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ii(n),null;case 13:if(bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ja()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(Ae),null;case 4:return jn(),null;case 10:return Ei(n.type),null;case 22:case 23:return bi(n),eh(),t!==null&&st($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ei(be),null;case 25:return null;default:return null}}function Ig(t,n){switch(kc(n),n.tag){case 3:Ei(be),jn();break;case 26:case 27:case 5:ii(n);break;case 4:jn();break;case 13:bi(n);break;case 19:st(Ae);break;case 10:Ei(n.type);break;case 22:case 23:bi(n),eh(),t!==null&&st($r);break;case 24:Ei(be)}}function gl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Ki(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(Q){Xt(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function Og(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Em(n,r)}catch(l){Xt(t,t.return,l)}}}function Mg(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function pl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Xn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function jg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Nh(t,n,r){try{var l=t.stateNode;lE(l,t.type,r,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&nr(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=yu));else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Vh(t,n,r),t=t.sibling;t!==null;)Vh(t,n,r),t=t.sibling}function au(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&nr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(au(t,n,r),t=t.sibling;t!==null;)au(t,n,r),t=t.sibling}function Lg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,r),n[ve]=t,n[fe]=r}catch(f){Xt(t,t.return,f)}}var xi=!1,ce=!1,Ih=!1,zg=typeof WeakSet=="function"?WeakSet:Set,De=null;function k0(t,n){if(t=t.containerInfo,nf=Su,t=Xd(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,P=0,Q=0,K=t,B=null;e:for(;;){for(var k;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(R=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++Q===l&&(R=y),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},Su=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Xt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Pg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xi(t,r),l&4&&gl(5,r);break;case 1:if(Xi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Og(r),l&512&&pl(r,r.return);break;case 3:if(Xi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Em(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Lg(r);case 26:case 5:Xi(t,r),n===null&&l&4&&jg(r),l&512&&pl(r,r.return);break;case 12:Xi(t,r);break;case 13:Xi(t,r),l&4&&qg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Z0.bind(null,r),mE(t,r))));break;case 22:if(l=r.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||ce,c=xi;var f=ce;xi=l,(ce=n)&&!f?Zi(t,r,(r.subtreeFlags&8772)!==0):Xi(t,r),xi=c,ce=f}break;case 30:break;default:Xi(t,r)}}function Bg(t){var n=t.alternate;n!==null&&(t.alternate=null,Bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Li(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,Je=!1;function Ri(t,n,r){for(r=r.child;r!==null;)kg(t,n,r),r=r.sibling}function kg(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||Xn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Xn(r,n);var l=ee,c=Je;nr(r.type)&&(ee=r.stateNode,Je=!1),Ri(t,n,r),xl(r.stateNode),ee=l,Je=c;break;case 5:ce||Xn(r,n);case 6:if(l=ee,c=Je,ee=null,Ri(t,n,r),ee=l,Je=c,ee!==null)if(Je)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ee!==null&&(Je?(t=ee,Np(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ol(t)):Np(ee,r.stateNode));break;case 4:l=ee,c=Je,ee=r.stateNode.containerInfo,Je=!0,Ri(t,n,r),ee=l,Je=c;break;case 0:case 11:case 14:case 15:ce||Ki(2,r,n),ce||Ki(4,r,n),Ri(t,n,r);break;case 1:ce||(Xn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Mg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ri(t,n,r),ce=l;break;default:Ri(t,n,r)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(r){Xt(n,n.return,r)}}function q0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new zg),n;default:throw Error(a(435,t.tag))}}function Oh(t,n){var r=q0(t);n.forEach(function(l){var c=$0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){ee=E.stateNode,Je=!1;break t}break;case 5:ee=E.stateNode,Je=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(ee===null)throw Error(a(160));kg(f,y,c),ee=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var Dn=null;function Hg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ki(3,t,t.return),gl(3,t),Ki(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(ce||r===null||Xn(r,r.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Dn;if(ln(n,t),on(t),l&512&&(ce||r===null||Xn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Cr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[ve]=t,oe(f),l=f;break t;case"link":var y=Lp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Lp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=t,oe(f),l=f}t.stateNode=l}else zp(c,t.type,t.stateNode);else t.stateNode=Up(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?zp(c,t.type,t.stateNode):Up(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(ce||r===null||Xn(r,r.return)),r!==null&&l&4&&Nh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(ce||r===null||Xn(r,r.return)),t.flags&32){c=t.stateNode;try{mn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Nh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ih=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(Tu=null,c=Dn,Dn=vu(n.containerInfo),ln(n,t),Dn=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(k){Xt(t,t.return,k)}Ih&&(Ih=!1,Gg(t));break;case 4:l=Dn,Dn=vu(t.stateNode.containerInfo),ln(n,t),on(t),Dn=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ph=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=xi,Q=ce;if(xi=P||c,ce=Q||R,ln(n,t),ce=Q,xi=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||xi||ce||ts(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(R,R.return,k)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Xt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oh(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Oh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ug(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);au(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var E=Dh(t);au(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,P=Dh(t);Vh(t,P,R);break;default:throw Error(a(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pg(t,n.alternate,n),n=n.sibling}function ts(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ki(4,n,n.return),ts(n);break;case 1:Xn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Mg(n,n.return,r),ts(n);break;case 27:xl(n.stateNode);case 26:case 5:Xn(n,n.return),ts(n);break;case 22:n.memoizedState===null&&ts(n);break;case 30:ts(n);break;default:ts(n)}t=t.sibling}}function Zi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(c,f,r),gl(4,f);break;case 1:if(Zi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)vm(R[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Og(f),pl(f,f.return);break;case 27:Lg(f);case 26:case 5:Zi(c,f,r),r&&l===null&&y&4&&jg(f),pl(f,f.return);break;case 12:Zi(c,f,r);break;case 13:Zi(c,f,r),r&&y&4&&qg(c,f);break;case 22:f.memoizedState===null&&Zi(c,f,r),pl(f,f.return);break;case 30:break;default:Zi(c,f,r)}n=n.sibling}}function Mh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function Zn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qg(t,n,r,l),n=n.sibling}function Qg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,r,l),c&2048&&gl(9,n);break;case 1:Zn(t,n,r,l);break;case 3:Zn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){Zn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else Zn(t,n,r,l);break;case 13:Zn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,r,l):yl(t,n):f._visibility&2?Zn(t,n,r,l):(f._visibility|=2,Qs(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Mh(y,n);break;case 24:Zn(t,n,r,l),c&2048&&jh(n.alternate,n);break;default:Zn(t,n,r,l)}}function Qs(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Qs(f,y,E,R,c),gl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Qs(f,y,E,R,c):yl(f,y):(Q._visibility|=2,Qs(f,y,E,R,c)),c&&P&2048&&Mh(y.alternate,y);break;case 24:Qs(f,y,E,R,c),c&&P&2048&&jh(y.alternate,y);break;default:Qs(f,y,E,R,c)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:yl(r,l),c&2048&&Mh(l.alternate,l);break;case 24:yl(r,l),c&2048&&jh(l.alternate,l);break;default:yl(r,l)}n=n.sibling}}var _l=8192;function Fs(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Fg(t),t=t.sibling}function Fg(t){switch(t.tag){case 26:Fs(t),t.flags&_l&&t.memoizedState!==null&&wE(Dn,t.memoizedState,t.memoizedProps);break;case 5:Fs(t);break;case 3:case 4:var n=Dn;Dn=vu(t.stateNode.containerInfo),Fs(t),Dn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=_l,_l=16777216,Fs(t),_l=n):Fs(t));break;default:Fs(t)}}function Yg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Xg(l,t)}Yg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lu(t)):vl(t);break;default:vl(t)}}function lu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,Xg(l,t)}Yg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ki(8,n,n.return),lu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lu(n));break;default:lu(n)}t=t.sibling}}function Xg(t,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:Ki(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(Bg(l),l===r){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var H0={getCacheForType:function(t){var n=qe(be),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},G0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Nt=null,jt=0,Gt=0,un=null,$i=!1,Ys=!1,Uh=!1,wi=0,le=0,Ji=0,es=0,Lh=0,An=0,Ks=0,El=null,We=null,zh=!1,Ph=0,ou=1/0,uu=null,Wi=null,Ue=0,tr=null,Xs=null,Zs=0,Bh=0,kh=null,Zg=null,Tl=0,qh=null;function cn(){if((Ht&2)!==0&&jt!==0)return jt&-jt;if(H.T!==null){var t=Ls;return t!==0?t:Xh()}return ji()}function $g(){An===0&&(An=(jt&536870912)===0||Pt?Da():536870912);var t=bn.current;return t!==null&&(t.flags|=32),An}function hn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&($s(t,0),er(t,jt,An,!1)),si(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(es|=r),le===4&&er(t,jt,An,!1)),$n(t))}function Jg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||wr(t,n),c=l?Y0(t,n):Qh(t,n,!0),f=l;do{if(c===0){Ys&&!l&&er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Q0(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=El;var R=E.current.memoizedState.isDehydrated;if(R&&($s(E,y).flags|=256),y=Qh(E,y,!1),y!==2){if(Uh&&!R){E.errorRecoveryDisabledLanes|=f,es|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){$s(t,0),er(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(l,n,An,!$i);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ph+300-fn(),10<c)){if(er(l,n,An,!$i),ms(l,0,!0)!==0)break t;l.timeoutHandle=wp(Wg.bind(null,l,r,We,uu,zh,n,An,es,Ks,$i,f,2,-0,0),c);break t}Wg(l,r,We,uu,zh,n,An,es,Ks,$i,f,0,-0,0)}}break}while(!0);$n(t)}function Wg(t,n,r,l,c,f,y,E,R,P,Q,K,B,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:RE},Fg(n),K=CE(),K!==null)){t.cancelPendingCommit=K(ap.bind(null,t,n,f,r,l,c,y,E,R,Q,1,B,k)),er(t,f,y,!P);return}ap(t,n,f,r,l,c,y,E,R)}function Q0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(t,n,r,l){n&=~Lh,n&=~es,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function cu(){return(Ht&6)===0?(bl(0),!1):!0}function Hh(){if(Nt!==null){if(Gt===0)var t=Nt.return;else t=Nt,vi=Xr=null,ah(t),Hs=null,fl=0,t=Nt;for(;t!==null;)Ig(t.alternate,t),t=t.return;Nt=null}}function $s(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,uE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Hh(),$t=t,Nt=r=pi(t.current,null),jt=n,Gt=0,un=null,$i=!1,Ys=wr(t,n),Uh=!1,Ks=An=Lh=es=Ji=le=0,We=El=null,zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Io(),r}function tp(t,n){xt=null,H.H=$o,n===il||n===ko?(n=ym(),Gt=3):n===mm?(n=ym(),Gt=4):Gt=n===_g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Nt===null&&(le=1,nu(t,_n(n,t.current)))}function ep(){var t=H.H;return H.H=$o,t===null?$o:t}function np(){var t=H.A;return H.A=H0,t}function Gh(){le=4,$i||(jt&4194048)!==jt&&bn.current!==null||(Ys=!0),(Ji&134217727)===0&&(es&134217727)===0||$t===null||er($t,jt,An,!1)}function Qh(t,n,r){var l=Ht;Ht|=2;var c=ep(),f=np();($t!==t||jt!==n)&&(uu=null,$s(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Nt!==null){var E=Nt,R=un;switch(Gt){case 8:Hh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Gt;if(Gt=0,un=null,Js(t,E,R,P),r&&Ys){y=0;break t}break;default:P=Gt,Gt=0,un=null,Js(t,E,R,P)}}F0(),y=le;break}catch(Q){tp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,vi=Xr=null,Ht=l,H.H=c,H.A=f,Nt===null&&($t=null,jt=0,Io()),y}function F0(){for(;Nt!==null;)ip(Nt)}function Y0(t,n){var r=Ht;Ht|=2;var l=ep(),c=np();$t!==t||jt!==n?(uu=null,ou=fn()+500,$s(t,n)):Ys=wr(t,n);t:do try{if(Gt!==0&&Nt!==null){n=Nt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,Js(t,n,f,1);break;case 2:case 9:if(gm(f)){Gt=0,un=null,rp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),$n(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:gm(f)?(Gt=0,un=null,rp(n)):(Gt=0,un=null,Js(t,n,f,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var E=Nt;if(!y||Pp(y)){Gt=0,un=null;var R=E.sibling;if(R!==null)Nt=R;else{var P=E.return;P!==null?(Nt=P,hu(P)):Nt=null}break e}}Gt=0,un=null,Js(t,n,f,5);break;case 6:Gt=0,un=null,Js(t,n,f,6);break;case 8:Hh(),le=6;break t;default:throw Error(a(462))}}K0();break}catch(Q){tp(t,Q)}while(!0);return vi=Xr=null,H.H=l,H.A=c,Ht=r,Nt!==null?0:($t=null,jt=0,Io(),le)}function K0(){for(;Nt!==null&&!Ra();)ip(Nt)}function ip(t){var n=Dg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?hu(t):Nt=n}function rp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Sg(r,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=Sg(r,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:ah(n);default:Ig(r,n),n=Nt=sm(n,wi),n=Dg(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?hu(t):Nt=n}function Js(t,n,r,l){vi=Xr=null,ah(n),Hs=null,fl=0;var c=n.return;try{if(L0(t,c,n,r,jt)){le=1,nu(t,_n(r,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;le=1,nu(t,_n(r,t.current)),Nt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ys||(jt&536870912)!==0?t=!1:($i=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sp(n,t)):hu(n)}function hu(t){var n=t;do{if((n.flags&32768)!==0){sp(n,$i);return}t=n.return;var r=P0(n.alternate,n,wi);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);le===0&&(le=5)}function sp(t,n){do{var r=B0(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);le=6,Nt=null}function ap(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do fu();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jc,Ia(t,r,f,y,E,R),t===$t&&(Nt=$t=null,jt=0),Xs=n,tr=t,Zs=r,Bh=f,kh=c,Zg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,J0(Ar,function(){return hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=it.p,it.p=2,y=Ht,Ht|=4;try{k0(t,n,r)}finally{Ht=y,it.p=c,H.T=l}}Ue=1,lp(),op(),up()}}function lp(){if(Ue===1){Ue=0;var t=tr,n=Xs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{Hg(n,t);var f=rf,y=Xd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Kd(E.ownerDocument.documentElement,E)){if(R!==null&&Dc(E)){var P=R.start,Q=R.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,mt=Math.min(R.start,yt),Kt=R.end===void 0?mt:Math.min(R.end,yt);!k.extend&&mt>Kt&&(y=Kt,Kt=mt,mt=y);var U=Yd(E,mt),O=Yd(E,Kt);if(U&&O&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==O.node||k.focusOffset!==O.offset)){var z=K.createRange();z.setStart(U.node,U.offset),k.removeAllRanges(),mt>Kt?(k.addRange(z),k.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),k.addRange(z))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Su=!!nf,rf=nf=null}finally{Ht=c,it.p=l,H.T=r}}t.current=n,Ue=2}}function op(){if(Ue===2){Ue=0;var t=tr,n=Xs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=it.p;it.p=2;var c=Ht;Ht|=4;try{Pg(t,n.alternate,n)}finally{Ht=c,it.p=l,H.T=r}}Ue=3}}function up(){if(Ue===4||Ue===3){Ue=0,ao();var t=tr,n=Xs,r=Zs,l=Zg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Xs=tr=null,cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Wi=null),gs(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=it.p,it.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,it.p=c}}(Zs&3)!==0&&fu(),$n(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===qh?Tl++:(Tl=0,qh=t):Tl=0,bl(0)}}function cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function fu(t){return lp(),op(),up(),hp()}function hp(){if(Ue!==5)return!1;var t=tr,n=Bh;Bh=0;var r=gs(Zs),l=H.T,c=it.p;try{it.p=32>r?32:r,H.T=null,r=kh,kh=null;var f=tr,y=Zs;if(Ue=0,Xs=tr=null,Zs=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Kg(f.current),Qg(f,f.current,y,r),Ht=E,bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{it.p=c,H.T=l,cp(t,n)}}function fp(t,n,r){n=_n(r,n),n=Eh(t.stateNode,n,2),t=Gi(t,n,2),t!==null&&(si(t,2),$n(t))}function Xt(t,n,r){if(t.tag===3)fp(t,t,r);else for(;n!==null;){if(n.tag===3){fp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wi===null||!Wi.has(l))){t=_n(r,t),r=pg(2),l=Gi(n,r,2),l!==null&&(yg(r,l,n,t),si(l,2),$n(l));break}}n=n.return}}function Fh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new G0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Uh=!0,c.add(r),t=X0.bind(null,t,n,r),n.then(t,t))}function X0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(jt&r)===r&&(le===4||le===3&&(jt&62914560)===jt&&300>fn()-Ph?(Ht&2)===0&&$s(t,0):Lh|=r,Ks===jt&&(Ks=0)),$n(t)}function dp(t,n){n===0&&(n=Va()),t=Os(t,n),t!==null&&(si(t,n),$n(t))}function Z0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),dp(t,r)}function $0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),dp(t,r)}function J0(t,n){return Tr(t,n)}var du=null,Ws=null,Yh=!1,mu=!1,Kh=!1,ns=0;function $n(t){t!==Ws&&t.next===null&&(Ws===null?du=Ws=t:Ws=Ws.next=t),mu=!0,Yh||(Yh=!0,tE())}function bl(t,n){if(!Kh&&mu){Kh=!0;do for(var r=!1,l=du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,yp(l,f))}else f=jt,f=ms(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||wr(l,f)||(r=!0,yp(l,f));l=l.next}while(r);Kh=!1}}function W0(){mp()}function mp(){mu=Yh=!1;var t=0;ns!==0&&(oE()&&(t=ns),ns=0);for(var n=fn(),r=null,l=du;l!==null;){var c=l.next,f=gp(l,n);f===0?(l.next=null,r===null?du=c:r.next=c,c===null&&(Ws=r)):(r=l,(t!==0||(f&3)!==0)&&(mu=!0)),l=c}bl(t)}function gp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Na(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=jt,r=ms(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&br(l),gs(r)){case 2:case 8:r=fs;break;case 32:r=Ar;break;case 268435456:r=ds;break;default:r=Ar}return l=pp.bind(null,t),r=Tr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function pp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fu()&&t.callbackNode!==r)return null;var l=jt;return l=ms(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Jg(t,l,n),gp(t,fn()),t.callbackNode!=null&&t.callbackNode===r?pp.bind(null,t):null)}function yp(t,n){if(fu())return null;Jg(t,n,!0)}function tE(){cE(function(){(Ht&6)!==0?Tr(wa,W0):mp()})}function Xh(){return ns===0&&(ns=Da()),ns}function _p(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ts(""+t)}function vp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function eE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=_p((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?_p(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new bs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ns!==0){var R=y?vp(c,y):new FormData(c);gh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?vp(c,y):new FormData(c),gh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Zh=0;Zh<Mc.length;Zh++){var $h=Mc[Zh],nE=$h.toLowerCase(),iE=$h[0].toUpperCase()+$h.slice(1);Nn(nE,"on"+iE)}Nn(Jd,"onAnimationEnd"),Nn(Wd,"onAnimationIteration"),Nn(tm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(E0,"onTransitionRun"),Nn(T0,"onTransitionStart"),Nn(b0,"onTransitionCancel"),Nn(em,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Ep(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){eu(Q)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){eu(Q)}c.currentTarget=null,f=R}}}}function Dt(t,n){var r=n[Ma];r===void 0&&(r=n[Ma]=new Set);var l=t+"__bubble";r.has(l)||(Tp(n,t,2,!1),r.add(l))}function Jh(t,n,r){var l=0;n&&(l|=4),Tp(r,t,l,n)}var gu="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[gu]){t[gu]=!0,ja.forEach(function(r){r!=="selectionchange"&&(rE.has(r)||Jh(r,!1,t),Jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gu]||(n[gu]=!0,Jh("selectionchange",!1,n))}}function Tp(t,n,r,l){switch(Qp(n)){case 2:var c=VE;break;case 8:c=IE;break;default:c=mf}r=c.bind(null,n,r,t),c=void 0,!pn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}yo(function(){var P=f,Q=gn(r),K=[];t:{var B=nm.get(t);if(B!==void 0){var k=bs,yt=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":k=Cs;break;case"focusin":yt="focus",k=xs;break;case"focusout":yt="blur",k=xs;break;case"beforeblur":case"afterblur":k=xs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=xo;break;case Jd:case Wd:case tm:k=Rs;break;case em:k=wo;break;case"scroll":case"scrollend":k=_o;break;case"wheel":k=Ns;break;case"copy":case"cut":case"paste":k=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ya;break;case"toggle":case"beforetoggle":k=No}var mt=(n&4)!==0,Kt=!mt&&(t==="scroll"||t==="scrollend"),U=mt?B!==null?B+"Capture":null:B;mt=[];for(var O=P,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||U===null||(Y=jr(O,U),Y!=null&&mt.push(Sl(O,Y,z))),Kt)break;O=O.return}0<mt.length&&(B=new k(B,yt,null,r,Q),K.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==ci&&(yt=r.relatedTarget||r.fromElement)&&(ai(yt)||yt[dn]))break t;if((k||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=r.relatedTarget||r.toElement,k=P,yt=yt?ai(yt):null,yt!==null&&(Kt=h(yt),mt=yt.tag,yt!==Kt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(mt=yn,Y="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Ya,Y="onPointerLeave",U="onPointerEnter",O="pointer"),Kt=k==null?B:zn(k),z=yt==null?B:zn(yt),B=new mt(Y,O+"leave",k,r,Q),B.target=Kt,B.relatedTarget=z,Y=null,ai(Q)===P&&(mt=new mt(U,O+"enter",yt,r,Q),mt.target=z,mt.relatedTarget=Kt,Y=mt),Kt=Y,k&&yt)e:{for(mt=k,U=yt,O=0,z=mt;z;z=ta(z))O++;for(z=0,Y=U;Y;Y=ta(Y))z++;for(;0<O-z;)mt=ta(mt),O--;for(;0<z-O;)U=ta(U),z--;for(;O--;){if(mt===U||U!==null&&mt===U.alternate)break e;mt=ta(mt),U=ta(U)}mt=null}else mt=null;k!==null&&bp(K,B,k,mt,!1),yt!==null&&Kt!==null&&bp(K,Kt,yt,mt,!0)}}t:{if(B=P?zn(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var ut=kd;else if(Te(B))if(qd)ut=y0;else{ut=g0;var Ct=m0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ba(P.elementType)&&(ut=kd):ut=p0;if(ut&&(ut=ut(t,P))){gi(K,ut,r,Q);break t}Ct&&Ct(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Pi(B,"number",B.value)}switch(Ct=P?zn(P):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(Ds=Ct,Vc=P,Za=null);break;case"focusout":Za=Vc=Ds=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Zd(K,r,Q);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":Zd(K,r,Q)}var ht;if(Qn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ot?q(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(Ot||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ot&&(ht=qa()):(kn=Q,Bi="value"in kn?kn.value:kn.textContent,Ot=!0)),Ct=pu(P,gt),0<Ct.length&&(gt=new Qa(gt,t,null,r,Q),K.push({event:gt,listeners:Ct}),ht?gt.data=ht:(ht=nt(r),ht!==null&&(gt.data=ht)))),(ht=m?Ee(t,r):Mt(t,r))&&(gt=pu(P,"onBeforeInput"),0<gt.length&&(Ct=new Qa("onBeforeInput","beforeinput",null,r,Q),K.push({event:Ct,listeners:gt}),Ct.data=ht)),eE(K,t,P,r,Q)}Ep(K,n)})}function Sl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(t,r),c!=null&&l.unshift(Sl(t,c,f)),c=jr(t,n),c!=null&&l.push(Sl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=jr(r,f),P!=null&&y.unshift(Sl(r,P,R))):c||(P=jr(r,f),P!=null&&y.push(Sl(r,P,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var sE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(sE,`
`).replace(aE,"")}function Sp(t,n){return n=Ap(n),Ap(t)===n}function yu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Pa(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ts(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ts(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=yu);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ts(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Sc.get(r)||r,zi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":Pa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ps.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":R=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Yt(t,n,l,Q,r,null)}}Ir(t,f,E,R,P,y,c,!1),Es(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):r!=null&&ui(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Or(t,l,c,f),Es(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Dt(Al[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Ba(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&ef(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function lE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,Q=null;for(k in r){var K=r[k];if(r.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=r[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":Q=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==K&&Yt(t,n,B,k,l,K)}}rn(t,y,E,R,P,Q,f,c);return;case"select":k=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,r=y,l=k,B!=null?ui(t,!!r,B,!1):!!l!=!!r&&(n!=null?ui(t,!!r,n,!0):ui(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var yt in r)if(B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Yt(t,n,yt,null,l,B)}for(R in l)if(B=l[R],k=r[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Yt(t,n,mt,null,l,B);for(P in l)if(B=l[P],k=r[P],l.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,P,B,l,k)}return;default:if(Ba(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&ef(t,n,Kt,void 0,l,B);for(Q in l)B=l[Q],k=r[Q],!l.hasOwnProperty(Q)||B===k||B===void 0&&k===void 0||ef(t,n,Q,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,B);for(K in l)B=l[K],k=r[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Yt(t,n,K,B,l,k)}var nf=null,rf=null;function _u(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function sf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var af=null;function oE(){var t=window.event;return t&&t.type==="popstate"?t===af?!1:(af=t,!0):(af=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,cE=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(t){return Cp.resolve(null).then(t).catch(hE)}:wp;function hE(t){setTimeout(function(){throw t})}function nr(t){return t==="head"}function Np(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&xl(y.documentElement),r&2&&xl(y.body),r&4)for(r=y.head,xl(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Cr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ol(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ol(n)}function lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lf(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function fE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function dE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Vn(t.nextSibling),t===null))return null;return t}function of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function Dp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Vp(t,n,r){switch(n=_u(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Li(t)}var Sn=new Map,Ip=new Set;function vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=it.d;it.d={f:gE,r:pE,D:yE,C:_E,L:vE,m:EE,X:bE,S:TE,M:AE};function gE(){var t=Ci.f(),n=cu();return t||n}function pE(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Jm(n):Ci.r(t)}var ea=typeof document>"u"?null:document;function Op(t,n,r){var l=ea;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Ip.has(c)||(Ip.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function yE(t){Ci.D(t),Op("dns-prefetch",t,null)}function _E(t,n){Ci.C(t,n),Op("preconnect",t,n)}function vE(t,n,r){Ci.L(t,n,r);var l=ea;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=na(t);break;case"script":f=ia(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Rl(f))||n==="script"&&l.querySelector(wl(f))||(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function EE(t,n){Ci.m(t,n);var r=ea;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ia(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}l=r.createElement("link"),Le(l,"link",t),oe(l),r.head.appendChild(l)}}}function TE(t,n,r){Ci.S(t,n,r);var l=ea;if(l&&t){var c=Ye(l).hoistableStyles,f=na(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Rl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Sn.get(f))&&cf(t,r);var R=y=l.createElement("link");oe(R),Le(R,"link",t),R._p=new Promise(function(P,Q){R.onload=P,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Eu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function bE(t,n){Ci.X(t,n);var r=ea;if(r&&t){var l=Ye(r).hoistableScripts,c=ia(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&hf(t,n),f=r.createElement("script"),oe(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function AE(t,n){Ci.M(t,n);var r=ea;if(r&&t){var l=Ye(r).hoistableScripts,c=ia(t),f=l.get(c);f||(f=r.querySelector(wl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&hf(t,n),f=r.createElement("script"),oe(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Mp(t,n,r,l){var c=(c=vt.current)?vu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=na(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=na(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Rl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Sn.set(t,r),f||SE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ia(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function na(t){return'href="'+de(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function jp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function SE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),oe(n),t.head.appendChild(n))}function ia(t){return'[src="'+de(t)+'"]'}function wl(t){return"script[async]"+t}function Up(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Le(l,"style",c),Eu(l,r.precedence,t),n.instance=l;case"stylesheet":c=na(r.href);var f=t.querySelector(Rl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=jp(r),(c=Sn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Le(f,"link",l),n.state.loading|=4,Eu(f,r.precedence,t),n.instance=f;case"script":return f=ia(r.src),(c=t.querySelector(wl(f)))?(n.instance=c,oe(c),c):(l=r,(c=Sn.get(f))&&(l=A({},r),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Eu(l,r.precedence,t));return n.instance}function Eu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Tu=null;function Lp(t,n,r){if(Tu===null){var l=new Map,c=Tu=new Map;c.set(r,l)}else c=Tu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Cr]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function zp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function xE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Pp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function RE(){}function wE(t,n,r){if(Cl===null)throw Error(a(475));var l=Cl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=na(r.href),f=t.querySelector(Rl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=jp(r),(c=Sn.get(c))&&cf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=bu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function CE(){if(Cl===null)throw Error(a(475));var t=Cl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function bu(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,n.forEach(NE,t),Au=null,bu.call(t))}function NE(t,n){if(!(n.state.loading&4)){var r=Au.get(t);if(r)var l=r.get(null);else{r=new Map,Au.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=bu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function DE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Bp(t,n,r,l,c,f,y,E,R,P,Q,K){return t=new DE(t,n,r,y,E,R,P,K),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),t}function kp(t){return t?(t=Ms,t):Ms}function qp(t,n,r,l,c,f){c=kp(c),l.context===null?l.context=c:l.pendingContext=c,l=Hi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Gi(t,l,n),r!==null&&(hn(r,t,n),sl(r,t,n))}function Hp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function df(t,n){Hp(t,n),(t=t.alternate)&&Hp(t,n)}function Gp(t){if(t.tag===13){var n=Os(t,67108864);n!==null&&hn(n,t,67108864),df(t,67108864)}}var Su=!0;function VE(t,n,r,l){var c=H.T;H.T=null;var f=it.p;try{it.p=2,mf(t,n,r,l)}finally{it.p=f,H.T=c}}function IE(t,n,r,l){var c=H.T;H.T=null;var f=it.p;try{it.p=8,mf(t,n,r,l)}finally{it.p=f,H.T=c}}function mf(t,n,r,l){if(Su){var c=gf(l);if(c===null)tf(t,n,l,xu,r),Fp(t,l);else if(ME(c,t,n,r,l))l.stopPropagation();else if(Fp(t,l),n&4&&-1<OE.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Rn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ke(y);E.entanglements[1]|=R,y&=~R}$n(f),(Ht&6)===0&&(ou=fn()+500,bl(0))}}break;case 13:E=Os(f,2),E!==null&&hn(E,f,2),cu(),df(f,2)}if(f=gf(l),f===null&&tf(t,n,l,xu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function gf(t){return t=gn(t),pf(t)}var xu=null;function pf(t){if(xu=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function Qp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_c()){case wa:return 2;case fs:return 8;case Ar:case vc:return 32;case ds:return 268435456;default:return 32}default:return 32}}var yf=!1,ir=null,rr=null,sr=null,Dl=new Map,Vl=new Map,ar=[],OE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(t,n){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&Gp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function ME(t,n,r,l,c){switch(n){case"focusin":return ir=Il(ir,t,n,r,l,c),!0;case"dragenter":return rr=Il(rr,t,n,r,l,c),!0;case"mouseover":return sr=Il(sr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Il(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function Yp(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,uo(t.priority,function(){if(r.tag===13){var l=cn();l=Mi(l);var c=Os(r,l);c!==null&&hn(c,r,l),df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ci=l,r.target.dispatchEvent(l),ci=null}else return n=Ln(r),n!==null&&Gp(n),t.blockedOn=r,!1;n.shift()}return!0}function Kp(t,n,r){Ru(t)&&r.delete(n)}function jE(){yf=!1,ir!==null&&Ru(ir)&&(ir=null),rr!==null&&Ru(rr)&&(rr=null),sr!==null&&Ru(sr)&&(sr=null),Dl.forEach(Kp),Vl.forEach(Kp)}function wu(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jE)))}var Cu=null;function Xp(t){Cu!==t&&(Cu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,gh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ol(t){function n(R){return wu(R,t)}ir!==null&&wu(ir,t),rr!==null&&wu(rr,t),sr!==null&&wu(sr,t),Dl.forEach(n),Vl.forEach(n);for(var r=0;r<ar.length;r++){var l=ar[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)Yp(r),r.blockedOn===null&&ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||Xp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(pf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Xp(r)}}}function _f(t){this._internalRoot=t}Nu.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();qp(r,l,t,n,null,null)},Nu.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;qp(t.current,2,null,t,null,null),cu(),n[dn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ji();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,t),r===0&&Yp(t)}};var Zp=e.version;if(Zp!=="19.1.0")throw Error(a(527,Zp,"19.1.0"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var UE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{se=Du.inject(UE),qt=Du}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=fg,f=dg,y=mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Bp(t,1,!1,null,null,r,l,c,f,y,E,null),t[dn]=n.current,Wh(t),new _f(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=fg,y=dg,E=mg,R=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Bp(t,1,!0,n,r??null,l,c,f,y,E,R,P),n.context=kp(null),r=n.current,l=cn(),l=Mi(l),c=Hi(l),c.callback=null,Gi(r,c,l),r=l,n.current.lanes=r,si(n,r),$n(n),t[dn]=n.current,Wh(t),new Nu(n)},jl.version="19.1.0",jl}var ay;function FE(){if(ay)return Tf.exports;ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tf.exports=QE(),Tf.exports}var YE=FE();const KE=()=>{};var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},XE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},b_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let I=(g&15)<<2|v>>6,G=v&63;_||(G=64,d||(I=64)),a.push(i[A],i[N],i[I],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(T_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):XE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||N==null)throw new ZE;const I=h<<2|g>>4;if(a.push(I),v!==64){const G=g<<4&240|v>>2;if(a.push(G),N!==64){const tt=v<<6&192|N;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $E=function(s){const e=T_(s);return b_.encodeByteArray(e,!0)},qu=function(s){return $E(s).replace(/\./g,"")},JE=function(s){try{return b_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=()=>WE().__FIREBASE_DEFAULTS__,eT=()=>{if(typeof process>"u"||typeof ly>"u")return;const s=ly.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&JE(s[1]);return e&&JSON.parse(e)},rd=()=>{try{return KE()||tT()||eT()||nT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iT=s=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},rT=s=>{const e=iT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},A_=()=>{var s;return(s=rd())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s){return s.endsWith(".cloudworkstations.dev")}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[qu(JSON.stringify(i)),qu(JSON.stringify(d)),""].join(".")}const Bl={};function oT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?s.emulator.push(e):s.prod.push(e);return s}function uT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let oy=!1;function cT(s,e){if(typeof window>"u"||typeof document>"u"||!sd(window.location.host)||Bl[s]===e||Bl[s]||oy)return;Bl[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=oT().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{oy=!0,d()},I}function A(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function N(){const I=uT(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),rt=i("learnmore"),J=document.getElementById(rt)||document.createElement("a"),bt=i("preprendIcon"),F=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const $=I.element;g($),A(J,rt);const _t=v();_(F,bt),$.append(F,tt,J,_t),document.body.appendChild($)}h?(tt.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){var s;const e=(s=rd())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dT(){return!fT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="FirebaseError";class Ea extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pT,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S_.prototype.create)}}class S_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?yT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ea(o,g,a)}}function yT(s,e){return s.replace(_T,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const _T=/\{\$([^}]+)}/g;function Hu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(uy(h)&&uy(d)){if(!Hu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function uy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(s){return s&&s._delegate?s._delegate:s}class Fl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new sT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ET(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ET(s){return s===is?void 0:s}function TT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const AT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},ST=Lt.INFO,xT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},RT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=xT[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=ST,this._logHandler=RT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const wT=(s,e)=>e.some(i=>s instanceof i);let cy,hy;function CT(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NT(){return hy||(hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R_=new WeakMap,Mf=new WeakMap,w_=new WeakMap,xf=new WeakMap,ad=new WeakMap;function DT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ur(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&R_.set(i,s)}).catch(()=>{}),ad.set(e,s),e}function VT(s){if(Mf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Mf.set(s,e)}let jf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Mf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||w_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function IT(s){jf=s(jf)}function OT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Rf(this),e,...i);return w_.set(a,e.sort?e.sort():[e]),ur(a)}:NT().includes(s)?function(...e){return s.apply(Rf(this),e),ur(R_.get(this))}:function(...e){return ur(s.apply(Rf(this),e))}}function MT(s){return typeof s=="function"?OT(s):(s instanceof IDBTransaction&&VT(s),wT(s,CT())?new Proxy(s,jf):s)}function ur(s){if(s instanceof IDBRequest)return DT(s);if(xf.has(s))return xf.get(s);const e=MT(s);return e!==s&&(xf.set(s,e),ad.set(e,s)),e}const Rf=s=>ad.get(s);function jT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=ur(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ur(d.result),_.oldVersion,_.newVersion,ur(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const UT=["get","getKey","getAll","getAllKeys","count"],LT=["put","add","delete","clear"],wf=new Map;function fy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=LT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return wf.set(e,h),h}IT(s=>({...s,get:(e,i,a)=>fy(e,i)||s.get(e,i,a),has:(e,i)=>!!fy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",dy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new x_("@firebase/app"),BT="@firebase/app-compat",kT="@firebase/analytics-compat",qT="@firebase/analytics",HT="@firebase/app-check-compat",GT="@firebase/app-check",QT="@firebase/auth",FT="@firebase/auth-compat",YT="@firebase/database",KT="@firebase/data-connect",XT="@firebase/database-compat",ZT="@firebase/functions",$T="@firebase/functions-compat",JT="@firebase/installations",WT="@firebase/installations-compat",tb="@firebase/messaging",eb="@firebase/messaging-compat",nb="@firebase/performance",ib="@firebase/performance-compat",rb="@firebase/remote-config",sb="@firebase/remote-config-compat",ab="@firebase/storage",lb="@firebase/storage-compat",ob="@firebase/firestore",ub="@firebase/ai",cb="@firebase/firestore-compat",hb="firebase",fb="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="[DEFAULT]",db={[Uf]:"fire-core",[BT]:"fire-core-compat",[qT]:"fire-analytics",[kT]:"fire-analytics-compat",[GT]:"fire-app-check",[HT]:"fire-app-check-compat",[QT]:"fire-auth",[FT]:"fire-auth-compat",[YT]:"fire-rtdb",[KT]:"fire-data-connect",[XT]:"fire-rtdb-compat",[ZT]:"fire-fn",[$T]:"fire-fn-compat",[JT]:"fire-iid",[WT]:"fire-iid-compat",[tb]:"fire-fcm",[eb]:"fire-fcm-compat",[nb]:"fire-perf",[ib]:"fire-perf-compat",[rb]:"fire-rc",[sb]:"fire-rc-compat",[ab]:"fire-gcs",[lb]:"fire-gcs-compat",[ob]:"fire-fst",[cb]:"fire-fst-compat",[ub]:"fire-vertex","fire-js":"fire-js",[hb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,mb=new Map,zf=new Map;function my(s,e){try{s.container.addComponent(e)}catch(i){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qu(s){const e=s.name;if(zf.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;zf.set(e,s);for(const i of Gu.values())my(i,s);for(const i of mb.values())my(i,s);return!0}function gb(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pb(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new S_("app","Firebase",yb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=fb;function C_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Lf,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=A_()),!i)throw cr.create("no-options");const h=Gu.get(o);if(h){if(Hu(i,h.options)&&Hu(a,h.config))return h;throw cr.create("duplicate-app",{appName:o})}const d=new bT(o);for(const _ of zf.values())d.addComponent(_);const g=new _b(i,a,d);return Gu.set(o,g),g}function Eb(s=Lf){const e=Gu.get(s);if(!e&&s===Lf&&A_())return C_();if(!e)throw cr.create("no-app",{appName:s});return e}function oa(s,e,i){var a;let o=(a=db[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(g.join(" "));return}Qu(new Fl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebase-heartbeat-database",bb=1,Yl="firebase-heartbeat-store";let Cf=null;function N_(){return Cf||(Cf=jT(Tb,bb,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function Ab(s){try{const i=(await N_()).transaction(Yl),a=await i.objectStore(Yl).get(D_(s));return await i.done,a}catch(e){if(e instanceof Ea)Di.warn(e.message);else{const i=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(i.message)}}}async function gy(s,e){try{const a=(await N_()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,D_(s)),await a.done}catch(i){if(i instanceof Ea)Di.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Di.warn(a.message)}}}function D_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=1024,xb=30;class Rb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=py();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>xb){const d=Nb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Di.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=py(),{heartbeatsToSend:a,unsentEntries:o}=wb(this._heartbeatsCache.heartbeats),h=qu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Di.warn(i),""}}}function py(){return new Date().toISOString().substring(0,10)}function wb(s,e=Sb){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),yy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),yy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Cb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ab(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function yy(s){return qu(JSON.stringify({version:2,heartbeats:s})).length}function Nb(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s){Qu(new Fl("platform-logger",e=>new zT(e),"PRIVATE")),Qu(new Fl("heartbeat",e=>new Rb(e),"PRIVATE")),oa(Uf,dy,s),oa(Uf,dy,"esm2017"),oa("fire-js","")}Db("");var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,V_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function C(){}C.prototype=S.prototype,M.D=S.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(j,w,V){for(var x=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)x[_e-2]=arguments[_e];return S.prototype[w].apply(j,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,C){C||(C=0);var j=Array(16);if(typeof S=="string")for(var w=0;16>w;++w)j[w]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(w=0;16>w;++w)j[w]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=M.g[0],C=M.g[1],w=M.g[2];var V=M.g[3],x=S+(V^C&(w^V))+j[0]+3614090360&4294967295;S=C+(x<<7&4294967295|x>>>25),x=V+(w^S&(C^w))+j[1]+3905402710&4294967295,V=S+(x<<12&4294967295|x>>>20),x=w+(C^V&(S^C))+j[2]+606105819&4294967295,w=V+(x<<17&4294967295|x>>>15),x=C+(S^w&(V^S))+j[3]+3250441966&4294967295,C=w+(x<<22&4294967295|x>>>10),x=S+(V^C&(w^V))+j[4]+4118548399&4294967295,S=C+(x<<7&4294967295|x>>>25),x=V+(w^S&(C^w))+j[5]+1200080426&4294967295,V=S+(x<<12&4294967295|x>>>20),x=w+(C^V&(S^C))+j[6]+2821735955&4294967295,w=V+(x<<17&4294967295|x>>>15),x=C+(S^w&(V^S))+j[7]+4249261313&4294967295,C=w+(x<<22&4294967295|x>>>10),x=S+(V^C&(w^V))+j[8]+1770035416&4294967295,S=C+(x<<7&4294967295|x>>>25),x=V+(w^S&(C^w))+j[9]+2336552879&4294967295,V=S+(x<<12&4294967295|x>>>20),x=w+(C^V&(S^C))+j[10]+4294925233&4294967295,w=V+(x<<17&4294967295|x>>>15),x=C+(S^w&(V^S))+j[11]+2304563134&4294967295,C=w+(x<<22&4294967295|x>>>10),x=S+(V^C&(w^V))+j[12]+1804603682&4294967295,S=C+(x<<7&4294967295|x>>>25),x=V+(w^S&(C^w))+j[13]+4254626195&4294967295,V=S+(x<<12&4294967295|x>>>20),x=w+(C^V&(S^C))+j[14]+2792965006&4294967295,w=V+(x<<17&4294967295|x>>>15),x=C+(S^w&(V^S))+j[15]+1236535329&4294967295,C=w+(x<<22&4294967295|x>>>10),x=S+(w^V&(C^w))+j[1]+4129170786&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^w&(S^C))+j[6]+3225465664&4294967295,V=S+(x<<9&4294967295|x>>>23),x=w+(S^C&(V^S))+j[11]+643717713&4294967295,w=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(w^V))+j[0]+3921069994&4294967295,C=w+(x<<20&4294967295|x>>>12),x=S+(w^V&(C^w))+j[5]+3593408605&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^w&(S^C))+j[10]+38016083&4294967295,V=S+(x<<9&4294967295|x>>>23),x=w+(S^C&(V^S))+j[15]+3634488961&4294967295,w=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(w^V))+j[4]+3889429448&4294967295,C=w+(x<<20&4294967295|x>>>12),x=S+(w^V&(C^w))+j[9]+568446438&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^w&(S^C))+j[14]+3275163606&4294967295,V=S+(x<<9&4294967295|x>>>23),x=w+(S^C&(V^S))+j[3]+4107603335&4294967295,w=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(w^V))+j[8]+1163531501&4294967295,C=w+(x<<20&4294967295|x>>>12),x=S+(w^V&(C^w))+j[13]+2850285829&4294967295,S=C+(x<<5&4294967295|x>>>27),x=V+(C^w&(S^C))+j[2]+4243563512&4294967295,V=S+(x<<9&4294967295|x>>>23),x=w+(S^C&(V^S))+j[7]+1735328473&4294967295,w=V+(x<<14&4294967295|x>>>18),x=C+(V^S&(w^V))+j[12]+2368359562&4294967295,C=w+(x<<20&4294967295|x>>>12),x=S+(C^w^V)+j[5]+4294588738&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^w)+j[8]+2272392833&4294967295,V=S+(x<<11&4294967295|x>>>21),x=w+(V^S^C)+j[11]+1839030562&4294967295,w=V+(x<<16&4294967295|x>>>16),x=C+(w^V^S)+j[14]+4259657740&4294967295,C=w+(x<<23&4294967295|x>>>9),x=S+(C^w^V)+j[1]+2763975236&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^w)+j[4]+1272893353&4294967295,V=S+(x<<11&4294967295|x>>>21),x=w+(V^S^C)+j[7]+4139469664&4294967295,w=V+(x<<16&4294967295|x>>>16),x=C+(w^V^S)+j[10]+3200236656&4294967295,C=w+(x<<23&4294967295|x>>>9),x=S+(C^w^V)+j[13]+681279174&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^w)+j[0]+3936430074&4294967295,V=S+(x<<11&4294967295|x>>>21),x=w+(V^S^C)+j[3]+3572445317&4294967295,w=V+(x<<16&4294967295|x>>>16),x=C+(w^V^S)+j[6]+76029189&4294967295,C=w+(x<<23&4294967295|x>>>9),x=S+(C^w^V)+j[9]+3654602809&4294967295,S=C+(x<<4&4294967295|x>>>28),x=V+(S^C^w)+j[12]+3873151461&4294967295,V=S+(x<<11&4294967295|x>>>21),x=w+(V^S^C)+j[15]+530742520&4294967295,w=V+(x<<16&4294967295|x>>>16),x=C+(w^V^S)+j[2]+3299628645&4294967295,C=w+(x<<23&4294967295|x>>>9),x=S+(w^(C|~V))+j[0]+4096336452&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~w))+j[7]+1126891415&4294967295,V=S+(x<<10&4294967295|x>>>22),x=w+(S^(V|~C))+j[14]+2878612391&4294967295,w=V+(x<<15&4294967295|x>>>17),x=C+(V^(w|~S))+j[5]+4237533241&4294967295,C=w+(x<<21&4294967295|x>>>11),x=S+(w^(C|~V))+j[12]+1700485571&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~w))+j[3]+2399980690&4294967295,V=S+(x<<10&4294967295|x>>>22),x=w+(S^(V|~C))+j[10]+4293915773&4294967295,w=V+(x<<15&4294967295|x>>>17),x=C+(V^(w|~S))+j[1]+2240044497&4294967295,C=w+(x<<21&4294967295|x>>>11),x=S+(w^(C|~V))+j[8]+1873313359&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~w))+j[15]+4264355552&4294967295,V=S+(x<<10&4294967295|x>>>22),x=w+(S^(V|~C))+j[6]+2734768916&4294967295,w=V+(x<<15&4294967295|x>>>17),x=C+(V^(w|~S))+j[13]+1309151649&4294967295,C=w+(x<<21&4294967295|x>>>11),x=S+(w^(C|~V))+j[4]+4149444226&4294967295,S=C+(x<<6&4294967295|x>>>26),x=V+(C^(S|~w))+j[11]+3174756917&4294967295,V=S+(x<<10&4294967295|x>>>22),x=w+(S^(V|~C))+j[2]+718787259&4294967295,w=V+(x<<15&4294967295|x>>>17),x=C+(V^(w|~S))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(w+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+w&4294967295,M.g[3]=M.g[3]+V&4294967295}a.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var C=S-this.blockSize,j=this.B,w=this.h,V=0;V<S;){if(w==0)for(;V<=C;)o(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<S;)if(j[w++]=M.charCodeAt(V++),w==this.blockSize){o(this,j),w=0;break}}else for(;V<S;)if(j[w++]=M[V++],w==this.blockSize){o(this,j),w=0;break}}this.h=w,this.o+=S},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var C=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=C&255,C/=256;for(this.u(M),M=Array(16),S=C=0;4>S;++S)for(var j=0;32>j;j+=8)M[C++]=this.g[S]>>>j&255;return M};function h(M,S){var C=g;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=S(M)}function d(M,S){this.h=S;for(var C=[],j=!0,w=M.length-1;0<=w;w--){var V=M[w]|0;j&&V==S||(C[w]=V,j=!1)}this.g=C}var g={};function _(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return J(v(-M));for(var S=[],C=1,j=0;M>=C;j++)S[j]=M/C|0,C*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return J(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(S,8)),j=N,w=0;w<M.length;w+=8){var V=Math.min(8,M.length-w),x=parseInt(M.substring(w,w+V),S);8>V?(V=v(Math.pow(S,V)),j=j.j(V).add(v(x))):(j=j.j(C),j=j.add(v(x)))}return j}var N=_(0),I=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(rt(this))return-J(this).m();for(var M=0,S=1,C=0;C<this.g.length;C++){var j=this.i(C);M+=(0<=j?j:4294967296+j)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(tt(this))return"0";if(rt(this))return"-"+J(this).toString(M);for(var S=v(Math.pow(M,6)),C=this,j="";;){var w=_t(C,S).g;C=bt(C,w.j(S));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=w,tt(C))return V+j;for(;6>V.length;)V="0"+V;j=V+j}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function tt(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function rt(M){return M.h==-1}s.l=function(M){return M=bt(this,M),rt(M)?-1:tt(M)?0:1};function J(M){for(var S=M.g.length,C=[],j=0;j<S;j++)C[j]=~M.g[j];return new d(C,~M.h).add(I)}s.abs=function(){return rt(this)?J(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0,w=0;w<=S;w++){var V=j+(this.i(w)&65535)+(M.i(w)&65535),x=(V>>>16)+(this.i(w)>>>16)+(M.i(w)>>>16);j=x>>>16,V&=65535,x&=65535,C[w]=x<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function bt(M,S){return M.add(J(S))}s.j=function(M){if(tt(this)||tt(M))return N;if(rt(this))return rt(M)?J(this).j(J(M)):J(J(this).j(M));if(rt(M))return J(this.j(J(M)));if(0>this.l(G)&&0>M.l(G))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,C=[],j=0;j<2*S;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(var w=0;w<M.g.length;w++){var V=this.i(j)>>>16,x=this.i(j)&65535,_e=M.i(w)>>>16,ne=M.i(w)&65535;C[2*j+2*w]+=x*ne,F(C,2*j+2*w),C[2*j+2*w+1]+=V*ne,F(C,2*j+2*w+1),C[2*j+2*w+1]+=x*_e,F(C,2*j+2*w+1),C[2*j+2*w+2]+=V*_e,F(C,2*j+2*w+2)}for(j=0;j<S;j++)C[j]=C[2*j+1]<<16|C[2*j];for(j=S;j<2*S;j++)C[j]=0;return new d(C,0)};function F(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function $(M,S){this.g=M,this.h=S}function _t(M,S){if(tt(S))throw Error("division by zero");if(tt(M))return new $(N,N);if(rt(M))return S=_t(J(M),S),new $(J(S.g),J(S.h));if(rt(S))return S=_t(M,J(S)),new $(J(S.g),S.h);if(30<M.g.length){if(rt(M)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,j=S;0>=j.l(M);)C=at(C),j=at(j);var w=At(C,1),V=At(j,1);for(j=At(j,2),C=At(C,2);!tt(j);){var x=V.add(j);0>=x.l(M)&&(w=w.add(C),V=x),j=At(j,1),C=At(C,1)}return S=bt(M,w.j(S)),new $(w,S)}for(w=N;0<=M.l(S);){for(C=Math.max(1,Math.floor(M.m()/S.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),V=v(C),x=V.j(S);rt(x)||0<x.l(M);)C-=j,V=v(C),x=V.j(S);tt(V)&&(V=I),w=w.add(V),M=bt(M,x)}return new $(w,M)}s.A=function(M){return _t(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)&M.i(j);return new d(C,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)|M.i(j);return new d(C,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),C=[],j=0;j<S;j++)C[j]=this.i(j)^M.i(j);return new d(C,this.h^M.h)};function at(M){for(var S=M.g.length+1,C=[],j=0;j<S;j++)C[j]=M.i(j)<<1|M.i(j-1)>>>31;return new d(C,M.h)}function At(M,S){var C=S>>5;S%=32;for(var j=M.g.length-C,w=[],V=0;V<j;V++)w[V]=0<S?M.i(V+C)>>>S|M.i(V+C+1)<<32-S:M.i(V+C);return new d(w,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,V_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,hr=d}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,Ul,O_,Uu,Pf,M_,j_,U_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in p))break t;p=p[L]}u=u[u.length-1],b=p[u],m=m(b),m!=b&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,b=!1,L={next:function(){if(!b&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function I(u,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,I.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function tt(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(b,L,q){for(var nt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)nt[Ot-2]=arguments[Ot];return m.prototype[L].apply(b,nt)}}function rt(u){const m=u.length;if(0<m){const p=Array(m);for(let b=0;b<m;b++)p[b]=u[b];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const b=arguments[p];if(_(b)){const L=u.length||0,q=b.length||0;u.length=L+q;for(let nt=0;nt<q;nt++)u[L+nt]=b[nt]}else u.push(b)}}class bt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){return/^[\s\xa0]*$/.test(u)}function $(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function _t(u){return _t[" "](u),u}_t[" "]=function(){};var at=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function At(u,m,p){for(const b in u)m.call(p,u[b],b,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,m){let p,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(p in b)u[p]=b[p];for(let q=0;q<C.length;q++)p=C[q],Object.prototype.hasOwnProperty.call(b,p)&&(u[p]=b[p])}}function w(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function V(u){g.setTimeout(()=>{throw u},0)}function x(){var u=It;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,p){const b=ne.get();b.set(m,p),this.h?this.h.next=b:this.g=b,this.h=b}}var ne=new bt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ct=!1,It=new _e,D=()=>{const u=g.Promise.resolve(void 0);it=()=>{u.then(W)}};var W=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(p){V(p)}var m=ne;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function wt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(at){t:{try{_t(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}tt(wt,et);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function jn(u,m,p,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!b,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Oi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ii(u){this.src=u,this.g={},this.h=0}ii.prototype.add=function(u,m,p,b,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=Tr(u,m,b,L);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new jn(m,this.src,q,!!b,L),m.fa=p,u.push(m)),m};function Er(u,m){var p=m.type;if(p in u.g){var b=u.g[p],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(b,L,1),q&&(Oi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Tr(u,m,p,b){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==b)return L}return-1}var br="closure_lm_"+(1e6*Math.random()|0),Ra={};function ao(u,m,p,b,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ao(u,m[q],p,b,L);return null}return p=lo(p),u&&u[Re]?u.K(m,p,v(b)?!!b.capture:!1,L):fn(u,m,p,!1,b,L)}function fn(u,m,p,b,L,q){if(!m)throw Error("Invalid event type");var nt=v(L)?!!L.capture:!!L,Ot=ds(u);if(Ot||(u[br]=Ot=new ii(u)),p=Ot.add(m,p,b,nt,q),p.proxy)return p;if(b=_c(),p.proxy=b,b.src=u,b.listener=p,u.addEventListener)dt||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(Ar(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _c(){function u(p){return m.call(u.src,u.listener,p)}const m=vc;return u}function wa(u,m,p,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)wa(u,m[q],p,b,L);else b=v(b)?!!b.capture:!!b,p=lo(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Tr(q,p,b,L),-1<p&&(Oi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=ds(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tr(m,p,b,L)),(p=-1<u?m[u]:null)&&fs(p))}function fs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Er(m.i,u);else{var p=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(p,b,u.capture):m.detachEvent?m.detachEvent(Ar(p),b):m.addListener&&m.removeListener&&m.removeListener(b),(p=ds(m))?(Er(p,u),p.h==0&&(p.src=null,m[br]=null)):Oi(u)}}}function Ar(u){return u in Ra?Ra[u]:Ra[u]="on"+u}function vc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,b=u.ha||u.src;u.fa&&fs(u),u=p.call(b,m)}return u}function ds(u){return u=u[br],u instanceof ii?u:null}var Ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function lo(u){return typeof u=="function"?u:(u[Ca]||(u[Ca]=function(m){return u.handleEvent(m)}),u[Ca])}function se(){st.call(this),this.i=new ii(this),this.M=this,this.F=null}tt(se,st),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,p,b){wa(this,u,m,p,b)};function qt(u,m){var p,b=u.F;if(b)for(p=[];b;b=b.F)p.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(b,u),j(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var nt=m.g=p[q];L=nn(nt,b,!0,m)&&L}if(nt=m.g=u,L=nn(nt,b,!0,m)&&L,L=nn(nt,b,!1,m)&&L,p)for(q=0;q<p.length;q++)nt=m.g=p[q],L=nn(nt,b,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],b=0;b<p.length;b++)Oi(p[b]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,b){return this.i.add(String(u),m,!1,p,b)},se.prototype.L=function(u,m,p,b){return this.i.add(String(u),m,!0,p,b)};function nn(u,m,p,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==p){var Ot=nt.listener,Ee=nt.ha||nt.src;nt.fa&&Er(u.i,nt),L=Ot.call(Ee,b)!==!1&&L}}return L&&!b.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=I(u,p));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function oo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,oo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ec extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(u){st.call(this),this.h=u,this.g={}}tt(Sr,st);var xr=[];function Rr(u){At(u.g,function(m,p){this.g.hasOwnProperty(p)&&fs(m)},u),u.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),Rr(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=g.JSON.stringify,ms=g.JSON.parse,wr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Na(){}Na.prototype.h=null;function Da(u){return u.h||(u.h=u.i())}function Va(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){et.call(this,"d")}tt(si,et);function Ia(){et.call(this,"c")}tt(Ia,et);var Un={},Oa=null;function Mi(){return Oa=Oa||new se}Un.La="serverreachability";function gs(u){et.call(this,Un.La,u)}tt(gs,et);function ji(u){const m=Mi();qt(m,new gs(m))}Un.STAT_EVENT="statevent";function uo(u,m){et.call(this,Un.STAT_EVENT,u),this.stat=m}tt(uo,et);function te(u){const m=Mi();qt(m,new uo(m,u))}Un.Ma="timingevent";function ve(u,m){et.call(this,Un.Ma,u),this.size=m}tt(ve,et);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function Ma(u,m,p,b,L,q){u.info(function(){if(u.g)if(q)for(var nt="",Ot=q.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var Te=Ce.split("_");nt=2<=Te.length&&Te[1]=="type"?nt+(Ce+"="+Mt+"&"):nt+(Ce+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+p+`
`+nt})}function Tc(u,m,p,b,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+nt})}function Ui(u,m,p,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cr(u,p)+(b?" "+b:"")})}function co(u,m){u.info(function(){return"TIMEOUT: "+m})}dn.prototype.info=function(){};function Cr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var b=p[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return Rn(p)}catch{return m}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}tt(zn,Na),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(u,m,p,b){this.j=u,this.i=m,this.l=p,this.R=b||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var ja={},ps={};function wn(u,m,p){u.L=1,u.v=Or(rn(m)),u.m=p,u.P=!0,li(u,null)}function li(u,m){u.F=Date.now(),Nr(u),u.A=rn(u.v);var p=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),ka(p.i,"t",b),u.C=0,p=u.j.J,u.h=new oe,u.g=wo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Ec(I(u.Y,u,u.g),u.O)),m=u.U,p=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xr[0]=L.toString()),L=xr);for(var q=0;q<L.length;q++){var nt=ao(p,L[q],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),Ma(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&yn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Te=yn(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||Te!=4||m==7||(m==8||0>=gi?ji(3):ji(2)),zi(this);var p=this.g.Z();this.X=p;e:if(ho(this)){var b=vo(this.g);u="";var L=b.length,q=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Pn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(q&&m==L-1)});b.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Tc(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Ui(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dr(this,p);else{this.o=!1,this.s=3,te(12),Oe(this),Pn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<nt.length;)if(Me=fo(this,nt),Me==ps){Te==4&&(this.s=4,te(14),p=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ja){this.s=4,te(15),Ui(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else Ui(this.i,this.l,Me,null),Dr(this,Me);if(ho(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||nt.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Ui(this.i,this.l,nt,"[Invalid Chunked Response]"),Oe(this),Pn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),kr(Ce),Ce.M=!0,te(11))}}else Ui(this.i,this.l,nt,null),Dr(this,nt);Te==4&&Oe(this),this.o&&!this.J&&(Te==4?So(this.j,this):(this.o=!1,Nr(this)))}else Rc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Oe(this),Pn(this)}}}catch{}finally{}};function ho(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fo(u,m){var p=u.C,b=m.indexOf(`
`,p);return b==-1?ps:(p=Number(m.substring(p,b)),isNaN(p)?ja:(b+=1,b+p>m.length?ps:(m=m.slice(b,b+p),u.C=b+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Nr(u){u.S=Date.now()+u.I,mo(u,u.I)}function mo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(I(u.ba,u),m)}function zi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(co(this.i,this.A),this.L!=2&&(ji(),te(17)),Oe(this),this.s=2,Pn(this)):mo(this,this.S-u)};function Pn(u){u.j.G==0||u.J||So(u.j,u)}function Oe(u){zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Rr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Dr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Ua(p.h,u))){if(!u.K&&Ua(p.h,u)&&p.G==3){try{var b=p.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Cs(p),Rs(p);else break t;Fa(p),te(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(I(p.Za,p),6e3));if(1>=_s(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((u.K||p.g==u)&&Cs(p),!F(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Te=Mt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const gi=Mt[5];gi!=null&&typeof gi=="number"&&0<gi&&(b=1.5*gi,p.L=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Me=u.g;if(Me){const Fn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fn){var q=b.h;q.g||Fn.indexOf("spdy")==-1&&Fn.indexOf("quic")==-1&&Fn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vs(q,q.h),q.h=null))}if(b.D){const Ka=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(b.ya=Ka,Qt(b.I,b.D,Ka))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),b=p;var nt=u;if(b.qa=Ro(b,b.J?b.ia:null,b.W),nt.K){Ke(b.h,nt);var Ot=nt,Ee=b.L;Ee&&(Ot.I=Ee),Ot.B&&(zi(Ot),Nr(Ot)),b.g=nt}else bo(b);0<p.i.length&&ws(p)}else Mt[0]!="stop"&&Mt[0]!="close"||mi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?mi(p,7):Ga(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}ji(4)}catch{}}var go=class{constructor(u,m){this.g=u,this.map=m}};function oi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _s(u){return u.h?1:u.g?u.g.size:0}function Ua(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vs(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}oi.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function La(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return rt(u.i)}function bc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,b=0;b<p;b++)m.push(u[b]);return m}m=[],p=0;for(b in u)m[p++]=u[b];return m}function Es(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const b in u)m[p++]=b;return m}}}function za(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Es(u),b=bc(u),L=b.length,q=0;q<L;q++)m.call(void 0,b[q],p&&p[q],u)}var Vr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var b=u[p].indexOf("="),L=null;if(0<=b){var q=u[p].substring(0,b);L=u[p].substring(b+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Ir(this,u.j),this.o=u.o,this.g=u.g,Pi(this,u.s),this.l=u.l;var m=u.i,p=new ci;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=u.m}else u&&(m=String(u).match(Vr))?(this.h=!1,Ir(this,m[1]||"",!0),this.o=mn(m[2]||""),this.g=mn(m[3]||"",!0),Pi(this,m[4]),this.l=mn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=mn(m[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Mr(m,Pa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,Pa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Mr(p,p.charAt(0)=="/"?Sc:Ba,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Mr(p,Ts)),u.join("")};function rn(u){return new de(u)}function Ir(u,m,p){u.j=p?mn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Pi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ui(u,m,p){m instanceof ci?(u.i=m,yo(u.i,u.h)):(p||(m=Mr(m,xc)),u.i=new ci(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Or(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,po),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function po(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pa=/[#\/\?@]/g,Ba=/[#\?:]/g,Sc=/[#\?]/g,xc=/[#\?@]/g,Ts=/#/g;function ci(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ac(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ci.prototype,s.add=function(u,m){gn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function hi(u,m){gn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function fi(u,m){return gn(u),m=Bn(u,m),u.g.has(m)}s.forEach=function(u,m){gn(this),this.g.forEach(function(p,b){p.forEach(function(L){u.call(m,L,b,this)},this)},this)},s.na=function(){gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let b=0;b<m.length;b++){const L=u[b];for(let q=0;q<L.length;q++)p.push(m[b])}return p},s.V=function(u){gn(this);let m=[];if(typeof u=="string")fi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return gn(this),this.i=null,u=Bn(this,u),fi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ka(u,m,p){hi(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),rt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var b=m[p];const q=encodeURIComponent(String(b)),nt=this.V(b);for(b=0;b<nt.length;b++){var L=q;nt[b]!==""&&(L+="="+encodeURIComponent(String(nt[b]))),u.push(L)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function yo(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(p,b){var L=b.toLowerCase();b!=L&&(hi(this,b),ka(this,L,p))},u)),u.j=m}function jr(u,m){const p=new dn;if(g.Image){const b=new Image;b.onload=G(pn,p,"TestLoadImage: loaded",!0,m,b),b.onerror=G(pn,p,"TestLoadImage: error",!1,m,b),b.onabort=G(pn,p,"TestLoadImage: abort",!1,m,b),b.ontimeout=G(pn,p,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Cn(u,m){const p=new dn,b=new AbortController,L=setTimeout(()=>{b.abort(),pn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?pn(p,"TestPingServer: ok",!0,m):pn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),pn(p,"TestPingServer: error",!1,m)})}function pn(u,m,p,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(p)}catch{}}function Ur(){this.g=new wr}function kn(u,m,p){const b=p||"";try{za(u,function(L,q){let nt=L;v(L)&&(nt=Rn(L)),m.push(b+q+"="+encodeURIComponent(nt))})}catch(L){throw m.push(b+"type="+encodeURIComponent("_badmap")),L}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(Bi,Na),Bi.prototype.g=function(){return new di(this.l,this.j)},Bi.prototype.i=function(u){return function(){return u}}({});function di(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(di,se),s=di.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function qa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?qn(this):Hn(this),this.readyState==3&&qa(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,qn(this))},s.Qa=function(u){this.g&&(this.response=u,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ha(u){let m="";return At(u,function(p,b){m+=b,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=Ha(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(Bt,se);var bs=/^https?$/i,Lr=["POST","PUT"];s=Bt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Da(this.o):Da(Ln),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){_o(this,q);return}if(u=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)p.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())p.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Lr,m,void 0))||b||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of p)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){_o(this,q)}};function _o(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,As(u),Gn(u)}function As(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Gn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ss(this):this.bb())},s.bb=function(){Ss(this)};function Ss(u){if(u.h&&typeof d<"u"&&(!u.v[1]||yn(u)!=4||u.Z()!=2)){if(u.u&&yn(u)==4)ke(u.Ea,0,u);else if(qt(u,"readystatechange"),yn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var b;if(b=nt===0){var L=String(u.D).match(Vr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),b=!bs.test(L?L.toLowerCase():"")}p=b}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<yn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",As(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){zr(u);const p=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=b}catch{}}}function zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function yn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ms(m)}};function vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Rc(u){const m={};u=(u.g&&2<=yn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(F(u[b]))continue;var p=w(u[b]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}M(m,function(b){return b.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function xs(u){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pr("baseRetryDelayMs",5e3,u),this.cb=Pr("retryDelaySeedMs",1e4,u),this.Wa=Pr("forwardChannelMaxRetries",2,u),this.wa=Pr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(u&&u.concurrentRequestLimit),this.Da=new Ur,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=xs.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,b){te(0),this.W=u,this.H=m||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.I=Ro(this,null,this.W),ws(this)};function Ga(u){if(Eo(u),u.G==3){var m=u.U++,p=rn(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Br(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Or(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=wo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Nr(m)}xo(u)}function Rs(u){u.g&&(kr(u),u.g.cancel(),u.g=null)}function Eo(u){Rs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Cs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ws(u){if(!ys(u.h)&&!u.s){u.s=!0;var m=u.Ga;it||D(),ct||(it(),ct=!0),It.add(m,u),u.B=0}}function wc(u,m){return _s(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(I(u.Ga,u,m),Ya(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),j(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=To(this,L,m),p=rn(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Br(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Ha(q)))+"&"+m:this.m&&we(p,this.m,q)),vs(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,wn(L,p,null)):wn(L,p,m),this.G=2}}else this.G==3&&(u?Qa(this,u):this.i.length==0||ys(this.h)||Qa(this))};function Qa(u,m){var p;m?p=m.l:p=u.U++;const b=rn(u.I);Qt(b,"SID",u.K),Qt(b,"RID",p),Qt(b,"AID",u.T),Br(u,b),u.m&&u.o&&we(b,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=To(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),vs(u.h,p),wn(p,b,m)}function Br(u,m){u.H&&At(u.H,function(p,b){Qt(m,b,p)}),u.l&&za({},function(p,b){Qt(m,b,p)})}function To(u,m,p){p=Math.min(u.i.length,p);var b=u.l?I(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const nt=["count="+p];q==-1?0<p?(q=L[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Ot=!0;for(let Ee=0;Ee<p;Ee++){let Mt=L[Ee].g;const Ce=L[Ee].map;if(Mt-=q,0>Mt)q=Math.max(0,L[Ee].g-100),Ot=!1;else try{kn(Ce,nt,"req"+Mt+"_")}catch{b&&b(Ce)}}if(Ot){b=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,b}function bo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;it||D(),ct||(it(),ct=!0),It.add(m,u),u.v=0}}function Fa(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(I(u.Fa,u),Ya(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(I(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Rs(this),Ao(this))};function kr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Br(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Or(rn(m)),p.m=null,p.P=!0,li(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Rs(this),Fa(this),te(19))};function Cs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function So(u,m){var p=null;if(u.g==m){Cs(u),kr(u),u.g=null;var b=2}else if(Ua(u.h,m))p=m.D,Ke(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;b=Mi(),qt(b,new ve(b,p)),ws(u)}else bo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(b==1&&wc(u,m)||b==2&&Fa(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function Ya(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var p=I(u.fb,u),b=u.Xa;const L=!b;b=new de(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ir(b,"https"),Or(b),L?jr(b.toString(),p):Cn(b.toString(),p)}else te(2);u.G=0,u.l&&u.l.sa(m),xo(u),Eo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function xo(u){if(u.G=0,u.ka=[],u.l){const m=La(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Ro(u,m,p){var b=p instanceof de?rn(p):new de(p);if(b.g!="")m&&(b.g=m+"."+b.g),Pi(b,b.s);else{var L=g.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);b&&Ir(q,b),m&&(q.g=m),L&&Pi(q,L),p&&(q.l=p),b=q}return p=u.D,m=u.ya,p&&m&&Qt(b,p,m),Qt(b,"VER",u.la),Br(u,b),b}function wo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Bi({eb:p})):new Bt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}s=Co.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){se.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!F(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!F(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}tt(Xe,se),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Ga(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Rn(u),u=p);m.i.push(new go(m.Ya++,u)),m.G==3&&ws(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,Xe.aa.N.call(this)};function No(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(No,si);function Do(){Ia.call(this),this.status=1}tt(Do,Ia);function Qn(u){this.g=u}tt(Qn,Co),Qn.prototype.ua=function(){qt(this.g,"a")},Qn.prototype.ta=function(u){qt(this.g,new No(u))},Qn.prototype.sa=function(u){qt(this.g,new Do)},Qn.prototype.ra=function(){qt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,U_=function(){return new Ns},j_=function(){return Mi()},M_=Un,Pf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Uu=Li,ai.COMPLETE="complete",O_=ai,Va.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",se.prototype.listen=se.prototype.K,Ul=Va,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,I_=Bt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const vy="@firebase/firestore",Ey="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new x_("@firebase/firestore");function ra(){return ss.logLevel}function lt(s,...e){if(ss.logLevel<=Lt.DEBUG){const i=e.map(ld);ss.debug(`Firestore (${Ta}): ${s}`,...i)}}function Vi(s,...e){if(ss.logLevel<=Lt.ERROR){const i=e.map(ld);ss.error(`Firestore (${Ta}): ${s}`,...i)}}function ha(s,...e){if(ss.logLevel<=Lt.WARN){const i=e.map(ld);ss.warn(`Firestore (${Ta}): ${s}`,...i)}}function ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,L_(s,a,i)}function L_(s,e,i){let a=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Vi(a),new Error(a)}function kt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||L_(e,o,a)}function Tt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ea{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class Ib{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Ob{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ni,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ni)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new z_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class Mb{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jb{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Mb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ub{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ty(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ty(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Lb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Rt(s,e){return s<e?-1:s>e?1:0}function Bf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Rt(a,o);{const h=P_(),d=zb(h.encode(by(s,i)),h.encode(by(e,i)));return d!==0?d:Rt(a,o)}}i+=a>65535?2:1}return Rt(s.length,e.length)}function by(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function zb(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return Rt(s[i],e[i]);return Rt(s.length,e.length)}function fa(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-62135596800,Sy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Sy);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ay)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ay;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Se(0,0))}static max(){return new Et(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="__name__";class Jn{constructor(e,i,a){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&pt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=Jn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const a=Jn.isNumericId(e),o=Jn.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Jn.extractNumericId(e).compare(Jn.extractNumericId(i)):Bf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class Wt extends Jn{construct(e,i,a){return new Wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Pb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Jn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return Pb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xy}static keyField(){return new Pe([xy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function Bb(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new dr(o,ft.empty(),e)}function kb(s){return new dr(s.readTime,s.key,Kl)}class dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(Et.min(),ft.empty(),Kl)}static max(){return new dr(Et.max(),ft.empty(),Kl)}}function qb(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Rt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==Hb)throw s;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,a)=>{i(e)})}static reject(e){return new Z((i,a)=>{a(e)})}static waitFor(e){return new Z((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next(o=>o?Z.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Z((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new Z((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function Qb(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Aa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ic.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function rc(s){return s==null}function Fu(s){return s===0&&1/s==-1/0}function Fb(s){return typeof s=="number"&&Number.isInteger(s)&&!Fu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="";function Yb(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ry(e)),e=Kb(s.get(i),e);return Ry(e)}function Kb(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case k_:i+="";break;default:i+=h}}return i}function Ry(s){return s+k_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ls(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function q_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iu(this.root,e,this.comparator,!0)}}class Iu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new ze(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cy(this.data.getIterator())}getIteratorFrom(e){return new Cy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class Cy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new On([])}unionWith(e){let i=new xe(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new On(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new H_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=Xb.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",Q_="__type__",F_="__previous_value__",Y_="__local_write_time__";function ud(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q_])===null||i===void 0?void 0:i.stringValue)===G_}function sc(s){const e=s.mapValue.fields[F_];return ud(e)?sc(e):e}function Xl(s){const e=mr(s.mapValue.fields[Y_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,i,a,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Yu="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||Yu}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__type__",$b="__max__",Ou={mapValue:{}},X_="__vector__",Ku="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:Wb(s)?9007199254740991:Jb(s)?10:11:pt(28295,{value:s})}function ni(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Xl(s).isEqual(Xl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=mr(o.timestampValue),g=mr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return gr(o.bytesValue).isEqual(gr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?Fu(d)===Fu(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return fa(s.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(wy(d)!==wy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ni(d[_],g[_])))return!1;return!0}(s,e);default:return pt(52216,{left:s})}}function $l(s,e){return(s.values||[]).find(i=>ni(i,e))!==void 0}function da(s,e){if(s===e)return 0;const i=pr(s),a=pr(e);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Ny(s.timestampValue,e.timestampValue);case 4:return Ny(Xl(s),Xl(e));case 5:return Bf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=gr(h),_=gr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(he(h.latitude),he(d.latitude));return g!==0?g:Rt(he(h.longitude),he(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Dy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const N=h.fields||{},I=d.fields||{},G=(g=N[Ku])===null||g===void 0?void 0:g.arrayValue,tt=(_=I[Ku])===null||_===void 0?void 0:_.arrayValue,rt=Rt(((v=G==null?void 0:G.values)===null||v===void 0?void 0:v.length)||0,((A=tt==null?void 0:tt.values)===null||A===void 0?void 0:A.length)||0);return rt!==0?rt:Dy(G,tt)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ou.mapValue&&d===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(d===Ou.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const I=Bf(_[N],A[N]);if(I!==0)return I;const G=da(g[_[N]],v[A[N]]);if(G!==0)return G}return Rt(_.length,A.length)}(s.mapValue,e.mapValue);default:throw pt(23264,{Pe:i})}}function Ny(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Rt(s,e);const i=mr(s),a=mr(e),o=Rt(i.seconds,a.seconds);return o!==0?o:Rt(i.nanos,a.nanos)}function Dy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=da(i[o],a[o]);if(h)return h}return Rt(i.length,a.length)}function ma(s){return kf(s)}function kf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return gr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=kf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${kf(i.fields[d])}`;return o+"}"}(s.mapValue):pt(61005,{value:s})}function Lu(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(s);return e?16+Lu(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Lu(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return ls(a.fields,(h,d)=>{o+=h.length+Lu(d)}),o}(s.mapValue);default:throw pt(13486,{value:s})}}function Vy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qf(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function Iy(s){return!!s&&"nullValue"in s}function Oy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zu(s){return!!s&&"mapValue"in s}function Jb(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[K_])===null||i===void 0?void 0:i.stringValue)===X_}function kl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ls(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=kl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function Wb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!zu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=Pe.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=kl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){ls(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new xn(kl(this.value))}}function Z_(s){const e=[];return ls(s.fields,(i,a)=>{const o=new Pe([i]);if(zu(a)){const h=Z_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,Et.min(),Et.min(),Et.min(),xn.empty(),0)}static newFoundDocument(e,i,a,o){return new Fe(e,1,i,Et.min(),a,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,Et.min(),Et.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,Et.min(),Et.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i){this.position=e,this.inclusive=i}}function My(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=da(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function jy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,i="asc"){this.field=e,this.dir=i}}function t1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{}class ye extends $_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new n1(e,i,a):i==="array-contains"?new s1(e,a):i==="in"?new a1(e,a):i==="not-in"?new l1(e,a):i==="array-contains-any"?new o1(e,a):new ye(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new i1(e,a):new r1(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(da(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(da(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends $_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Mn(e,i)}matches(e){return J_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function J_(s){return s.op==="and"}function W_(s){return e1(s)&&J_(s)}function e1(s){for(const e of s.filters)if(e instanceof Mn)return!1;return!0}function Hf(s){if(s instanceof ye)return s.field.canonicalString()+s.op.toString()+ma(s.value);if(W_(s))return s.filters.map(e=>Hf(e)).join(",");{const e=s.filters.map(i=>Hf(i)).join(",");return`${s.op}(${e})`}}function tv(s,e){return s instanceof ye?function(a,o){return o instanceof ye&&a.op===o.op&&a.field.isEqual(o.field)&&ni(a.value,o.value)}(s,e):s instanceof Mn?function(a,o){return o instanceof Mn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&tv(d,o.filters[g]),!0):!1}(s,e):void pt(19439)}function ev(s){return s instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${ma(i.value)}`}(s):s instanceof Mn?function(i){return i.op.toString()+" {"+i.getFilters().map(ev).join(" ,")+"}"}(s):"Filter"}class n1 extends ye{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class i1 extends ye{constructor(e,i){super(e,"in",i),this.keys=nv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class r1 extends ye{constructor(e,i){super(e,"not-in",i),this.keys=nv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function nv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class s1 extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&$l(i.arrayValue,this.value)}}class a1 extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class l1 extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class o1 extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>$l(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Uy(s,e=null,i=[],a=[],o=null,h=null,d=null){return new u1(s,e,i,a,o,h,d)}function hd(s){const e=Tt(s);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Hf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ma(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ma(a)).join(",")),e.Ie=i}return e.Ie}function fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!t1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!jy(s.startAt,e.startAt)&&jy(s.endAt,e.endAt)}function Gf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c1(s,e,i,a,o,h,d,g){return new Sa(s,e,i,a,o,h,d,g)}function dd(s){return new Sa(s)}function Ly(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iv(s){return s.collectionGroup!==null}function ql(s){const e=Tt(s);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Jl(h,a))}),i.has(Pe.keyField().canonicalString())||e.Ee.push(new Jl(Pe.keyField(),a))}return e.Ee}function Wn(s){const e=Tt(s);return e.de||(e.de=h1(e,ql(s))),e.de}function h1(s,e){if(s.limitType==="F")return Uy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Jl(o.field,h)});const i=s.endAt?new Xu(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Xu(s.startAt.position,s.startAt.inclusive):null;return Uy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Qf(s,e){const i=s.filters.concat([e]);return new Sa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Ff(s,e,i){return new Sa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ac(s,e){return fd(Wn(s),Wn(e))&&s.limitType===e.limitType}function rv(s){return`${hd(Wn(s))}|lt:${s.limitType}`}function sa(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>ev(o)).join(", ")}]`),rc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>ma(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>ma(o)).join(",")),`Target(${a})`}(Wn(s))}; limitType=${s.limitType})`}function lc(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of ql(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=My(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,ql(a),o)||a.endAt&&!function(d,g,_){const v=My(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,ql(a),o))}(s,e)}function f1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function sv(s){return(e,i)=>{let a=!1;for(const o of ql(s)){const h=d1(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function d1(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?da(_,v):pt(42886)}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new re(ft.comparator);function Ii(){return m1}const av=new re(ft.comparator);function Ll(...s){let e=av;for(const i of s)e=e.insert(i.key,i);return e}function lv(s){let e=av;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function rs(){return Hl()}function ov(){return Hl()}function Hl(){return new os(s=>s.toString(),(s,e)=>s.isEqual(e))}const g1=new re(ft.comparator),p1=new xe(ft.comparator);function Vt(...s){let e=p1;for(const i of s)e=e.add(i);return e}const y1=new xe(Rt);function _1(){return y1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function uv(s){return{integerValue:""+s}}function v1(s,e){return Fb(e)?uv(e):md(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function E1(s,e,i){return s instanceof Zu?function(o,h){const d={fields:{[Q_]:{stringValue:G_},[Y_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=sc(h)),h&&(d.fields[F_]=h),{mapValue:d}}(i,e):s instanceof Wl?hv(s,e):s instanceof to?fv(s,e):function(o,h){const d=cv(o,h),g=zy(d)+zy(o.Re);return qf(d)&&qf(o.Re)?uv(g):md(o.serializer,g)}(s,e)}function T1(s,e,i){return s instanceof Wl?hv(s,e):s instanceof to?fv(s,e):i}function cv(s,e){return s instanceof $u?function(a){return qf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Zu extends oc{}class Wl extends oc{constructor(e){super(),this.elements=e}}function hv(s,e){const i=dv(e);for(const a of s.elements)i.some(o=>ni(o,a))||i.push(a);return{arrayValue:{values:i}}}class to extends oc{constructor(e){super(),this.elements=e}}function fv(s,e){let i=dv(e);for(const a of s.elements)i=i.filter(o=>!ni(o,a));return{arrayValue:{values:i}}}class $u extends oc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function zy(s){return he(s.integerValue||s.doubleValue)}function dv(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function b1(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Wl&&o instanceof Wl||a instanceof to&&o instanceof to?fa(a.elements,o.elements,ni):a instanceof $u&&o instanceof $u?ni(a.Re,o.Re):a instanceof Zu&&o instanceof Zu}(s.transform,e.transform)}class A1{constructor(e,i){this.version=e,this.transformResults=i}}class ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class uc{}function mv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gd(s.key,ti.none()):new eo(s.key,s.data,ti.none());{const i=s.data,a=xn.empty();let o=new xe(Pe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new us(s.key,a,new On(o.toArray()),ti.none())}}function S1(s,e,i){s instanceof eo?function(o,h,d){const g=o.value.clone(),_=By(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof us?function(o,h,d){if(!Pu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=By(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(gv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Gl(s,e,i,a){return s instanceof eo?function(h,d,g,_){if(!Pu(h.precondition,d))return g;const v=h.value.clone(),A=ky(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof us?function(h,d,g,_){if(!Pu(h.precondition,d))return g;const v=ky(h.fieldTransforms,_,d),A=d.data;return A.setAll(gv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(s,e,i,a):function(h,d,g){return Pu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function x1(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=cv(a.transform,o||null);h!=null&&(i===null&&(i=xn.empty()),i.set(a.field,h))}return i||null}function Py(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fa(a,o,(h,d)=>b1(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eo extends uc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends uc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function gv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function By(s,e,i){const a=new Map;kt(s.length===i.length,32656,{Ve:i.length,me:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,T1(d,g,i[o]))}return a}function ky(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,E1(h,d,e))}return a}class gd extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R1 extends uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&S1(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ov();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=mv(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(i,a)=>Py(i,a))&&fa(this.baseMutations,e.baseMutations,(i,a)=>Py(i,a))}}class pd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){kt(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return g1}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new pd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function D1(s){switch(s){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function pv(s){if(s===void 0)return Vi("GRPC error has no .code"),X.UNKNOWN;switch(s){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:s})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new hr([4294967295,4294967295],0);function qy(s){const e=P_().encode(s),i=new V_;return i.update(e),new Uint8Array(i.digest())}function Hy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new hr([i,a],0),new hr([o,h],0)]}class yd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=hr.fromNumber(this.pe)}we(e,i,a){let o=e.add(i.multiply(hr.fromNumber(a)));return o.compare(V1)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=qy(e),[a,o]=Hy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,o,h);if(!this.be(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new yd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=qy(e),[a,o]=Hy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,no.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new cc(Et.min(),o,new re(Rt),Ii(),Vt())}}class no{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new no(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,i,a,o){this.De=e,this.removedTargetIds=i,this.key=a,this.ve=o}}class yv{constructor(e,i){this.targetId=e,this.Ce=i}}class _v{constructor(e,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Gy{constructor(){this.Fe=0,this.Me=Qy(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vt(),i=Vt(),a=Vt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:h})}}),new no(this.xe,this.Oe,e,i,a)}Qe(){this.Ne=!1,this.Me=Qy()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class I1{constructor(e){this.ze=e,this.je=new Map,this.He=Ii(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new re(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const a=this.rt(i);switch(e.state){case 0:this.it(i)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((a,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,a=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(Gf(h))if(a===0){const d=new ft(h.path);this.tt(i,d,Fe.newNoDocument(d,Et.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=gr(a).toUint8Array()}catch(_){if(_ instanceof H_)return ha("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new yd(d,o,h)}catch(_){return ha(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,a){return i.Ce.count===a-this.Tt(e,i.targetId)?0:2}Tt(e,i){const a=this.ze.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Gf(g.target)){const _=new ft(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Fe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let a=Vt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new cc(e,i,this.Ze,this.He,a);return this.He=Ii(),this.Je=Mu(),this.Ye=Mu(),this.Ze=new re(Rt),o}et(e,i){if(!this.it(e))return;const a=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),a&&(this.He=this.He.insert(i,a))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Gy,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new xe(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new xe(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Gy),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Mu(){return new re(ft.comparator)}function Qy(){return new re(ft.comparator)}const O1={asc:"ASCENDING",desc:"DESCENDING"},M1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j1={and:"AND",or:"OR"};class U1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Yf(s,e){return s.useProto3Json||rc(e)?e:{value:e}}function Ju(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function L1(s,e){return Ju(s,e.toTimestamp())}function ei(s){return kt(!!s,49232),Et.fromTimestamp(function(i){const a=mr(i);return new Se(a.seconds,a.nanos)}(s))}function _d(s,e){return Kf(s,e).canonicalString()}function Kf(s,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Ev(s){const e=Wt.fromString(s);return kt(xv(e),10190,{key:e.toString()}),e}function Xf(s,e){return _d(s.databaseId,e.path)}function Nf(s,e){const i=Ev(e);if(i.get(1)!==s.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(bv(i))}function Tv(s,e){return _d(s.databaseId,e)}function z1(s){const e=Ev(s);return e.length===4?Wt.emptyPath():bv(e)}function Zf(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function bv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Fy(s,e,i){return{name:Xf(s,e),fields:i.value.mapValue.fields}}function P1(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(kt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:pv(v.code);return new ot(A,v.message||"")}(d);i=new _v(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Nf(s,a.document.name),h=ei(a.document.updateTime),d=a.document.createTime?ei(a.document.createTime):Et.min(),g=new xn({mapValue:{fields:a.document.fields}}),_=Fe.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Bu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Nf(s,a.document),h=a.readTime?ei(a.readTime):Et.min(),d=Fe.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Bu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Nf(s,a.document),h=a.removedTargetIds||[];i=new Bu([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new N1(o,h),g=a.targetId;i=new yv(g,d)}}return i}function B1(s,e){let i;if(e instanceof eo)i={update:Fy(s,e.key,e.value)};else if(e instanceof gd)i={delete:Xf(s,e.key)};else if(e instanceof us)i={update:Fy(s,e.key,e.data),updateMask:X1(e.fieldMask)};else{if(!(e instanceof R1))return pt(16599,{ft:e.type});i={verify:Xf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Zu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof to)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $u)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:L1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,e.precondition)),i}function k1(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map(i=>function(o,h){let d=o.updateTime?ei(o.updateTime):ei(h);return d.isEqual(Et.min())&&(d=ei(h)),new A1(d,o.transformResults||[])}(i,e))):[]}function q1(s,e){return{documents:[Tv(s,e.path)]}}function H1(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Tv(s,o);const h=function(v){if(v.length!==0)return Sv(Mn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(I){return{field:aa(I.field),direction:F1(I.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Yf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function G1(s){let e=z1(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){kt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const I=Av(N);return I instanceof Mn&&W_(I)?I.getFilters():[I]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(I=>function(tt){return new Jl(la(tt.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction))}(I))}(i.orderBy));let g=null;i.limit&&(g=function(N){let I;return I=typeof N=="object"?N.value:N,rc(I)?null:I}(i.limit));let _=null;i.startAt&&(_=function(N){const I=!!N.before,G=N.values||[];return new Xu(G,I)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const I=!N.before,G=N.values||[];return new Xu(G,I)}(i.endAt)),c1(e,o,d,h,g,"F",_,v)}function Q1(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Av(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=la(i.unaryFilter.field);return ye.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=la(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=la(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=la(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return ye.create(la(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Mn.create(i.compositeFilter.filters.map(a=>Av(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function F1(s){return O1[s]}function Y1(s){return M1[s]}function K1(s){return j1[s]}function aa(s){return{fieldPath:s.canonicalString()}}function la(s){return Pe.fromServerFormat(s.fieldPath)}function Sv(s){return s instanceof ye?function(i){if(i.op==="=="){if(Oy(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NAN"}};if(Iy(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Oy(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NOT_NAN"}};if(Iy(i.value))return{unaryFilter:{field:aa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(i.field),op:Y1(i.op),value:i.value}}}(s):s instanceof Mn?function(i){const a=i.getFilters().map(o=>Sv(o));return a.length===1?a[0]:{compositeFilter:{op:K1(i.op),filters:a}}}(s):pt(54877,{filter:s})}function X1(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function xv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,i,a,o,h=Et.min(),d=Et.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.wt=e}}function $1(s){const e=G1({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Cn=new W1}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(dr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class W1{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new xe(Wt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new xe(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rv=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Rv,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ga(0)}static lr(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LruGarbageCollector",tA=1048576;function Xy([s,e],[i,a]){const o=Rt(s,i);return o===0?Rt(e,a):o}class eA{constructor(e){this.Er=e,this.buffer=new xe(Xy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Xy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){lt(Ky,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Aa(i)?lt(Ky,"Ignoring IndexedDB error during garbage collection: ",i):await ba(i)}await this.mr(3e5)})}}class iA{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(ic.le);const a=new eA(i);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Yy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(a=N,g=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),ra()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function rA(s,e){return new iA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.changes=new os(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Gl(a.mutation,o,On.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const o=rs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Ll();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=rs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=Ii();const d=Hl(),g=function(){return Hl()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof us)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Gl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,On.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var N;return g.set(v,new aA(A,(N=d.get(v))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Hl();let o=new re((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||On.empty();A=g.applyToLocalView(v,A),a.set(_,A);const N=(o.get(g.batchId)||Vt()).add(_);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,N=ov();A.forEach(I=>{if(!h.has(I)){const G=mv(i.get(I),a.get(I));G!==null&&N.set(I,G),h=h.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return Z.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Z.resolve(rs());let g=Kl,_=h;return d.next(v=>Z.forEach(v,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next(I=>{_=_.insert(A,I)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(A=>({batchId:g,changes:lv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let o=Ll();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,_=>{const v=function(N,I){return new Sa(I,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((N,I)=>{d=d.insert(N,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=Ll();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Gl(A.mutation,v,On.empty(),Se.now()),lc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return Z.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:$1(o.bundledQuery),readTime:ei(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.overlays=new re(ft.comparator),this.Qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=rs();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const o=rs(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=rs(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=rs(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Z.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new C1(i,a));let h=this.Qr.get(i);h===void 0&&(h=Vt(),this.Qr.set(i,h)),this.Qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.$r=new xe(Ie.Ur),this.Kr=new xe(Ie.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new Ie(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new ft(new Wt([])),a=new Ie(i,e),o=new Ie(i,e+1),h=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ft(new Wt([])),a=new Ie(i,e),o=new Ie(i,e+1);let h=Vt();return this.Kr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ft.comparator(e.key,i.key)||Rt(e.Zr,i.Zr)}static Wr(e,i){return Rt(e.Zr,i.Zr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new xe(Ie.Ur)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new w1(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ti(a),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?od:this.nr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),o=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,o],d=>{const g=this.ei(d.Zr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new xe(Rt);return i.forEach(o=>{const h=new Ie(o,0),d=new Ie(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],g=>{a=a.add(g.Zr)})}),Z.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ft(h),0);let g=new xe(Rt);return this.Xr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Zr)),!0)},d),Z.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){kt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return Z.forEach(i.mutations,o=>{const h=new Ie(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new Ie(i,0),o=this.Xr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.ii=e,this.docs=function(){return new re(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=Ii();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ii();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||qb(kb(A),a)<=0||(o.has(A.key)||lc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,a,o){pt(9500)}si(e,i){return Z.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new dA(this)}getSize(e){return Z.resolve(this.size)}}class dA extends sA{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),Z.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.persistence=e,this.oi=new os(i=>hd(i),fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new vd,this.targetCount=0,this.ui=ga.cr()}forEachTarget(e,i){return this.oi.forEach((a,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),Z.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new ga(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Tr(i),Z.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i){this.ci={},this.overlays={},this.li=new ic(0),this.hi=!1,this.hi=!0,this.Pi=new cA,this.referenceDelegate=e(this),this.Ti=new mA(this),this.indexManager=new J1,this.remoteDocumentCache=function(o){return new fA(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new Z1(i),this.Ei=new oA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new hA(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){lt("MemoryPersistence","Starting transaction:",e);const o=new gA(this.li.next());return this.referenceDelegate.di(),a(o).next(h=>this.referenceDelegate.Ai(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ri(e,i){return Z.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class gA extends Gb{constructor(e){super(),this.currentSequenceNumber=e}}class Ed{constructor(e){this.persistence=e,this.Vi=new vd,this.mi=null}static fi(e){return new Ed(e)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.gi,a=>{const o=ft.fromPath(a);return this.pi(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return Z.or([()=>Z.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Wu{constructor(e,i){this.persistence=e,this.yi=new os(a=>Yb(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=rA(this,i)}static fi(e,i){return new Wu(e,i)}di(){}Ai(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}br(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return Z.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),Z.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lu(e.data.value)),i}Dr(e,i,a){return Z.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.ds=a,this.As=o}static Rs(e,i){let a=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Td(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return dT()?8:Qb(hT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new pA;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>h.result)}Ds(e,i,a,o){return a.documentReadCount<this.gs?(ra()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",sa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Z.resolve()):(ra()<=Lt.DEBUG&&lt("QueryEngine","Query:",sa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(ra()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",sa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(i))):Z.resolve())}ws(e,i){if(Ly(i))return Z.resolve(null);let a=Wn(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ff(i,null,"F"),a=Wn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Vt(...h);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.vs(i,g);return this.Cs(i,v,d,_.readTime)?this.ws(e,Ff(i,null,"F")):this.Fs(e,v,i,_)}))})))}bs(e,i,a,o){return Ly(i)||o.isEqual(Et.min())?Z.resolve(null):this.ys.getDocuments(e,a).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,a,o)?Z.resolve(null):(ra()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sa(i)),this.Fs(e,d,i,Bb(o,Kl)).next(g=>g))})}vs(e,i){let a=new xe(sv(e));return i.forEach((o,h)=>{lc(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return ra()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",sa(i)),this.ys.getDocumentsMatchingQuery(e,i,dr.min(),a)}Fs(e,i,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="LocalStore",_A=3e8;class vA{constructor(e,i,a,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new re(Rt),this.Os=new os(h=>hd(h),fd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lA(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function EA(s,e,i,a){return new vA(s,e,i,a)}async function Cv(s,e){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Vt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({ks:v,removedBatchIds:d,addedBatchIds:g}))})})}function TA(s,e){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const N=v.batch,I=N.keys();let G=Z.resolve();return I.forEach(tt=>{G=G.next(()=>A.getEntry(_,tt)).next(rt=>{const J=v.docVersions.get(tt);kt(J!==null,48541),rt.version.compareTo(J)<0&&(N.applyToRemoteDocument(rt,v),rt.isValidDocument()&&(rt.setReadTime(v.commitVersion),A.addEntry(rt)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Nv(s){const e=Tt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function bA(s,e){const i=Tt(s),a=e.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const g=[];e.targetChanges.forEach((A,N)=>{const I=o.get(N);if(!I)return;g.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,N)));let G=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(N,G),function(rt,J,bt){return rt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=_A?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(I,G,A)&&g.push(i.Ti.updateTargetData(h,G))});let _=Ii(),v=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(AA(h,d,e.documentUpdates).next(A=>{_=A.qs,v=A.Qs})),!a.isEqual(Et.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(N=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.xs=o,h))}function AA(s,e,i){let a=Vt(),o=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ii();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):lt(bd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{qs:d,Qs:o}})}function SA(s,e){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function xA(s,e){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Ti.getTargetData(a,e).next(h=>h?(o=h,Z.resolve(o)):i.Ti.allocateTargetId(a).next(d=>(o=new or(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(a.targetId,a),i.Os.set(e,a.targetId)),a})}async function $f(s,e,i){const a=Tt(s),o=a.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Aa(d))throw d;lt(bd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function Zy(s,e,i){const a=Tt(s);let o=Et.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const N=Tt(_),I=N.Os.get(A);return I!==void 0?Z.resolve(N.xs.get(I)):N.Ti.getTargetData(v,A)}(a,d,Wn(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ms.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Vt())).next(g=>(RA(a,f1(e),g),{documents:g,$s:h})))}function RA(s,e,i){let a=s.Ns.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ns.set(e,a)}class $y{constructor(){this.activeTargetIds=_1()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wA{constructor(){this.xo=new $y,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new $y,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="ConnectivityMonitor";class Wy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){lt(Jy,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){lt(Jy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Jf(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",NA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DA{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===Yu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,i,a,o,h){const d=Jf(),g=this.jo(e,i.toUriEncodedString());lt(Df,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(_,o,h);const{host:v}=new URL(g),A=sd(v);return this.Jo(e,g,_,a,A).then(N=>(lt(Df,`Received RPC '${e}' ${d}: `,N),N),N=>{throw ha(Df,`RPC '${e}' ${d} failed with error: `,N,"url: ",g,"request:",a),N})}Yo(e,i,a,o,h,d){return this.zo(e,i,a,o,h)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}jo(e,i){const a=NA[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class IA extends DA{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Jf();return new Promise((g,_)=>{const v=new I_;v.setWithCredentials(!0),v.listenOnce(O_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Uu.NO_ERROR:const N=v.getResponseJson();lt(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),g(N);break;case Uu.TIMEOUT:lt(Ge,`RPC '${e}' ${d} timed out`),_(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const I=v.getStatus();if(lt(Ge,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G==null?void 0:G.error;if(tt&&tt.status&&tt.message){const rt=function(bt){const F=bt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(F)>=0?F:X.UNKNOWN}(tt.status);_(new ot(rt,tt.message))}else _(new ot(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ot(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{h_:e,streamId:d,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{lt(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);lt(Ge,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)})}I_(e,i,a){const o=Jf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=U_(),g=j_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Ho(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");lt(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=d.createWebChannel(A,_);this.E_(N);let I=!1,G=!1;const tt=new VA({Zo:J=>{G?lt(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(I||(lt(Ge,`Opening RPC '${e}' stream ${o} transport.`),N.open(),I=!0),lt(Ge,`RPC '${e}' stream ${o} sending:`,J),N.send(J))},Xo:()=>N.close()}),rt=(J,bt,F)=>{J.listen(bt,$=>{try{F($)}catch(_t){setTimeout(()=>{throw _t},0)}})};return rt(N,Ul.EventType.OPEN,()=>{G||(lt(Ge,`RPC '${e}' stream ${o} transport opened.`),tt.__())}),rt(N,Ul.EventType.CLOSE,()=>{G||(G=!0,lt(Ge,`RPC '${e}' stream ${o} transport closed`),tt.u_(),this.d_(N))}),rt(N,Ul.EventType.ERROR,J=>{G||(G=!0,ha(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),tt.u_(new ot(X.UNAVAILABLE,"The operation could not be completed")))}),rt(N,Ul.EventType.MESSAGE,J=>{var bt;if(!G){const F=J.data[0];kt(!!F,16349);const $=F,_t=($==null?void 0:$.error)||((bt=$[0])===null||bt===void 0?void 0:bt.error);if(_t){lt(Ge,`RPC '${e}' stream ${o} received error:`,_t);const at=_t.status;let At=function(C){const j=pe[C];if(j!==void 0)return pv(j)}(at),M=_t.message;At===void 0&&(At=X.INTERNAL,M="Unknown error status: "+at+" with message "+_t.message),G=!0,tt.u_(new ot(At,M)),N.close()}else lt(Ge,`RPC '${e}' stream ${o} received:`,F),tt.c_(F)}}),rt(g,M_.STAT_EVENT,J=>{J.stat===Pf.PROXY?lt(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Pf.NOPROXY&&lt(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{tt.a_()},0),tt}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(i=>i===e)}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){return new U1(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.xi=e,this.timerId=i,this.A_=a,this.R_=o,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const i=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="PersistentStream";class Vv{constructor(e,i,a,o,h,d,g,_){this.xi=e,this.S_=a,this.D_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Dv(e,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Vi(i.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===i&&this.z_(a,o)},a=>{e(()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,i){const a=this.G_(this.v_);this.stream=this.H_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return lt(t_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return i=>{this.xi.enqueueAndForget(()=>this.v_===e?i():(lt(t_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OA extends Vv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}H_(e,i){return this.connection.I_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const i=P1(this.serializer,e),a=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ei(d.readTime):Et.min()}(e);return this.listener.Y_(i,a)}Z_(e){const i={};i.database=Zf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Gf(_)?{documents:q1(h,_)}:{query:H1(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=vv(h,d.resumeToken);const v=Yf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Ju(h,d.snapshotVersion.toTimestamp());const v=Yf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=Q1(this.serializer,e);a&&(i.labels=a),this.Q_(i)}X_(e){const i={};i.database=Zf(this.serializer),i.removeTarget=e,this.Q_(i)}}class MA extends Vv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,i){return this.connection.I_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const i=k1(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.ra(a,i)}ia(){const e={};e.database=Zf(this.serializer),this.Q_(e)}ta(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>B1(this.serializer,a))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{}class UA extends jA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,Kf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())})}Yo(e,i,a,o,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Kf(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class LA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Vi(i),this.ua=!1):lt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class zA{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{a.enqueueAndForget(async()=>{cs(this)&&(lt(as,"Restarting streams for network reachability change."),await async function(_){const v=Tt(_);v.da.add(4),await io(v),v.Va.set("Unknown"),v.da.delete(4),await fc(v)}(this))})}),this.Va=new LA(a,o)}}async function fc(s){if(cs(s))for(const e of s.Aa)await e(!0)}async function io(s){for(const e of s.Aa)await e(!1)}function Iv(s,e){const i=Tt(s);i.Ea.has(e.targetId)||(i.Ea.set(e.targetId,e),Rd(i)?xd(i):xa(i).N_()&&Sd(i,e))}function Ad(s,e){const i=Tt(s),a=xa(i);i.Ea.delete(e),a.N_()&&Ov(i,e),i.Ea.size===0&&(a.N_()?a.k_():cs(i)&&i.Va.set("Unknown"))}function Sd(s,e){if(s.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xa(s).Z_(e)}function Ov(s,e){s.ma.Ke(e),xa(s).X_(e)}function xd(s){s.ma=new I1({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>s.Ea.get(e)||null,Pt:()=>s.datastore.serializer.databaseId}),xa(s).start(),s.Va.ca()}function Rd(s){return cs(s)&&!xa(s).O_()&&s.Ea.size>0}function cs(s){return Tt(s).da.size===0}function Mv(s){s.ma=void 0}async function PA(s){s.Va.set("Online")}async function BA(s){s.Ea.forEach((e,i)=>{Sd(s,e)})}async function kA(s,e){Mv(s),Rd(s)?(s.Va.Pa(e),xd(s)):s.Va.set("Unknown")}async function qA(s,e,i){if(s.Va.set("Online"),e instanceof _v&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ea.delete(g),o.ma.removeTarget(g))}(s,e)}catch(a){lt(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await tc(s,a)}else if(e instanceof Bu?s.ma.Xe(e):e instanceof yv?s.ma.ot(e):s.ma.nt(e),!i.isEqual(Et.min()))try{const a=await Nv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.ma.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ea.get(v);A&&h.Ea.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.Ea.get(_);if(!A)return;h.Ea.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),Ov(h,_);const N=new or(A.target,_,v,A.sequenceNumber);Sd(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){lt(as,"Failed to raise snapshot:",a),await tc(s,a)}}async function tc(s,e,i){if(!Aa(e))throw e;s.da.add(1),await io(s),s.Va.set("Offline"),i||(i=()=>Nv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{lt(as,"Retrying IndexedDB access"),await i(),s.da.delete(1),await fc(s)})}function jv(s,e){return e().catch(i=>tc(s,i,e))}async function dc(s){const e=Tt(s),i=yr(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:od;for(;HA(e);)try{const o=await SA(e.localStore,a);if(o===null){e.Ia.length===0&&i.k_();break}a=o.batchId,GA(e,o)}catch(o){await tc(e,o)}Uv(e)&&Lv(e)}function HA(s){return cs(s)&&s.Ia.length<10}function GA(s,e){s.Ia.push(e);const i=yr(s);i.N_()&&i.ea&&i.ta(e.mutations)}function Uv(s){return cs(s)&&!yr(s).O_()&&s.Ia.length>0}function Lv(s){yr(s).start()}async function QA(s){yr(s).ia()}async function FA(s){const e=yr(s);for(const i of s.Ia)e.ta(i.mutations)}async function YA(s,e,i){const a=s.Ia.shift(),o=pd.from(a,e,i);await jv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await dc(s)}async function KA(s,e){e&&yr(s).ea&&await async function(a,o){if(function(d){return D1(d)&&d!==X.ABORTED}(o.code)){const h=a.Ia.shift();yr(a).L_(),await jv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await dc(a)}}(s,e),Uv(s)&&Lv(s)}async function e_(s,e){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),lt(as,"RemoteStore received new credentials");const a=cs(i);i.da.add(3),await io(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.da.delete(3),await fc(i)}async function XA(s,e){const i=Tt(s);e?(i.da.delete(2),await fc(i)):e||(i.da.add(2),await io(i),i.Va.set("Unknown"))}function xa(s){return s.fa||(s.fa=function(i,a,o){const h=Tt(i);return h.oa(),new OA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:PA.bind(null,s),n_:BA.bind(null,s),i_:kA.bind(null,s),Y_:qA.bind(null,s)}),s.Aa.push(async e=>{e?(s.fa.L_(),Rd(s)?xd(s):s.Va.set("Unknown")):(await s.fa.stop(),Mv(s))})),s.fa}function yr(s){return s.ga||(s.ga=function(i,a,o){const h=Tt(i);return h.oa(),new MA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{e_:()=>Promise.resolve(),n_:QA.bind(null,s),i_:KA.bind(null,s),na:FA.bind(null,s),ra:YA.bind(null,s)}),s.Aa.push(async e=>{e?(s.ga.L_(),await dc(s)):(await s.ga.stop(),s.Ia.length>0&&(lt(as,`Stopping write stream with ${s.Ia.length} pending writes`),s.Ia=[]))})),s.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new wd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(s,e){if(Vi("AsyncQueue",`${e}: ${s}`),Aa(s))return new ot(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{static emptySet(e){return new ua(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ll(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ua;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.pa=new re(ft.comparator)}track(e){const i=e.doc.key,a=this.pa.get(i);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(i,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(i):e.type===1&&a.type===2?this.pa=this.pa.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(i,{type:2,doc:e.doc}):pt(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(i,e)}wa(){const e=[];return this.pa.inorderTraversal((i,a)=>{e.push(a)}),e}}class pa{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new pa(e,i,ua.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class $A{constructor(){this.queries=i_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),h=o.queries;o.queries=i_(),h.forEach((d,g)=>{for(const _ of g.Sa)_.onError(a)})})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function i_(){return new os(s=>rv(s),ac)}async function zv(s,e){const i=Tt(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.Da()&&e.va()&&(a=2):(h=new ZA,a=e.va()?0:1);try{switch(a){case 0:h.ba=await i.onListen(o,!0);break;case 1:h.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Cd(d,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.Fa(i.onlineState),h.ba&&e.Ma(h.ba)&&Nd(i)}async function Pv(s,e){const i=Tt(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.va()?0:1:!h.Da()&&e.va()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JA(s,e){const i=Tt(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Ma(o)&&(a=!0);d.ba=o}}a&&Nd(i)}function WA(s,e,i){const a=Tt(s),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Nd(s){s.Ca.forEach(e=>{e.next()})}var Wf,r_;(r_=Wf||(Wf={})).xa="default",r_.Cache="cache";class Bv{constructor(e,i,a){this.query=e,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new pa(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Na?this.La(e)&&(this.Oa.next(e),i=!0):this.ka(e,this.onlineState)&&(this.qa(e),i=!0),this.Ba=e,i}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),i=!0),i}ka(e,i){if(!e.fromCache||!this.va())return!0;const a=i!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}La(e){if(e.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this.key=e}}class qv{constructor(e){this.key=e}}class tS{constructor(e,i){this.query=e,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.Za=sv(e),this.Xa=new ua(this.Za)}get eu(){return this.Ha}tu(e,i){const a=i?i.nu:new n_,o=i?i.Xa:this.Xa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const I=o.get(A),G=lc(this.query,N)?N:null,tt=!!I&&this.mutatedKeys.has(I.key),rt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;I&&G?I.data.isEqual(G.data)?tt!==rt&&(a.track({type:3,doc:G}),J=!0):this.ru(I,G)||(a.track({type:2,doc:G}),J=!0,(_&&this.Za(G,_)>0||v&&this.Za(G,v)<0)&&(g=!0)):!I&&G?(a.track({type:0,doc:G}),J=!0):I&&!G&&(a.track({type:1,doc:I}),J=!0,(_||v)&&(g=!0)),J&&(G?(d=d.add(G),h=rt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:d,nu:a,Cs:g,mutatedKeys:h}}ru(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((A,N)=>function(G,tt){const rt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:J})}};return rt(G)-rt(tt)}(A.type,N.type)||this.Za(A.doc,N.doc)),this.iu(a),o=o!=null&&o;const g=i&&!o?this.su():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Ja;return this.Ja=_,d.length!==0||v?{snapshot:new pa(this.query,e.Xa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new n_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const i=[];return e.forEach(a=>{this.Ya.has(a)||i.push(new qv(a))}),this.Ya.forEach(a=>{e.has(a)||i.push(new kv(a))}),i}au(e){this.Ha=e.$s,this.Ya=Vt();const i=this.tu(e.documents);return this.applyChanges(i,!0)}uu(){return pa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dd="SyncEngine";class eS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nS{constructor(e){this.key=e,this.cu=!1}}class iS{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new os(g=>rv(g),ac),this.Pu=new Map,this.Tu=new Set,this.Iu=new re(ft.comparator),this.Eu=new Map,this.du=new vd,this.Au={},this.Ru=new Map,this.Vu=ga.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rS(s,e,i=!0){const a=Kv(s);let o;const h=a.hu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.uu()):o=await Hv(a,e,i,!0),o}async function sS(s,e){const i=Kv(s);await Hv(i,e,!0,!1)}async function Hv(s,e,i,a){const o=await xA(s.localStore,Wn(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await aS(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Iv(s.remoteStore,o),g}async function aS(s,e,i,a,o){s.fu=(N,I,G)=>async function(rt,J,bt,F){let $=J.view.tu(bt);$.Cs&&($=await Zy(rt.localStore,J.query,!1).then(({documents:M})=>J.view.tu(M,$)));const _t=F&&F.targetChanges.get(J.targetId),at=F&&F.targetMismatches.get(J.targetId)!=null,At=J.view.applyChanges($,rt.isPrimaryClient,_t,at);return a_(rt,J.targetId,At.ou),At.snapshot}(s,N,I,G);const h=await Zy(s.localStore,e,!0),d=new tS(e,h.$s),g=d.tu(h.documents),_=no.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);a_(s,i,v.ou);const A=new eS(e,i,d);return s.hu.set(e,A),s.Pu.has(i)?s.Pu.get(i).push(e):s.Pu.set(i,[e]),v.snapshot}async function lS(s,e,i){const a=Tt(s),o=a.hu.get(e),h=a.Pu.get(o.targetId);if(h.length>1)return a.Pu.set(o.targetId,h.filter(d=>!ac(d,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await $f(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ad(a.remoteStore,o.targetId),td(a,o.targetId)}).catch(ba)):(td(a,o.targetId),await $f(a.localStore,o.targetId,!0))}async function oS(s,e){const i=Tt(s),a=i.hu.get(e),o=i.Pu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ad(i.remoteStore,a.targetId))}async function uS(s,e,i){const a=pS(s);try{const o=await function(d,g){const _=Tt(d),v=Se.now(),A=g.reduce((G,tt)=>G.add(tt.key),Vt());let N,I;return _.persistence.runTransaction("Locally write mutations","readwrite",G=>{let tt=Ii(),rt=Vt();return _.Bs.getEntries(G,A).next(J=>{tt=J,tt.forEach((bt,F)=>{F.isValidDocument()||(rt=rt.add(bt))})}).next(()=>_.localDocuments.getOverlayedDocuments(G,tt)).next(J=>{N=J;const bt=[];for(const F of g){const $=x1(F,N.get(F.key).overlayedDocument);$!=null&&bt.push(new us(F.key,$,Z_($.value.mapValue),ti.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,bt,g)}).next(J=>{I=J;const bt=J.applyToLocalDocumentSet(N,rt);return _.documentOverlayCache.saveOverlays(G,J.batchId,bt)})}).then(()=>({batchId:I.batchId,changes:lv(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Au[d.currentUser.toKey()];v||(v=new re(Rt)),v=v.insert(g,_),d.Au[d.currentUser.toKey()]=v}(a,o.batchId,i),await ro(a,o.changes),await dc(a.remoteStore)}catch(o){const h=Cd(o,"Failed to persist write");i.reject(h)}}async function Gv(s,e){const i=Tt(s);try{const a=await bA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?kt(d.cu,14607):o.removedDocuments.size>0&&(kt(d.cu,42227),d.cu=!1))}),await ro(i,a,e)}catch(a){await ba(a)}}function s_(s,e,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.hu.forEach((h,d)=>{const g=d.view.Fa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Tt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,N)=>{for(const I of N.Sa)I.Fa(g)&&(v=!0)}),v&&Nd(_)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cS(s,e,i){const a=Tt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Eu.get(e),h=o&&o.key;if(h){let d=new re(ft.comparator);d=d.insert(h,Fe.newNoDocument(h,Et.min()));const g=Vt().add(h),_=new cc(Et.min(),new Map,new re(Rt),d,g);await Gv(a,_),a.Iu=a.Iu.remove(h),a.Eu.delete(e),Vd(a)}else await $f(a.localStore,e,!1).then(()=>td(a,e,i)).catch(ba)}async function hS(s,e){const i=Tt(s),a=e.batch.batchId;try{const o=await TA(i.localStore,e);Fv(i,a,null),Qv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ro(i,o)}catch(o){await ba(o)}}async function fS(s,e,i){const a=Tt(s);try{const o=await function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(N=>(kt(N!==null,37113),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Fv(a,e,i),Qv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ro(a,o)}catch(o){await ba(o)}}function Qv(s,e){(s.Ru.get(e)||[]).forEach(i=>{i.resolve()}),s.Ru.delete(e)}function Fv(s,e,i){const a=Tt(s);let o=a.Au[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function td(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Pu.get(e))s.hu.delete(a),i&&s.lu.gu(a,i);s.Pu.delete(e),s.isPrimaryClient&&s.du.Hr(e).forEach(a=>{s.du.containsKey(a)||Yv(s,a)})}function Yv(s,e){s.Tu.delete(e.path.canonicalString());const i=s.Iu.get(e);i!==null&&(Ad(s.remoteStore,i),s.Iu=s.Iu.remove(e),s.Eu.delete(i),Vd(s))}function a_(s,e,i){for(const a of i)a instanceof kv?(s.du.addReference(a.key,e),dS(s,a)):a instanceof qv?(lt(Dd,"Document no longer in limbo: "+a.key),s.du.removeReference(a.key,e),s.du.containsKey(a.key)||Yv(s,a.key)):pt(19791,{pu:a})}function dS(s,e){const i=e.key,a=i.path.canonicalString();s.Iu.get(i)||s.Tu.has(a)||(lt(Dd,"New document in limbo: "+i),s.Tu.add(a),Vd(s))}function Vd(s){for(;s.Tu.size>0&&s.Iu.size<s.maxConcurrentLimboResolutions;){const e=s.Tu.values().next().value;s.Tu.delete(e);const i=new ft(Wt.fromString(e)),a=s.Vu.next();s.Eu.set(a,new nS(i)),s.Iu=s.Iu.insert(i,a),Iv(s.remoteStore,new or(Wn(dd(i.path)),a,"TargetPurposeLimboResolution",ic.le))}}async function ro(s,e,i){const a=Tt(s),o=[],h=[],d=[];a.hu.isEmpty()||(a.hu.forEach((g,_)=>{d.push(a.fu(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const N=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){o.push(v);const N=Td.Rs(_.targetId,v);h.push(N)}}))}),await Promise.all(d),a.lu.Y_(o),await async function(_,v){const A=Tt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Z.forEach(v,I=>Z.forEach(I.ds,G=>A.persistence.referenceDelegate.addReference(N,I.targetId,G)).next(()=>Z.forEach(I.As,G=>A.persistence.referenceDelegate.removeReference(N,I.targetId,G)))))}catch(N){if(!Aa(N))throw N;lt(bd,"Failed to update sequence numbers: "+N)}for(const N of v){const I=N.targetId;if(!N.fromCache){const G=A.xs.get(I),tt=G.snapshotVersion,rt=G.withLastLimboFreeSnapshotVersion(tt);A.xs=A.xs.insert(I,rt)}}}(a.localStore,h))}async function mS(s,e){const i=Tt(s);if(!i.currentUser.isEqual(e)){lt(Dd,"User change. New user:",e.toKey());const a=await Cv(i.localStore,e);i.currentUser=e,function(h,d){h.Ru.forEach(g=>{g.forEach(_=>{_.reject(new ot(X.CANCELLED,d))})}),h.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ro(i,a.ks)}}function gS(s,e){const i=Tt(s),a=i.Eu.get(e);if(a&&a.cu)return Vt().add(a.key);{let o=Vt();const h=i.Pu.get(e);if(!h)return o;for(const d of h){const g=i.hu.get(d);o=o.unionWith(g.view.eu)}return o}}function Kv(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cS.bind(null,e),e.lu.Y_=JA.bind(null,e.eventManager),e.lu.gu=WA.bind(null,e.eventManager),e}function pS(s){const e=Tt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fS.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,i){return null}Cu(e,i){return null}Du(e){return EA(this.persistence,new yA,e.initialUser,this.serializer)}Su(e){return new wv(Ed.fi,this.serializer)}bu(e){return new wA}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class yS extends ec{constructor(e){super(),this.cacheSizeBytes=e}vu(e,i){kt(this.persistence.referenceDelegate instanceof Wu,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new nA(a,e.asyncQueue,i)}Su(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new wv(a=>Wu.fi(a,i),this.serializer)}}class ed{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>s_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mS.bind(null,this.syncEngine),await XA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $A}()}createDatastore(e){const i=hc(e.databaseInfo.databaseId),a=function(h){return new IA(h)}(e.databaseInfo);return function(h,d,g,_){return new UA(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new zA(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>s_(this.syncEngine,i,0),function(){return Wy.C()?new Wy:new CA}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const N=new iS(o,h,d,g,_,v);return A&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);lt(as,"RemoteStore shutting down."),h.da.add(5),await io(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ed.provider={build:()=>new ed};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class _S{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=B_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{lt(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(lt(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Cd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function If(s,e){s.asyncQueue.verifyOperationInProgress(),lt(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Cv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function l_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await vS(s);lt(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>e_(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>e_(e.remoteStore,o)),s._onlineComponents=e}async function vS(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){lt(_r,"Using user provided OfflineComponentProvider");try{await If(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ha("Error using user provided cache. Falling back to memory cache: "+i),await If(s,new ec)}}else lt(_r,"Using default OfflineComponentProvider"),await If(s,new yS(void 0));return s._offlineComponents}async function Zv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(lt(_r,"Using user provided OnlineComponentProvider"),await l_(s,s._uninitializedComponentsProvider._online)):(lt(_r,"Using default OnlineComponentProvider"),await l_(s,new ed))),s._onlineComponents}function ES(s){return Zv(s).then(e=>e.syncEngine)}async function $v(s){const e=await Zv(s),i=e.eventManager;return i.onListen=rS.bind(null,e.syncEngine),i.onUnlisten=lS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=sS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=oS.bind(null,e.syncEngine),i}function TS(s,e,i={}){const a=new Ni;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Xv({next:I=>{A.xu(),d.enqueueAndForget(()=>Pv(h,N));const G=I.docs.has(g);!G&&I.fromCache?v.reject(new ot(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&I.fromCache&&_&&_.source==="server"?v.reject(new ot(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),N=new Bv(dd(g.path),A,{includeMetadataChanges:!0,Qa:!0});return zv(h,N)}(await $v(s),s.asyncQueue,e,i,a)),a.promise}function bS(s,e,i={}){const a=new Ni;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Xv({next:I=>{A.xu(),d.enqueueAndForget(()=>Pv(h,N)),I.fromCache&&_.source==="server"?v.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),N=new Bv(g,A,{includeMetadataChanges:!0,Qa:!0});return zv(h,N)}(await $v(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s,e,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function AS(s,e,i,a){if(e===!0&&a===!0)throw new ot(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function u_(s){if(!ft.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function c_(s){if(ft.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function mc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function vr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mc(s);throw new ot(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firestore.googleapis.com",h_=!0;class f_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t0,this.ssl=h_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tA)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Vb;switch(a.type){case"firstParty":return new jb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=o_.get(i);a&&(lt("ComponentProvider","Removing Datastore"),o_.delete(i),a.terminate())}(this),Promise.resolve()}}function SS(s,e,i,a={}){var o;s=vr(s,gc);const h=sd(e),d=s._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),_=`${e}:${i}`;h&&(aT(`https://${_}`),cT("Firestore",!0)),d.host!==t0&&d.host!==_&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:a});if(!Hu(v,g)&&(s._setSettings(v),a.mockUserToken)){let A,N;if(typeof a.mockUserToken=="string")A=a.mockUserToken,N=Qe.MOCK_USER;else{A=lT(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Qe(I)}s._authCredentials=new Ib(new z_(A,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class fr extends hs{constructor(e,i,a){super(e,i,dd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new ft(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function ya(s,e,...i){if(s=ca(s),Wv("collection","path",e),s instanceof gc){const a=Wt.fromString(e,...i);return c_(a),new fr(s,null,a)}{if(!(s instanceof en||s instanceof fr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return c_(a),new fr(s.firestore,null,a)}}function Ql(s,e,...i){if(s=ca(s),arguments.length===1&&(e=B_.newId()),Wv("doc","path",e),s instanceof gc){const a=Wt.fromString(e,...i);return u_(a),new en(s,null,new ft(a))}{if(!(s instanceof en||s instanceof fr))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(e,...i));return u_(a),new en(s.firestore,s instanceof fr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Dv(this,"async_queue_retry"),this.rc=()=>{const a=Vf();a&&lt(d_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const i=Vf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const i=Vf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new Ni;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Aa(e))throw e;lt(d_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const i=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Vi("INTERNAL UNHANDLED ERROR: ",g_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=i,i}enqueueAfterDelay(e,i,a){this.oc(),this.nc.indexOf(e)>-1&&(i=0);const o=wd.createAndSchedule(this,e,i,a,h=>this.uc(h));return this.Zu.push(o),o}oc(){this.Xu&&pt(47125,{cc:g_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const i of this.Zu)if(i.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const i=this.Zu.indexOf(e);this.Zu.splice(i,1)}}function g_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class so extends gc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new m_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function xS(s,e){const i=typeof s=="object"?s:Eb(),a=typeof s=="string"?s:Yu,o=gb(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=rT("firestore");h&&SS(o,...h)}return o}function Id(s){if(s._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RS(s),s._firestoreClient}function RS(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,A){return new Zb(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Jv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new _S(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(Be.fromBase64String(e))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new _a(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=/^__.*__$/;class CS{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,i,this.fieldTransforms):new eo(e,this.data,i,this.fieldTransforms)}}function n0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ic:s})}}class Ud{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return nc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(n0(this.Ic)&&wS.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class NS{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||hc(e)}bc(e,i,a,o=!1){return new Ud({Ic:e,methodName:i,wc:a,path:Pe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i0(s){const e=s._freezeSettings(),i=hc(s._databaseId);return new NS(s._databaseId,!!e.ignoreUndefinedProperties,i)}function DS(s,e,i,a,o,h={}){const d=s.bc(h.merge||h.mergeFields?2:0,e,i,o);a0("Data must be an object, but it was:",d,a);const g=r0(a,d);let _,v;if(h.merge)_=new On(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const I=IS(e,N,i);if(!d.contains(I))throw new ot(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);MS(A,I)||A.push(I)}_=new On(A),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new CS(new xn(g),_,v)}function VS(s,e,i,a=!1){return Ld(i,s.bc(a?4:3,e))}function Ld(s,e){if(s0(s=ca(s)))return a0("Unsupported field value:",e,s),r0(s,e);if(s instanceof e0)return function(a,o){if(!n0(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Ld(g,o.fc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=ca(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return v1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Ju(o.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,h)}}if(a instanceof Md)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _a)return{bytesValue:vv(o.serializer,a._byteString)};if(a instanceof en){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:_d(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof jd)return function(d,g){return{mapValue:{fields:{[K_]:{stringValue:X_},[Ku]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.gc("VectorValues must only contain numeric values.");return md(g.serializer,v)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${mc(a)}`)}(s,e)}function r0(s,e){const i={};return q_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(s,(a,o)=>{const h=Ld(o,e.Ac(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function s0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Md||s instanceof _a||s instanceof en||s instanceof e0||s instanceof jd)}function a0(s,e,i){if(!s0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=mc(i);throw a==="an object"?e.gc(s+" a custom object"):e.gc(s+" "+a)}}function IS(s,e,i){if((e=ca(e))instanceof Od)return e._internalPath;if(typeof e=="string")return l0(s,e);throw nc("Field path arguments must be of type string or ",s,!1,void 0,i)}const OS=new RegExp("[~\\*/\\[\\]]");function l0(s,e,i){if(e.search(OS)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Od(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function nc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ot(X.INVALID_ARGUMENT,g+s+_)}function MS(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(pc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jS extends o0{data(){return super.data()}}function pc(s,e){return typeof e=="string"?l0(s,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{}class u0 extends zd{}function p_(s,e,...i){let a=[];e instanceof zd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Pd).length,g=h.filter(_=>_ instanceof yc).length;if(d>1||d>0&&g>0)throw new ot(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class yc extends u0{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new yc(e,i,a)}_apply(e){const i=this._parse(e);return c0(e._query,i),new hs(e.firestore,e.converter,Qf(e._query,i))}_parse(e){const i=i0(e.firestore);return function(h,d,g,_,v,A,N){let I;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ot(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){E_(N,A);const tt=[];for(const rt of N)tt.push(v_(_,h,rt));I={arrayValue:{values:tt}}}else I=v_(_,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||E_(N,A),I=VS(g,d,N,A==="in"||A==="not-in");return ye.create(v,A,I)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function y_(s,e,i){const a=e,o=pc("where",s);return yc._create(o,a,i)}class Pd extends zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)c0(d,_),d=Qf(d,_)}(e._query,i),new hs(e.firestore,e.converter,Qf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bd extends u0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Bd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jl(h,d)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Sa(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function __(s,e="asc"){const i=e,a=pc("orderBy",s);return Bd._create(a,i)}function v_(s,e,i){if(typeof(i=ca(i))=="string"){if(i==="")throw new ot(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iv(e)&&i.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Wt.fromString(i));if(!ft.isDocumentKey(a))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Vy(s,new ft(a))}if(i instanceof en)return Vy(s,i._key);throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(i)}.`)}function E_(s,e){if(!Array.isArray(s)||s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c0(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class LS{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ls(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[Ku].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new jd(h)}convertGeoPoint(e){return new Md(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=sc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Wt.fromString(e);kt(xv(a),9688,{name:e});const o=new Zl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return o.isEqual(i)||Vi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h0 extends o0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(pc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class ku extends h0{data(e={}){return super.data(e)}}class PS{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new ku(this._firestore,this._userDataWriter,a.key,a,new Pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Pl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Pl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:BS(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function BS(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(s){s=vr(s,en);const e=vr(s.firestore,so);return TS(Id(e),s._key).then(i=>HS(e,s,i))}class f0 extends LS{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function va(s){s=vr(s,hs);const e=vr(s.firestore,so),i=Id(e),a=new f0(e);return US(s._query),bS(i,s._query).then(o=>new PS(e,a,s,o))}function nd(s,e,i){s=vr(s,en);const a=vr(s.firestore,so),o=zS(s.converter,e);return d0(a,[DS(i0(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ti.none())])}function qS(s){return d0(vr(s.firestore,so),[new gd(s._key,ti.none())])}function d0(s,e){return function(a,o){const h=new Ni;return a.asyncQueue.enqueueAndForget(async()=>uS(await ES(a),o,h)),h.promise}(Id(s),e)}function HS(s,e,i){const a=i.docs.get(e._key),o=new f0(s);return new h0(s,o,e._key,a,new Pl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ta=o})(vb),Qu(new Fl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new so(new Ob(a.getProvider("auth-internal")),new Ub(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),oa(vy,Ey,e),oa(vy,Ey,"esm2017")})();var GS="firebase",QS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(GS,QS,"app");const FS={apiKey:"AIzaSyDN1sTee52txGVYpQwSWgAD7FUr4NNJinQ",authDomain:"summery-23833.firebaseapp.com",projectId:"summery-23833",storageBucket:"summery-23833.firebasestorage.app",messagingSenderId:"123456789",appId:"1:123456789:web:abcdefghijklmnop"},YS=C_(FS),In=xS(YS),KS=({currentView:s,onViewChange:e})=>{const[i,a]=Jt.useState(!1),o=()=>{a(!i)},h=[{id:"channels",label:"チャンネル一覧",icon:"🎵"},{id:"tracking",label:"トラッキング",icon:"📈"},{id:"settings",label:"設定",icon:"⚙️"}];return T.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"flex justify-between items-center h-16",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 mr-8",children:"🎵 YouTube BGMチャンネル分析"}),T.jsx("nav",{className:"flex space-x-1",children:h.map(d=>T.jsxs("button",{onClick:()=>e(d.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s===d.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[T.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.id))})]}),T.jsx("div",{className:"flex items-center space-x-4",children:T.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"ダークモード切り替え",children:"🌗"})})]})})})},XS=({onAddChannel:s})=>{const[e,i]=Jt.useState(""),[a,o]=Jt.useState(!1),h=async d=>{if(d.preventDefault(),!!e.trim()){o(!0);try{await s(e.trim()),i("")}catch(g){console.error("チャンネル追加エラー:",g)}finally{o(!1)}}};return T.jsxs("div",{className:"card mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"チャンネル検索・追加"}),T.jsxs("form",{onSubmit:h,className:"flex gap-4",children:[T.jsx("input",{type:"text",value:e,onChange:d=>i(d.target.value),placeholder:"チャンネルURL または チャンネルID を入力",className:"input-field flex-1",disabled:a}),T.jsx("button",{type:"submit",disabled:a||!e.trim(),className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"分析中..."]}):T.jsx(T.Fragment,{children:"📊 分析追加"})})]})]})},ZS=({filters:s,onFiltersChange:e})=>{const i=h=>{e({...s,sortBy:h})},a=h=>{e({...s,filterBy:h})},o=h=>{e({...s,search:h})};return T.jsx("div",{className:"card mb-8",children:T.jsxs("div",{className:"flex flex-wrap gap-6 items-center",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"並び替え:"}),T.jsxs("select",{value:s.sortBy,onChange:h=>i(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[T.jsx("option",{value:"growth_rate",children:"成長率順"}),T.jsx("option",{value:"subscribers",children:"登録者数順"}),T.jsx("option",{value:"views",children:"再生回数順"}),T.jsx("option",{value:"recent_videos",children:"最新動画数順"}),T.jsx("option",{value:"added_date",children:"追加日順"})]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"フィルター:"}),T.jsxs("select",{value:s.filterBy,onChange:h=>a(h.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[T.jsx("option",{value:"all",children:"全て"}),T.jsx("option",{value:"growing",children:"成長中"}),T.jsx("option",{value:"large",children:"大規模"}),T.jsx("option",{value:"small",children:"小規模"})]})]}),T.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[T.jsx("label",{className:"text-sm font-medium text-gray-700",children:"検索:"}),T.jsx("input",{type:"text",value:s.search,onChange:h=>o(h.target.value),placeholder:"チャンネル名検索...",className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-1 min-w-0"})]})]})})},$S=({channels:s})=>{const e=s.length,i=s.length>0?Math.round(s.reduce((o,h)=>o+(h.growthRate||0),0)/s.length):0,a=s.length>0?s.reduce((o,h)=>(h.growthRate||0)>(o.growthRate||0)?h:o,s[0]):null;return T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:e}),T.jsx("div",{className:"text-sm text-gray-600",children:"追跡チャンネル数"})]}),T.jsxs("div",{className:"stat-card",children:[T.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:[i,"%"]}),T.jsx("div",{className:"text-sm text-gray-600",children:"平均成長率"})]}),T.jsxs("div",{className:"stat-card",children:[T.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",children:a?a.channelTitle:"-"}),T.jsx("div",{className:"text-sm text-gray-600",children:"トップパフォーマー"})]})]})},JS=({channel:s,onChannelClick:e,onAddToTracking:i})=>{const a=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toString(),o=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"}):"-",h=g=>g>=50?"bg-green-100 text-green-800":g>=20?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",d=g=>{if(!g)return!1;const _=g.toDate?g.toDate():new Date(g);return(Date.now()-_.getTime())/(1e3*60*60*24)<=7};return T.jsx("div",{className:"channel-card cursor-pointer",onClick:()=>e(s),children:T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsx("img",{src:s.thumbnailUrl||"/default-avatar.png",alt:s.channelTitle,className:"w-16 h-16 rounded-full object-cover flex-shrink-0",onError:g=>{g.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.channelTitle}),d(s.createdAt)&&T.jsx("span",{className:"inline-block px-2 py-1 text-xs font-bold bg-red-100 text-red-800 rounded-full animate-pulse",children:"NEW!"})]}),T.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[T.jsxs("span",{className:"text-sm text-gray-600",children:[a(s.subscriberCount)," 登録者"]}),T.jsx("span",{className:"text-sm text-gray-500",children:"•"}),T.jsxs("span",{className:"text-sm text-gray-600",children:["開設: ",o(s.publishedAt)]})]}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.keywords&&s.keywords.slice(0,3).map((g,_)=>T.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full",children:g},_))}),s.latestVideo&&T.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[T.jsx("span",{className:"font-medium",children:"最新:"})," ",s.latestVideo.title]}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${h(s.growthRate||0)}`,children:["成長率 ",s.growthRate||0,"%"]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:g=>{g.stopPropagation(),i(s)},className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${s.isTracked?"bg-green-100 text-green-800 border border-green-300":"bg-blue-100 text-blue-800 border border-blue-300 hover:bg-blue-200"}`,disabled:s.isTracked,children:s.isTracked?"追跡中":"追跡に追加"}),T.jsx("button",{onClick:g=>{g.stopPropagation(),window.open(s.channelUrl,"_blank")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"訪問 →"})]})]})]})]})})},WS=({channels:s,onChannelClick:e,onAddToTracking:i})=>s.length===0?T.jsxs("div",{className:"text-center py-16",children:[T.jsx("div",{className:"text-6xl mb-4",children:"📈"}),T.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"まだチャンネルが追加されていません"}),T.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"上記の検索欄からYouTubeチャンネルを追加して分析を開始してください"})]}):T.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(a=>T.jsx(JS,{channel:a,onChannelClick:e,onAddToTracking:i},a.channelId))}),t2=({channel:s,isOpen:e,onClose:i,onRemove:a})=>{if(!e||!s)return null;const o=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toString(),h=g=>g?(g.toDate?g.toDate():new Date(g)).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}):"-",d=()=>{confirm("このチャンネルを追跡リストから削除しますか？")&&(a(s.channelId),i())};return T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:T.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[T.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"チャンネル詳細"}),T.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"×"})]}),T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[T.jsx("img",{src:s.thumbnailUrl||"/default-avatar.png",alt:s.channelTitle,className:"w-24 h-24 rounded-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/96x96/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.channelTitle}),T.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"登録者数:"}),T.jsx("span",{className:"ml-2 font-semibold",children:o(s.subscriberCount)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"総再生回数:"}),T.jsx("span",{className:"ml-2 font-semibold",children:o(s.totalViews||0)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"動画数:"}),T.jsx("span",{className:"ml-2 font-semibold",children:s.videoCount||"-"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"開設日:"}),T.jsx("span",{className:"ml-2 font-semibold",children:h(s.publishedAt)})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-600",children:"初投稿:"}),T.jsx("span",{className:"ml-2 font-semibold",children:h(s.firstVideoDate)})]}),T.jsxs("div",{className:"col-span-2",children:[T.jsx("span",{className:"text-gray-600",children:"成長率:"}),T.jsxs("span",{className:"ml-2 font-semibold text-blue-600",children:[s.growthRate||0,"%"]})]})]})]})]}),s.keywords&&s.keywords.length>0&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-2",children:"タグ"}),T.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.map((g,_)=>T.jsx("span",{className:"inline-block px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full",children:g},_))})]}),s.latestVideo&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"最新動画"}),T.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[T.jsx("h6",{className:"font-medium text-gray-900 mb-1",children:s.latestVideo.title}),T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["投稿日: ",h(s.latestVideo.publishedAt)]}),T.jsx("a",{href:s.latestVideo.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"動画を見る →"})]})]}),s.mostPopularVideo&&T.jsxs("div",{className:"mb-6",children:[T.jsx("h5",{className:"text-sm font-semibold text-gray-900 mb-3",children:"🔥 最も人気の動画"}),T.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-lg p-4 border border-orange-200",children:T.jsxs("div",{className:"flex gap-4",children:[s.mostPopularVideo.thumbnailUrl&&T.jsx("img",{src:s.mostPopularVideo.thumbnailUrl,alt:s.mostPopularVideo.title,className:"w-24 h-18 rounded object-cover flex-shrink-0"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h6",{className:"font-medium text-gray-900 mb-2 line-clamp-2",children:s.mostPopularVideo.title}),T.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-3",children:[T.jsxs("span",{className:"flex items-center gap-1",children:["👁️ ",o(s.mostPopularVideo.viewCount)," 回視聴"]}),s.mostPopularVideo.likeCount>0&&T.jsxs("span",{className:"flex items-center gap-1",children:["👍 ",o(s.mostPopularVideo.likeCount)]}),s.mostPopularVideo.commentCount>0&&T.jsxs("span",{className:"flex items-center gap-1",children:["💬 ",o(s.mostPopularVideo.commentCount)]})]}),T.jsx("a",{href:s.mostPopularVideo.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-red-600 hover:text-red-700 text-sm font-medium",children:"動画を見る →"})]})]})})]})]}),T.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[T.jsx("button",{onClick:()=>window.open(s.channelUrl,"_blank"),className:"btn-primary flex-1",children:"チャンネル訪問"}),T.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-100 text-red-700 font-medium rounded-lg hover:bg-red-200 transition-colors",children:"追跡削除"})]})]})})},e2=()=>{const[s,e]=Jt.useState({youtubeApiKey:"",searchKeywords:["BGM","instrumental","background music","ambient","lo-fi","chill","relaxing","study music"],collectionFrequency:"daily",keywordCount:8,videosPerKeyword:40,maxChannelsPerRun:150,monthsThreshold:3,minSubscribers:1e3,maxSubscribers:5e5,minVideos:5,minGrowthRate:10,bgmKeywords:["BGM","instrumental","background music","ambient","lo-fi","chill","relaxing","study music","meditation","sleep music"],bgmExclusions:["lyrics","歌詞","vocal","sing","rap","talk","podcast"],trackingFrequency:"weekly",trackingRetentionDays:365,theme:"light",defaultSort:"growthRate",itemsPerPage:20,enableApiUsageDisplay:!0,maxDailyApiCalls:1e4}),[i,a]=Jt.useState(!0),[o,h]=Jt.useState(!1),[d,g]=Jt.useState(""),[_,v]=Jt.useState("basic");Jt.useEffect(()=>{A()},[]);const A=async()=>{try{const F=await kS(Ql(In,"settings","app_config"));F.exists()&&e($=>({...$,...F.data()}))}catch(F){console.error("設定の読み込みエラー:",F),g("設定の読み込みに失敗しました")}finally{a(!1)}},N=async()=>{try{h(!0),await nd(Ql(In,"settings","app_config"),s),g("設定を保存しました"),setTimeout(()=>g(""),3e3)}catch(F){console.error("設定の保存エラー:",F),g("設定の保存に失敗しました")}finally{h(!1)}},I=async F=>{try{const $=await va(ya(In,"channels")),_t=await va(ya(In,"tracking_data")),at=$.docs.map(S=>({id:S.id,...S.data()})),At=_t.docs.map(S=>({id:S.id,...S.data()})),M={channels:at,tracking:At,exportedAt:new Date().toISOString()};if(F==="csv"){const S=G(at);tt(S,"youtube-bgm-channels.csv","text/csv")}else{const S=JSON.stringify(M,null,2);tt(S,"youtube-bgm-data.json","application/json")}g(`${F.toUpperCase()}でエクスポートしました`)}catch($){console.error("エクスポートエラー:",$),g("エクスポートに失敗しました")}},G=F=>{const $=["チャンネル名","チャンネルID","登録者数","動画数","成長率(%)","開設日","最初の動画日","キーワード","URL"],_t=F.map(at=>[at.channelTitle||"",at.channelId||"",at.subscriberCount||0,at.videoCount||0,at.growthRate||0,at.publishedAt?new Date(at.publishedAt).toLocaleDateString("ja-JP"):"",at.firstVideoDate?new Date(at.firstVideoDate).toLocaleDateString("ja-JP"):"",(at.keywords||[]).join("; "),at.channelUrl||""]);return[$,..._t].map(at=>at.map(At=>`"${String(At).replace(/"/g,'""')}"`).join(",")).join(`
`)},tt=(F,$,_t)=>{const at=new Blob([F],{type:_t}),At=URL.createObjectURL(at),M=document.createElement("a");M.href=At,M.download=$,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL(At)},rt=F=>{const $=prompt(`新しい${F==="search"?"検索":F==="bgm"?"BGM":"除外"}キーワードを入力してください:`);if($&&$.trim()){const _t=F==="search"?"searchKeywords":F==="bgm"?"bgmKeywords":"bgmExclusions";e(at=>({...at,[_t]:[...at[_t],$.trim()]}))}},J=(F,$)=>{const _t=F==="search"?"searchKeywords":F==="bgm"?"bgmKeywords":"bgmExclusions";e(at=>({...at,[_t]:at[_t].filter((At,M)=>M!==$)}))},bt=[{id:"basic",label:"基本設定",icon:"⚙️"},{id:"collection",label:"収集設定",icon:"🔍"},{id:"filtering",label:"フィルタリング",icon:"📊"},{id:"bgm",label:"BGM判定",icon:"🎵"},{id:"tracking",label:"トラッキング",icon:"📈"},{id:"display",label:"表示設定",icon:"🎨"},{id:"data",label:"データ管理",icon:"💾"},{id:"security",label:"セキュリティ",icon:"🔒"}];return i?T.jsx("div",{className:"flex items-center justify-center min-h-96",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):T.jsx("div",{className:"max-w-6xl mx-auto p-6",children:T.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[T.jsxs("div",{className:"border-b border-gray-200 p-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"設定"}),T.jsx("p",{className:"text-gray-600 mt-1",children:"アプリケーションの動作をカスタマイズできます"}),d&&T.jsx("div",{className:`mt-4 p-3 rounded-md ${d.includes("失敗")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:d})]}),T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:"w-64 border-r border-gray-200 p-4",children:T.jsx("nav",{className:"space-y-1",children:bt.map(F=>T.jsxs("button",{onClick:()=>v(F.id),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${_===F.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[T.jsx("span",{className:"mr-2",children:F.icon}),F.label]},F.id))})}),T.jsxs("div",{className:"flex-1 p-6",children:[_==="basic"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"基本設定"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube API キー"}),T.jsx("input",{type:"password",value:s.youtubeApiKey,onChange:F=>e($=>({...$,youtubeApiKey:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"YouTube Data API v3 キーを入力"}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Google Cloud Consoleで取得したAPIキーを設定してください"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"検索キーワード"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.searchKeywords.map((F,$)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[F,T.jsx("button",{onClick:()=>J("search",$),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},$))}),T.jsx("button",{onClick:()=>rt("search"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ キーワードを追加"})]})]}),_==="collection"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"収集設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"収集頻度"}),T.jsxs("select",{value:s.collectionFrequency,onChange:F=>e($=>({...$,collectionFrequency:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"daily",children:"毎日"}),T.jsx("option",{value:"weekly",children:"毎週"}),T.jsx("option",{value:"monthly",children:"毎月"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用キーワード数"}),T.jsx("input",{type:"number",value:s.keywordCount,onChange:F=>e($=>({...$,keywordCount:parseInt(F.target.value)||8})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1",max:"20"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"キーワードあたり動画数"}),T.jsx("input",{type:"number",value:s.videosPerKeyword,onChange:F=>e($=>({...$,videosPerKeyword:parseInt(F.target.value)||40})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"10",max:"100"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大チャンネル処理数"}),T.jsx("input",{type:"number",value:s.maxChannelsPerRun,onChange:F=>e($=>({...$,maxChannelsPerRun:parseInt(F.target.value)||150})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"50",max:"500"})]})]})]}),_==="filtering"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"フィルタリング設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"チャンネル作成期間（ヶ月）"}),T.jsx("input",{type:"number",value:s.monthsThreshold,onChange:F=>e($=>({...$,monthsThreshold:parseInt(F.target.value)||3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1",max:"12"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小登録者数"}),T.jsx("input",{type:"number",value:s.minSubscribers,onChange:F=>e($=>({...$,minSubscribers:parseInt(F.target.value)||1e3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"100"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大登録者数"}),T.jsx("input",{type:"number",value:s.maxSubscribers,onChange:F=>e($=>({...$,maxSubscribers:parseInt(F.target.value)||5e5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1000"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小動画数"}),T.jsx("input",{type:"number",value:s.minVideos,onChange:F=>e($=>({...$,minVideos:parseInt(F.target.value)||5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最小成長率（%）"}),T.jsx("input",{type:"number",value:s.minGrowthRate,onChange:F=>e($=>({...$,minGrowthRate:parseInt(F.target.value)||10})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"0"})]})]})]}),_==="bgm"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"BGM判定設定"}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BGM関連キーワード"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.bgmKeywords.map((F,$)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:[F,T.jsx("button",{onClick:()=>J("bgm",$),className:"ml-1 text-green-600 hover:text-green-800",children:"×"})]},$))}),T.jsx("button",{onClick:()=>rt("bgm"),className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"+ キーワードを追加"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"除外キーワード"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.bgmExclusions.map((F,$)=>T.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-800 text-sm rounded-full",children:[F,T.jsx("button",{onClick:()=>J("exclusion",$),className:"ml-1 text-red-600 hover:text-red-800",children:"×"})]},$))}),T.jsx("button",{onClick:()=>rt("exclusion"),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"+ キーワードを追加"})]})]}),_==="tracking"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"トラッキング設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"トラッキング頻度"}),T.jsxs("select",{value:s.trackingFrequency,onChange:F=>e($=>({...$,trackingFrequency:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"daily",children:"毎日"}),T.jsx("option",{value:"weekly",children:"毎週"}),T.jsx("option",{value:"monthly",children:"毎月"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ保持期間（日）"}),T.jsx("input",{type:"number",value:s.trackingRetentionDays,onChange:F=>e($=>({...$,trackingRetentionDays:parseInt(F.target.value)||365})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"30",max:"1095"})]})]})]}),_==="display"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"表示設定"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),T.jsxs("select",{value:s.theme,onChange:F=>e($=>({...$,theme:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"light",children:"ライト"}),T.jsx("option",{value:"dark",children:"ダーク"}),T.jsx("option",{value:"auto",children:"自動"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"デフォルト並び順"}),T.jsxs("select",{value:s.defaultSort,onChange:F=>e($=>({...$,defaultSort:F.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:"growthRate",children:"成長率順"}),T.jsx("option",{value:"subscriberCount",children:"登録者数順"}),T.jsx("option",{value:"publishedAt",children:"新着順"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1ページの表示件数"}),T.jsxs("select",{value:s.itemsPerPage,onChange:F=>e($=>({...$,itemsPerPage:parseInt(F.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[T.jsx("option",{value:10,children:"10件"}),T.jsx("option",{value:20,children:"20件"}),T.jsx("option",{value:50,children:"50件"}),T.jsx("option",{value:100,children:"100件"})]})]})]})]}),_==="data"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"データ管理"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[T.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データエクスポート"}),T.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"収集したチャンネルデータとトラッキングデータをエクスポートできます"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>I("csv"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"CSV形式でエクスポート"}),T.jsx("button",{onClick:()=>I("json"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"JSON形式でエクスポート"})]})]}),T.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[T.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"データバックアップ"}),T.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"定期的にデータのバックアップを作成することをお勧めします"}),T.jsx("button",{onClick:()=>I("json"),className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"今すぐバックアップ"})]})]})]}),_==="security"&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"セキュリティ設定"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"checkbox",checked:s.enableApiUsageDisplay,onChange:F=>e($=>({...$,enableApiUsageDisplay:F.target.checked})),className:"mr-2"}),T.jsx("span",{className:"text-sm font-medium text-gray-700",children:"API使用量の表示"})]}),T.jsx("p",{className:"text-sm text-gray-500 ml-6",children:"YouTube API使用量をダッシュボードに表示します"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"1日のAPI呼び出し制限"}),T.jsx("input",{type:"number",value:s.maxDailyApiCalls,onChange:F=>e($=>({...$,maxDailyApiCalls:parseInt(F.target.value)||1e4})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",min:"1000",max:"1000000"}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"YouTube APIの1日あたりのクォータ制限を設定"})]})]})]}),T.jsx("div",{className:"flex justify-end mt-8 pt-6 border-t border-gray-200",children:T.jsx("button",{onClick:N,disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:o?"保存中...":"設定を保存"})})]})]})]})})},Of=({trackingData:s,title:e})=>{var o,h,d,g,_;if(!s||s.length===0)return T.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),T.jsx("div",{className:"text-center py-8 text-gray-500",children:"トラッキングデータがありません"})]});const i=Math.max(...s.map(v=>v.value)),a=Math.min(...s.map(v=>v.value));return T.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e}),T.jsx("div",{className:"mb-4",children:T.jsx("div",{className:"flex items-end h-32 gap-2",children:s.map((v,A)=>{const N=(v.value-a)/(i-a)*100,I=A===s.length-1;return T.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[T.jsx("div",{className:"w-full bg-gray-100 rounded-t",children:T.jsx("div",{className:`w-full rounded-t transition-all duration-300 ${I?"bg-blue-500":"bg-blue-300"}`,style:{height:`${Math.max(N,5)}%`}})}),T.jsx("div",{className:"text-xs text-gray-600 mt-1 text-center",children:new Date(v.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})})]},A)})})}),T.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center border-t pt-4",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-gray-600",children:"最新"}),T.jsx("div",{className:"text-lg font-semibold text-blue-600",children:(o=s[s.length-1])==null?void 0:o.value.toLocaleString()})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-gray-600",children:"最高"}),T.jsx("div",{className:"text-lg font-semibold text-green-600",children:i.toLocaleString()})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-sm text-gray-600",children:"成長"}),T.jsx("div",{className:`text-lg font-semibold ${s.length>1?((h=s[s.length-1])==null?void 0:h.value)>((d=s[0])==null?void 0:d.value)?"text-green-600":"text-red-600":"text-gray-600"}`,children:s.length>1?`${((((g=s[s.length-1])==null?void 0:g.value)/((_=s[0])==null?void 0:_.value)-1)*100).toFixed(1)}%`:"N/A"})]})]})]})},n2=({selectedChannelId:s})=>{const[e,i]=Jt.useState({subscriberCount:[],videoCount:[],totalViews:[]}),[a,o]=Jt.useState(!0),[h,d]=Jt.useState([]);Jt.useEffect(()=>{g()},[]),Jt.useEffect(()=>{s&&_(s)},[s]);const g=async()=>{try{const N=(await va(p_(ya(In,"tracked_channels"),y_("isActive","==",!0),__("addedAt","desc")))).docs.map(I=>({id:I.id,...I.data()}));d(N)}catch(A){console.error("追跡チャンネル一覧の取得エラー:",A)}},_=async A=>{try{o(!0);const I=(await va(p_(ya(In,"tracking_data"),y_("channelId","==",A),__("recordedAt","asc")))).docs.map(J=>J.data()),G=I.map(J=>({date:J.recordedAt.toDate(),value:J.subscriberCount})),tt=I.map(J=>({date:J.recordedAt.toDate(),value:J.videoCount})),rt=I.map(J=>({date:J.recordedAt.toDate(),value:J.totalViews}));i({subscriberCount:G,videoCount:tt,totalViews:rt})}catch(N){console.error("トラッキングデータの取得エラー:",N)}finally{o(!1)}};if(a&&s)return T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"トラッキングデータを読み込み中..."})]});if(!s)return T.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-6xl mb-4",children:"📊"}),T.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"チャンネルを選択してください"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"追跡中のチャンネルから1つを選択すると、成長データを表示します"}),h.length>0&&T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(A=>T.jsx("div",{onClick:()=>_(A.channelId),className:"cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:A.thumbnailUrl||"/default-avatar.png",alt:A.channelTitle,className:"w-12 h-12 rounded-full object-cover",onError:N=>{N.target.src="https://via.placeholder.com/48x48/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{className:"text-left",children:[T.jsx("h4",{className:"font-medium text-gray-900 truncate",children:A.channelTitle}),T.jsxs("p",{className:"text-sm text-gray-600",children:["追跡開始: ",new Date(A.addedAt.toDate()).toLocaleDateString("ja-JP")]})]})]})},A.id))}),h.length===0&&T.jsxs("p",{className:"text-gray-500",children:["まだ追跡中のチャンネルがありません。",T.jsx("br",{}),"チャンネル一覧から「追跡に追加」ボタンを押してチャンネルを追跡しましょう。"]})]})});const v=h.find(A=>A.channelId===s);return T.jsxs("div",{className:"space-y-6",children:[v&&T.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("img",{src:v.thumbnailUrl||"/default-avatar.png",alt:v.channelTitle,className:"w-16 h-16 rounded-full object-cover",onError:A=>{A.target.src="https://via.placeholder.com/64x64/e5e7eb/9ca3af?text=🎵"}}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:v.channelTitle}),T.jsxs("p",{className:"text-gray-600",children:["追跡開始: ",new Date(v.addedAt.toDate()).toLocaleDateString("ja-JP")]})]})]})}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[T.jsx(Of,{trackingData:e.subscriberCount,title:"📈 登録者数の推移"}),T.jsx(Of,{trackingData:e.videoCount,title:"🎥 動画数の推移"}),T.jsx(Of,{trackingData:e.totalViews,title:"👁️ 総再生回数の推移"})]})]})};function i2(){const[s,e]=Jt.useState([]),[i,a]=Jt.useState([]),[o,h]=Jt.useState(!0),[d,g]=Jt.useState(null),[_,v]=Jt.useState(null),[A,N]=Jt.useState(new Set),[I,G]=Jt.useState("channels"),[tt,rt]=Jt.useState(null),[J,bt]=Jt.useState({sortBy:"growth_rate",filterBy:"all",search:""});Jt.useEffect(()=>{F(),$()},[]),Jt.useEffect(()=>{_t()},[s,J,A]);const F=async()=>{try{h(!0);const V=(await va(ya(In,"bgm_channels"))).docs.map(x=>({id:x.id,...x.data()}));e(V)}catch(w){console.error("チャンネルデータの読み込みエラー:",w)}finally{h(!1)}},$=async()=>{try{const w=await va(ya(In,"tracked_channels")),V=new Set(w.docs.filter(x=>x.data().isActive).map(x=>x.id));N(V)}catch(w){console.error("追跡チャンネルデータの読み込みエラー:",w)}},_t=()=>{let w=s.map(V=>({...V,isTracked:A.has(V.channelId)}));switch(J.search&&(w=w.filter(V=>V.channelTitle.toLowerCase().includes(J.search.toLowerCase()))),J.filterBy){case"growing":w=w.filter(V=>(V.growthRate||0)>20);break;case"large":w=w.filter(V=>V.subscriberCount>1e5);break;case"small":w=w.filter(V=>V.subscriberCount<1e4);break}switch(J.sortBy){case"growth_rate":w.sort((V,x)=>(x.growthRate||0)-(V.growthRate||0));break;case"subscribers":w.sort((V,x)=>x.subscriberCount-V.subscriberCount);break;case"views":w.sort((V,x)=>(x.totalViews||0)-(V.totalViews||0));break;case"added_date":w.sort((V,x)=>{var H,it,ct,It;const _e=((it=(H=V.createdAt)==null?void 0:H.toDate)==null?void 0:it.call(H))||new Date(V.createdAt);return(((It=(ct=x.createdAt)==null?void 0:ct.toDate)==null?void 0:It.call(ct))||new Date(x.createdAt))-_e});break}a(w)},at=async w=>{console.log("チャンネル追加:",w),await F()},At=async w=>{try{await qS(Ql(In,"bgm_channels",w)),await F()}catch(V){console.error("チャンネル削除エラー:",V)}},M=async w=>{try{if(A.has(w.channelId))return;await nd(Ql(In,"tracked_channels",w.channelId),{channelId:w.channelId,channelTitle:w.channelTitle,channelUrl:w.channelUrl,thumbnailUrl:w.thumbnailUrl,addedAt:new Date,isActive:!0}),await nd(Ql(In,"tracking_data",`${w.channelId}_${new Date().toISOString().split("T")[0]}`),{channelId:w.channelId,subscriberCount:w.subscriberCount,videoCount:w.videoCount,totalViews:w.totalViews,recordedAt:new Date}),N(V=>new Set([...V,w.channelId])),console.log(`✅ Added to tracking: ${w.channelTitle}`)}catch(V){console.error("追跡追加エラー:",V)}},S=async w=>{g(w),v(null),v({...w,mostPopularVideo:{title:"最も人気の動画（取得中...）",viewCount:0,thumbnailUrl:"",url:""}})},C=()=>{g(null),v(null)};if(o)return T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"チャンネルデータを読み込み中..."})]})});const j=()=>{switch(I){case"settings":return T.jsx(e2,{});case"tracking":return T.jsx(n2,{selectedChannelId:tt});default:return T.jsxs(T.Fragment,{children:[T.jsx(XS,{onAddChannel:at}),T.jsx(ZS,{filters:J,onFiltersChange:bt}),T.jsx($S,{channels:i}),T.jsx(WS,{channels:i,onChannelClick:S,onAddToTracking:M})]})}};return T.jsxs("div",{className:"min-h-screen bg-gray-50",children:[T.jsx(KS,{currentView:I,onViewChange:G}),T.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:j()}),T.jsx(t2,{channel:_||d,isOpen:!!d,onClose:C,onRemove:At})]})}YE.createRoot(document.getElementById("root")).render(T.jsx(Jt.StrictMode,{children:T.jsx(i2,{})}));
