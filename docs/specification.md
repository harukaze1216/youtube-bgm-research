# 📄 BGM系YouTubeチャンネル発掘Webアプリ 仕様書

## 1. 🎯 概要・目的

本アプリは、**新規に開設されたBGM系YouTubeチャンネルの中から、急成長しているものを発掘・一覧表示するWebアプリケーション**である。
ターゲットは、以下のような用途でチャンネルを探す人々：

* コラボ先・参考チャンネルを探しているクリエイター
* 新しいBGMを探しているリスナー
* 急成長の傾向を知りたい研究者・アナリスト

## 2. ✅ 機能要件

### 2.1. データ取得

* BGM系のキーワードでYouTube動画を検索
* 動画の投稿者（チャンネル）の情報を取得
* 以下の条件に一致するチャンネルを抽出：
  * チャンネルの**初動画日または作成日が3か月以内**
  * **登録者数が1000人以上**

### 2.2. データ保存

* フィルタ済みのチャンネルデータをFirebase Firestoreに保存
* 1チャンネル1ドキュメント形式
* 重複チェック：チャンネルIDで一意に管理

### 2.3. Web表示（フロントエンド）

* 登録者数・初投稿日などで並び替え可能な一覧表示
* BGMジャンル別の簡易フィルタ（例：lofi／jazz／睡眠など）
* チャンネル名／登録者数／初動画日／人気動画タイトル・URLなどを表示

## 3. 🗃️ データ仕様

### 3.1. 使用キーワード（動画検索時）

| カテゴリ  | キーワード例                                                                        |
| ----- | ----------------------------------------------------------------------------- |
| ジャンル  | `lofi`, `chill music`, `jazz BGM`, `ambient music`, `piano BGM`               |
| 利用シーン | `study music`, `sleep music`, `relaxing BGM`, `coffee shop music`, `work BGM` |

> 最大20キーワードをループ処理して毎日検索することを想定

### 3.2. Firestoreコレクション：`bgm_channels`

| フィールド名            | 型         | 説明                    |
| ----------------- | --------- | --------------------- |
| `channelId`       | string    | YouTubeチャンネルID        |
| `channelTitle`    | string    | チャンネル名                |
| `subscriberCount` | number    | 登録者数（整数）              |
| `firstVideoDate`  | timestamp | 最初の動画の投稿日             |
| `createdAt`       | timestamp | Firestoreへの登録日時       |
| `channelUrl`      | string    | チャンネルURL              |
| `thumbnailUrl`    | string    | アイコン画像URL             |
| `keywords`        | string\[] | 抽出に使われたキーワードのうち該当したもの |
| `latestVideo`     | object    | 最新動画の情報（下記）           |

**latestVideo 構造：**

```typescript
{
  title: string
  url: string
  publishedAt: timestamp
}
```

## 4. ⚙️ システム構成

### 4.1. フロントエンド（表示）

| 項目           | 内容                     |
| ------------ | ---------------------- |
| 技術           | React + Vite           |
| デザイン         | Tailwind CSS（予定）       |
| デプロイ先        | GitHub Pages           |
| Firebase SDK | Firebase JS SDK（v9）を使用 |

### 4.2. バックエンド（データ収集）

| 項目     | 内容                                                   |
| ------ | ---------------------------------------------------- |
| 言語     | Node.js                                              |
| 処理内容   | キーワード検索 → チャンネルID抽出 → チャンネル情報取得 → フィルタ → Firestore保存 |
| スケジュール | ローカルまたはGitHub Actionsによる定期実行予定（1日1回など）               |

### 4.3. 外部API

| 種別                   | 使用目的         | キー情報                                      |
| -------------------- | ------------ | ----------------------------------------- |
| YouTube Data API v3  | 動画／チャンネル情報取得 | `AIzaSyDN1sTee52txGVYpQwSWgAD7FUr4NNJinQ` |
| Firebase (Firestore) | データ保存・読み込み   | `summery-23833` プロジェクト                    |

## 5. 🔮 今後の発展アイデア（任意）

| 機能           | 説明                                       |
| ------------ | ---------------------------------------- |
| AIによるジャンル分類  | GPT APIなどを使って動画タイトルや説明文から「睡眠系」「カフェ系」など分類 |
| 成長率スコア表示     | 「3か月で◯人増加」などを表示するランキング機能                 |
| LINE通知連携     | 「今週伸びたBGMチャンネルTOP5」などを通知                 |
| お気に入りチャンネル保存 | ユーザーが気になったチャンネルを保存（匿名 or ログイン式）          |